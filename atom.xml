<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>rovo98&#39;s Blog</title>
  
  <subtitle>Leave your comfort zone!</subtitle>
  <link href="http://rovo98.github.io/atom.xml" rel="self"/>
  
  <link href="http://rovo98.github.io/"/>
  <updated>2022-04-02T15:08:14.147Z</updated>
  <id>http://rovo98.github.io/</id>
  
  <author>
    <name>rovo98</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>fcitx5-rime å°é¹¤éŸ³å½¢éšè—æ‰“å­—å€™é€‰çª—</title>
    <link href="http://rovo98.github.io/posts/a0c2ec7f/"/>
    <id>http://rovo98.github.io/posts/a0c2ec7f/</id>
    <published>2022-04-01T14:50:00.000Z</published>
    <updated>2022-04-02T15:08:14.147Z</updated>
    
    <content type="html"><![CDATA[<p>å¯¹äºä½¿ç”¨å°é¹¤éŸ³å½¢çš„ç”¨æˆ·æ¥è¯´ï¼Œé™¤ä½¿ç”¨é€šé…ç¬¦ã€æŸ¥çœ‹éƒ¨ä»¶ã€å°å­—è¿™å‡ ç§å¸¸ç”¨æƒ…å†µå¤–ï¼Œæ‰“å­—æ—¶çš„å€™é€‰çª—é€šå¸¸æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚å¯¹äº Android å’Œ Windows ç³»ç»Ÿï¼Œå°é¹¤éŸ³å½¢å®˜ç½‘æä¾›äº†ä»–ä»¬çš„è¾“å…¥æ³•è½¯ä»¶ï¼Œä½¿ç”¨æˆ·åœ¨éšè—æ‰“å­—å€™é€‰çª—çš„æƒ…å†µä¸‹ï¼Œå½“ç”¨æˆ·ä½¿ç”¨é€šé…ç¬¦æˆ–æŸ¥çœ‹éƒ¨ä»¶åŠå­—æ ¹æ—¶ï¼Œå€™é€‰çª—åˆ™ä¼šè‡ªåŠ¨æ˜¾ç¤ºå‡ºæ¥ã€‚<br />å¯¹äºå…¶ä»–å¹³å°(Linuxæˆ–Mac)çš„å°é¹¤éŸ³å½¢ç”¨æˆ·ï¼Œä¸€èˆ¬æ˜¯å€ŸåŠ© rime æ¥å®ç°å°é¹¤éŸ³å½¢çš„æŒ‚æ¥ï¼Œæ­¤æ—¶è¦éšè—å€™é€‰çª—ä¾¿è¦ rime åŠå…¶ç›¸åº”çš„è¾“å…¥æ³•æ¡†æ¶æä¾›æ”¯æŒã€‚æœ¬æ–‡å°†ä»¥ <strong>fcitx5-rime</strong> ä¸ºä¾‹ä»‹ç»å¦‚ä½•å¿«é€Ÿåœ°éšè—å’Œå¼€å¯æ‰“å­—å€™é€‰çª—ã€‚</p>  <span id="more"></span><h2 id="1-å‰è¨€"><a class="markdownIt-Anchor" href="#1-å‰è¨€"></a> 1ã€å‰è¨€</h2><p>ä¹‹å‰åœ¨ã€Œ<a href="/posts/2f1de6fa/">fcitx5-rime æŒ‚æ¥å°é¹¤éŸ³å½¢</a> ã€æ–‡ä¸­ä¾¿æœ‰å¯¹fcitx5-rime å°é¹¤éŸ³å½¢çš„ä½¿ç”¨è¿›è¡Œè¿‡ä»‹ç»ï¼Œæ–‡æœ«å½“æ—¶è¯´äº†ã€Œä¸å¤ªå¥½é…ç½®éšè—å€™é€‰çª—ã€ï¼Œè¿™å€’æ˜¯çœŸçš„ã€‚åœ¨ä½¿ç”¨ fcitx5 ä¹‹å‰ï¼Œæˆ‘ç”¨çš„æ˜¯ fcitx(fcitx4)ï¼Œæˆ‘ä¹Ÿä¸å¤ªè®°å¾— fcitx4-configtool èƒ½å¦å¯¹æ‰“å­—å€™é€‰çª—è¿›è¡Œé…ç½®äº†ï¼Œå”¯ä¸€èƒ½ç¡®å®šçš„æ˜¯ï¼Œå€™é€‰çª—ä¸»é¢˜è‰²æ˜¯èƒ½é…ç½®çš„ã€‚åœ¨æˆ‘ä½¿ç”¨å°é¹¤éŸ³å½¢ä¸€æ®µæ—¶é—´åï¼Œç‰¹åˆ«æ˜¯æŠŠ Windows åŠ Android ç³»ç»Ÿä¸‹å°é¹¤éŸ³å½¢è¾“å…¥æ³•é…ç½®æˆéšè—æ‰“å­—å€™é€‰çª—åï¼Œæˆ‘ä¾¿å¼€å§‹äº†æŠŠæˆ‘ç¬”è®°æœ¬ Manjaro é‡Œçš„ rime å°é¹¤éŸ³å½¢ä¹Ÿéšè—å€™é€‰çª—çš„æƒ³æ³•ã€‚ç„¶ååœ¨ç½‘ä¸Šæœç´¢äº†ç›¸å…³å…³é”®å­—åï¼Œå‘ç°æœ‰äººå±…ç„¶æ˜¯é€šè¿‡å°†å€™é€‰çª—èƒŒæ™¯ç­‰é…è‰²è°ƒé€æ˜æ¥å®ç°çš„ï¼Œç»è¿‡ä¸€ç•ªæ€ç´¢åï¼Œä¸”ä¸è¯´æ–¹æ¡ˆåœ¨ Linux ä¸‹ fcitx5-rime ä¸­èƒ½å¦å¯è¡Œï¼Œæˆ‘è§‰å¾—å®ƒå¹¶ä¸é€‚åˆæˆ‘ã€‚å³ä¾¿ä¸å¥½åšåˆ°å¦‚åŒå°é¹¤éŸ³å½¢å®˜ç½‘æä¾›çš„è¾“å…¥æ³•é‚£èˆ¬ï¼Œä½†ä¹Ÿæœ€å¥½è¦åšåˆ°èƒ½å¿«é€Ÿè¿›è¡Œå€™é€‰çª—å¼€å…³åˆ‡æ¢ï¼Œå› æ­¤ä¾¿æœ‰äº†æœ¬æ–‡çš„æ–¹æ³•ğŸ¤”ã€‚</p><h2 id="2-fcitx5-éšè—å€™é€‰çª—å®ç°æ€è·¯"><a class="markdownIt-Anchor" href="#2-fcitx5-éšè—å€™é€‰çª—å®ç°æ€è·¯"></a> 2ã€fcitx5 éšè—å€™é€‰çª—å®ç°æ€è·¯</h2><p>ä» <code>fcitx5-configtool</code> ä¸­ï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥é…ç½®æ’ä»¶çš„(Configure addons)ï¼Œä¸éš¾å‘ç°ï¼ŒUI ä¸‹çš„ <strong>Classic User Interface</strong> ä¾¿ç”¨äºé…ç½®ç¨‹åºçš„ç”¨æˆ·ç•Œé¢çš„ï¼Œå¦‚æ›´æ”¹ä¸»é¢˜è‰²ç­‰ï¼Œå½“ç„¶ä¹Ÿç›´æ¥é€‰æ‹©å°†è¯¥æ’ä»¶å…³é—­æˆ–æ‰“å¼€ï¼Œä»è€Œå®ç°è¾“å…¥æ³•å€™é€‰çª—çš„å¼€å…³ã€‚<br />å› æ­¤ï¼Œæˆ‘å…ˆæ˜¯åœ¨ <code>fcitx5-configtool</code> å¯ç”¨å’Œç¦ç”¨ <strong>Classic User Interface</strong> ï¼Œç„¶åè§‚å¯Ÿ fcitx5 çš„é…ç½®æ–‡ä»¶(ä½äº <code>./config/fcitx5</code>)å˜åŒ–æƒ…å†µï¼Œå‘ç°å½“ç¦ç”¨ <strong>Classic User Interface</strong> æ’ä»¶æ—¶ï¼Œ<code>./config/fcitx5/config</code> é…ç½®æ–‡ä»¶ä¸­å¢åŠ äº†ä»¥ä¸‹é…ç½®ï¼š</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Behavior/DisabledAddons]</span><br><span class="line">0=classicui</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆè¯¥æ’ä»¶çš„åç§°ä¾¿æ˜¯ <code>classicui</code>ï¼Œå†æ ¹æ® <code>fcitx5 --help</code>:</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Usage: fcitx5 [Option]</span><br><span class="line">  --disable &lt;addon names&gt;       A comma separated list of addons to be disabled.</span><br><span class="line">                                &quot;all&quot; can be used to disable all addons.</span><br><span class="line">  --enable &lt;addon names&gt;        A comma separated list of addons to be enabled.</span><br><span class="line">                                &quot;all&quot; can be used to enable all addons.</span><br><span class="line">                                This value will override the value in the flag --disable.</span><br><span class="line">  --verbose &lt;logging rule&gt;      Set the logging rule for displaying message.</span><br><span class="line">                                Syntax: category1=level1,category2=level2, ...</span><br><span class="line">                                E.g. default=4,key_trace=5</span><br><span class="line">                                Levels are numbers ranging from 0 to 5.</span><br><span class="line">                                        0 - NoLog</span><br><span class="line">                                        1 - Fatal</span><br><span class="line">                                        2 - Error</span><br><span class="line">                                        3 - Warn</span><br><span class="line">                                        4 - Info (default)</span><br><span class="line">                                        5 - Debug</span><br><span class="line">                                Some built-in categories are:</span><br><span class="line">                                        default - miscellaneous category used by fcitx own library.</span><br><span class="line">                                        key_trace - print the key event received by fcitx.</span><br><span class="line">                                        &quot;*&quot; may be used to represent all logging category.</span><br><span class="line">  -u, --ui &lt;addon name&gt;         Set the UI addon to be used.</span><br><span class="line">  -d                            Run as a daemon.</span><br><span class="line">  -D                            Do not run as a daemon (default).</span><br><span class="line">  -s &lt;seconds&gt;                  Number of seconds to wait before start.</span><br><span class="line">  -k, --keep                    Keep running even the main display is disconnected.</span><br><span class="line">  -r, --replace                 Replace the existing instance.</span><br><span class="line">  -v, --version                 Show version and quit.</span><br><span class="line">  -h, --help                    Show this help message and quit.</span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ä¸€ä¸ªæ–‡æœ¬é…ç½®æ–‡ä»¶è®°å½•å½“å‰æ‰“å­—å€™é€‰çª—ç¦ç”¨çŠ¶æ€(0æœªç¦ç”¨/1å·²ç¦ç”¨)ï¼Œç»“åˆ <code>fcitx5 --enable/--disable classicui -r</code> æ¥å¿«é€Ÿåœ°å¯ç”¨æˆ–ç¦ç”¨æ‰“å­—å€™é€‰çª—ã€‚</p><h2 id="3-æœ€å"><a class="markdownIt-Anchor" href="#3-æœ€å"></a> 3ã€æœ€å</h2><p>åŸºäºä»¥ä¸Šæ€è·¯ï¼Œæˆ‘ç®€å•åœ°å†™äº†ä¸€ä¸ªè„šæœ¬ï¼Œå¯è‡³ ã€Œ<a href="https://github.com/rovo98/fcitx5-classicui-switcher">fcitx5-classicui-switcher</a> ã€è¿›è¡Œå®‰è£…åŠä½¿ç”¨ï¼Œæ›´å¤šå®šåˆ¶åŒ–åŠŸèƒ½ä¹Ÿå¯è‡ªè¡Œä¿®æ”¹ã€‚é‡‡ç”¨æˆ‘çš„å®ç°æ–¹æ¡ˆï¼Œæ•ˆæœå¤§è‡´å¦‚ä¸‹ï¼š<br /><img data-src="fcitx5-hidden-typing-windows-demo.gif" alt="" /></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å¯¹äºä½¿ç”¨å°é¹¤éŸ³å½¢çš„ç”¨æˆ·æ¥è¯´ï¼Œé™¤ä½¿ç”¨é€šé…ç¬¦ã€æŸ¥çœ‹éƒ¨ä»¶ã€å°å­—è¿™å‡ ç§å¸¸ç”¨æƒ…å†µå¤–ï¼Œæ‰“å­—æ—¶çš„å€™é€‰çª—é€šå¸¸æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚å¯¹äº Android å’Œ Windows ç³»ç»Ÿï¼Œå°é¹¤éŸ³å½¢å®˜ç½‘æä¾›äº†ä»–ä»¬çš„è¾“å…¥æ³•è½¯ä»¶ï¼Œä½¿ç”¨æˆ·åœ¨éšè—æ‰“å­—å€™é€‰çª—çš„æƒ…å†µä¸‹ï¼Œå½“ç”¨æˆ·ä½¿ç”¨é€šé…ç¬¦æˆ–æŸ¥çœ‹éƒ¨ä»¶åŠå­—æ ¹æ—¶ï¼Œå€™é€‰çª—åˆ™ä¼šè‡ªåŠ¨æ˜¾ç¤ºå‡ºæ¥ã€‚&lt;br /&gt;
å¯¹äºå…¶ä»–å¹³å°(Linuxæˆ–Mac)çš„å°é¹¤éŸ³å½¢ç”¨æˆ·ï¼Œä¸€èˆ¬æ˜¯å€ŸåŠ© rime æ¥å®ç°å°é¹¤éŸ³å½¢çš„æŒ‚æ¥ï¼Œæ­¤æ—¶è¦éšè—å€™é€‰çª—ä¾¿è¦ rime åŠå…¶ç›¸åº”çš„è¾“å…¥æ³•æ¡†æ¶æä¾›æ”¯æŒã€‚æœ¬æ–‡å°†ä»¥ &lt;strong&gt;fcitx5-rime&lt;/strong&gt; ä¸ºä¾‹ä»‹ç»å¦‚ä½•å¿«é€Ÿåœ°éšè—å’Œå¼€å¯æ‰“å­—å€™é€‰çª—ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Linux" scheme="http://rovo98.github.io/categories/Linux/"/>
    
    
    <category term="software" scheme="http://rovo98.github.io/tags/software/"/>
    
  </entry>
  
  <entry>
    <title>æµ…è°ˆ Java SPI åŠå…¶åº”ç”¨ - ä»¥ Flink connector-jdbc Dialect æ‰©å±•ä¸ºä¾‹</title>
    <link href="http://rovo98.github.io/posts/6910d276/"/>
    <id>http://rovo98.github.io/posts/6910d276/</id>
    <published>2021-04-10T12:20:00.000Z</published>
    <updated>2022-05-29T06:46:56.525Z</updated>
    
    <content type="html"><![CDATA[<p>SPI (Service Provider Interface) å³æœåŠ¡æä¾›è€…æ¥å£ï¼Œä¸»è¦ç”¨äºåˆ›å»ºå¯æ‰©å±•çš„åº”ç”¨ç¨‹åºã€‚å¯æ‰©å±•åº”ç”¨ç¨‹åºï¼ˆextensible applicationï¼‰æ˜¯æŒ‡åœ¨ä¸ä¿®æ”¹åŸåº”ç”¨ä»£ç çš„æƒ…å†µä¸‹ï¼Œèƒ½é€šè¿‡é›†æˆæ–°æ’ä»¶æˆ–æ¨¡å—è¿›è¡Œæ‰©å±•çš„åº”ç”¨ç¨‹åºã€‚</p><span id="more"></span><p>ä¸€èˆ¬åœ°ï¼Œå¼€å‘è€…ã€è½¯ä»¶æä¾›å•†æˆ–ç”¨æˆ·å¯é€šè¿‡åœ¨åº”ç”¨ classpath æˆ–åº”ç”¨ç‰¹å®šæ‰©å±•ç›®å½•ä¸‹æ·»åŠ  JAR</p><p>åŒ…æ¥ä¸ºåº”ç”¨æä¾›æ–°åŠŸèƒ½æˆ– API (Application programming interfaces)ã€‚</p><blockquote><p>e.g.  <a href="https://docs.oracle.com/javase/tutorial/ext/basics/spi.html#dictionary-service-example">Dictionary Service Example</a></p><p>å¯æ‰©å±•åº”ç”¨ç¨‹åºçš„ä¸€ä¸ªä¾‹å­ï¼šWord processor æ–‡å­—å¤„ç†å™¨ï¼Œå…è®¸ç»ˆç«¯ç”¨æˆ·æ·»åŠ æ–°çš„å­—å…¸ï¼ˆdictionaryï¼‰æˆ–æ‹¼å†™æ£€æŸ¥å™¨ï¼ˆspelling checkerï¼‰ã€‚æ­¤æ—¶ï¼Œæ–‡å­—å¤„ç†å™¨éœ€è¦å®šä¹‰å­—å…¸ä»¥åŠæ‹¼å†™æ£€æŸ¥å™¨ç‰¹æ€§çš„æ¥å£ï¼Œä»¥ä¾›å…¶ä»–å¼€å‘äººå‘˜æˆ–ç”¨æˆ·å¯¹è¯¥æ¥å£è¿›è¡Œå®ç°ã€‚</p></blockquote><p>å…³äºå¯æ‰©å±•åº”ç”¨ç¨‹åºçš„ä¸€äº›é‡è¦æœ¯è¯­åŠå®šä¹‰ï¼š</p><ol><li><p>Service (æœåŠ¡)ï¼š æä¾›æŸäº›åº”ç”¨åŠŸèƒ½æˆ–ç‰¹æ€§çš„ç¼–ç¨‹æ¥å£æˆ–ç±»ã€‚æœåŠ¡å¯å®šä¹‰åŠŸèƒ½çš„æ¥å£ä»¥åŠæ£€ç´¢å…¶å®ç°çš„æ–¹å¼ã€‚</p></li><li><p>Service provider interface (SPI): ä¸€ä¸ªæœåŠ¡å®šä¹‰çš„ä¸€ç»„å…¬å…±æ¥å£ï¼ˆpublic interfacesï¼‰åŠæŠ½è±¡ç±»ã€‚</p></li><li><p>Service Provider (æœåŠ¡æä¾›è€…)ï¼šè´Ÿè´£å®ç° SPIã€‚</p></li></ol><blockquote><p>åœ¨ä¸Šé¢æ–‡å­—å¤„ç†å™¨çš„ä¾‹å­ä¸­ï¼Œä¸€ä¸ªå­—å…¸æœåŠ¡å¯ä»¥å®šä¹‰æ£€ç´¢å­—å…¸çš„æ–¹å¼ä»¥åŠå®šä¹‰è¯è¯­ï¼Œä½†å®ƒå¹¶ä¸è´Ÿè´£å…·ä½“å®ç°ã€‚å®ƒéœ€è¦ä¾èµ–äºç›¸åº”çš„ Service Provider æ¥æä¾›å®ç°ã€‚</p></blockquote><h3 id="serviceloader-class"><a class="markdownIt-Anchor" href="#serviceloader-class"></a> ServiceLoader Class</h3><p><code>java.util.ServiceLoader</code> å¯ç”¨äºå‘ç°ã€åŠ è½½ä»¥åŠä½¿ç”¨ Service providersã€‚å®ƒå¯ä»åº”ç”¨ç±»è·¯å¾„æˆ–è¿è¡Œæ—¶ç¯å¢ƒæ‰©å±•ç›®å½•ä¸‹åŠ è½½æœåŠ¡æä¾›è€…ï¼ˆService providerï¼‰ã€‚å› æ­¤ï¼Œåœ¨å°†æ–°æœåŠ¡æä¾›è€…æ·»åŠ åˆ°ç±»è·¯å¾„æˆ–è¿è¡Œæ—¶ç¯å¢ƒæ‰©å±•ç›®å½•ä¸‹åï¼Œä¾¿å¯ä½¿ç”¨ <code>ServiceLoader</code> æ¥åŠ è½½å®ƒä»¬ï¼Œè·å–ç‰¹å®š SPI çš„æ‰€æœ‰å®ç°ï¼Œæˆ‘ä»¬ä¾¿èƒ½åœ¨æœåŠ¡ ï¼ˆServiceï¼‰ä¸­æ ¹æ®éœ€è¦è·å–ä¸€ä¸ªç‰¹å®šçš„å®ç°æ¥ä½¿ç”¨ã€‚</p><p>åœ¨ <code>ServiceLoader</code> ä¸­ï¼ŒProviders æ ¹æ®éœ€è¦è¿›è¡ŒåŠ è½½ä»¥åŠåˆå§‹åŒ–ï¼Œ<code>ServiceLoader</code> ä¼šç»´æŠ¤ä¸€ä¸ªå­˜å‚¨å·²åŠ è½½ providers çš„ç¼“å­˜ã€‚æ¯æ¬¡è°ƒç”¨ <code>ServiceLoader.iterator()</code> æ–¹å¼æ—¶ï¼Œéƒ½ä¼šä¼˜å…ˆè¿”å›ä¸€ä¸ªæºå¸¦æ‰€æœ‰å·²ç¼“å­˜ providers çš„ iteratorï¼Œéå†å®Œå·²ç¼“å­˜ providers åï¼Œæ‰ä¼šé‡æ–°å»åŠ è½½ç›¸åº”çš„ providersã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥äººä¸ºåœ°è°ƒç”¨ <code>reload()</code> æ–¹æ³•æ¥æ¸…é™¤ç¼“å­˜ï¼Œå¹¶é‡æ–°åŠ è½½ providersã€‚</p><h4 id="1-serviceloader-çš„åŸºæœ¬ä½¿ç”¨"><a class="markdownIt-Anchor" href="#1-serviceloader-çš„åŸºæœ¬ä½¿ç”¨"></a> 1. ServiceLoader çš„åŸºæœ¬ä½¿ç”¨</h4><p>ä¸ºç‰¹å®š SPI åˆ›å»ºä¸€ä¸ª <code>ServiceLoader</code>ï¼Œå¯é€šè¿‡ <code>load()</code> æˆ– <code>loadInstalled()</code> æ–¹æ³•åŠ è½½ providersã€‚å…¶ä¸­ï¼Œ<code>load()</code> æ–¹æ³•é€šè¿‡ <code>ThreadContextClassLoader</code> ï¼ˆçº¿ç¨‹ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ï¼‰æ¥è¿›è¡ŒåŠ è½½ï¼Œè€Œ <code>loadInstalled()</code> åˆ™ä½¿ç”¨ <code>ExtClassLoader</code> ï¼ˆæ‰©å±•ç±»åŠ è½½å™¨ï¼‰æ¥åŠ è½½é»˜è®¤è¿è¡Œæ—¶ç¯å¢ƒç›®å½• <code>jre/lib/ext</code> ä¸‹çš„ providersã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šé»˜è®¤çš„ ClassLoader æˆ–è‡ªå®šä¹‰çš„ ClassLoaderã€‚</p><p>Java SPI æœºåˆ¶çš„ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li>å®šä¹‰ Service æœåŠ¡åŠ Service Provider æœåŠ¡æä¾›è€…æ¥å£ï¼›</li><li>åˆ›å»ºå…·ä½“æœåŠ¡æä¾›è€…æ¥å£å®ç°ç±»ï¼›</li><li>åˆ›å»ºæˆ–é…ç½®æœåŠ¡æä¾›è€…æ³¨å†Œæ–‡ä»¶ (<code>META-INF/services</code> ç›®å½•ä¸‹)</li><li>ä½¿ç”¨ <code>ServiceLoader.load()</code> åˆ›å»º <code>ServiceLoader</code> å®ä¾‹ï¼Œç„¶åè°ƒç”¨ <code>iterator()</code> å®ç°ç›¸å…³æœåŠ¡æä¾›è€…å®ç°çš„æ‡’åŠ è½½ï¼›</li></ol><h4 id="2-serviceloader-å·¥ä½œåŸç†"><a class="markdownIt-Anchor" href="#2-serviceloader-å·¥ä½œåŸç†"></a> 2. ServiceLoader å·¥ä½œåŸç†</h4><p>æˆ‘ä»¬å¯ä»¥ä» <code>ServiceLoader</code> ä½¿ç”¨æ¥åˆ†æå…¶å·¥ä½œåŸç†ã€‚</p><ol><li>ä½¿ç”¨ <code>load()</code>, <code>loadInstalled()</code> æ¥åˆ›å»º <code>ServiceLoader</code> å®ä¾‹:</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// Creates a new service loader for the given service type and class loader.</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;S&gt; <span class="function">ServiceLoader&lt;S&gt; <span class="title">load</span><span class="params">(Class&lt;S&gt; service,</span></span></span><br><span class="line"><span class="params"><span class="function">                                        ClassLoader loader)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ServiceLoader&lt;&gt;(service, loader);</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="comment">// Creates a new service loader for the given service type, using the current</span></span><br><span class="line"><span class="comment">// thread&#x27;s context class loader.</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;S&gt; <span class="function">ServiceLoader&lt;S&gt; <span class="title">load</span><span class="params">(Class&lt;S&gt; service)</span> </span>&#123;</span><br><span class="line">    ClassLoader cl = Thread.currentThread().getContextClassLoader();</span><br><span class="line">    <span class="keyword">return</span> ServiceLoader.load(service, cl);</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="comment">// Creates a new service loader for the given service type, using the extension</span></span><br><span class="line"><span class="comment">// class loader.</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;S&gt; <span class="function">ServiceLoader&lt;S&gt; <span class="title">loadInstalled</span><span class="params">(Class&lt;S&gt; service)</span> </span>&#123;</span><br><span class="line">    ClassLoader cl = ClassLoader.getSystemClassLoader();</span><br><span class="line">    ClassLoader prev = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span> (cl != <span class="keyword">null</span>) &#123;</span><br><span class="line">        prev = cl;</span><br><span class="line">        cl = cl.getParent();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ServiceLoader.load(service, prev);</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><ol start="2"><li>è·å¾— <code>ServiceLoader</code> å®ä¾‹åï¼Œä¾¿èƒ½é€šè¿‡è°ƒç”¨å…¶ <code>iterator()</code> æ–¹æ³•æ¥è·å–æ‰€æœ‰åŠ è½½åˆ°çš„ service providersã€‚</li><li><code>ServiceLoader</code> å®ä¾‹å·¥ä½œåŸç†ï¼Œä»å…¶æ„é€ æ–¹æ³•åŠæˆå‘˜å˜é‡å¯ä»¥çœ‹å‡ºï¼Œå½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª <code>ServiceLoader</code> å®ä¾‹æ—¶ï¼Œå®ƒä¼šç»´æŠ¤ä¸€ä¸ªæ‡’åŠ è½½çš„æœåŠ¡æŸ¥æ‰¾ Iterator <code>lookupIterator</code> ï¼Œç”¨äºç”¨æˆ·è°ƒç”¨ <code>iterator()</code> æ–¹æ³•æ—¶ä½¿ç”¨ï¼š</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">ServiceLoader</span>&lt;<span class="title">S</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">S</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœåŠ¡æä¾›è€…å®ç°æ³¨å†Œæ–‡ä»¶è·¯å¾„å‰ç¼€</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String PREFIX = <span class="string">&quot;META-INF/services/&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// The class or interface representing the service being loaded</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Class&lt;S&gt; service;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// The class loader used to locate, load, and instantiate providers</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ClassLoader loader;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// The access control context taken when the ServiceLoader is created</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> AccessControlContext acc;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Cached providers, in instantiation order</span></span><br><span class="line">    <span class="comment">// ç¼“å­˜çš„æœåŠ¡æä¾›è€…å®ç° mapï¼Œ&lt;class qualifier name, ServiceT&gt; </span></span><br><span class="line">    <span class="keyword">private</span> LinkedHashMap&lt;String,S&gt; providers = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// The current lazy-lookup iterator</span></span><br><span class="line">    <span class="keyword">private</span> LazyIterator lookupIterator;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Clear this loader&#x27;s provider cache so that all providers will be</span></span><br><span class="line"><span class="comment">     * reloaded.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * &lt;p&gt; After invoking this method, subsequent invocations of the &#123;<span class="doctag">@link</span></span></span><br><span class="line"><span class="comment">     * #iterator() iterator&#125; method will lazily look up and instantiate</span></span><br><span class="line"><span class="comment">     * providers from scratch, just as is done by a newly-created loader.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * &lt;p&gt; This method is intended for use in situations in which new providers</span></span><br><span class="line"><span class="comment">     * can be installed into a running Java virtual machine.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">// æˆ‘ä»¬è¿˜å¯ä»¥æ˜¾å¼åœ°è°ƒç”¨è¯¥ reload æ–¹æ³•æ¥é‡æ–°åŠ è½½æœåŠ¡æä¾›è€…å®ç°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reload</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        providers.clear();</span><br><span class="line">        lookupIterator = <span class="keyword">new</span> LazyIterator(service, loader);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">ServiceLoader</span><span class="params">(Class&lt;S&gt; svc, ClassLoader cl)</span> </span>&#123;</span><br><span class="line">        service = Objects.requireNonNull(svc, <span class="string">&quot;Service interface cannot be null&quot;</span>);</span><br><span class="line">        loader = (cl == <span class="keyword">null</span>) ? ClassLoader.getSystemClassLoader() : cl;</span><br><span class="line">        acc = (System.getSecurityManager() != <span class="keyword">null</span>) ? AccessController.getContext() : <span class="keyword">null</span>;</span><br><span class="line">        reload();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">......   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li><code>iterator()</code> æ–¹æ³•åŠ <code>LazyIterator</code> :</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ª iteratorï¼Œä¼˜å…ˆä»ç¼“å­˜çš„æœåŠ¡æä¾›è€…å®ç°è·å–</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Iterator&lt;S&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Iterator&lt;S&gt;() &#123;</span><br><span class="line"></span><br><span class="line">        Iterator&lt;Map.Entry&lt;String,S&gt;&gt; knownProviders</span><br><span class="line">            = providers.entrySet().iterator();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (knownProviders.hasNext())</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">return</span> lookupIterator.hasNext();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> S <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (knownProviders.hasNext())</span><br><span class="line">                <span class="keyword">return</span> knownProviders.next().getValue();</span><br><span class="line">            <span class="keyword">return</span> lookupIterator.next();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line">......</span><br><span class="line"><span class="comment">// Private inner class implementing fully-lazy provider lookup</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">LazyIterator</span></span></span><br><span class="line"><span class="class">        <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">S</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">    Class&lt;S&gt; service;</span><br><span class="line">    ClassLoader loader;</span><br><span class="line">    Enumeration&lt;URL&gt; configs = <span class="keyword">null</span>;</span><br><span class="line">    Iterator&lt;String&gt; pending = <span class="keyword">null</span>;</span><br><span class="line">    String nextName = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazyIterator</span><span class="params">(Class&lt;S&gt; service, ClassLoader loader)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.service = service;</span><br><span class="line">        <span class="keyword">this</span>.loader = loader;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦è¿˜æœ‰æœåŠ¡æä¾›è€…å®ç°</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">hasNextService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nextName != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨ ExtClassLoader æˆ–</span></span><br><span class="line">        <span class="comment">// ç»™å®š classloader (e.g. Thread.currentThread().getContextClassLoader()) </span></span><br><span class="line">        <span class="comment">// åŠ è½½æœåŠ¡æ³¨å†Œé…ç½®æ–‡ä»¶ (e.g. META-INF/services/com.rovo98.service.Engine)</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (configs == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                String fullName = PREFIX + service.getName();</span><br><span class="line">                <span class="keyword">if</span> (loader == <span class="keyword">null</span>)</span><br><span class="line">                    configs = ClassLoader.getSystemResources(fullName);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    configs = loader.getResources(fullName);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException x) &#123;</span><br><span class="line">                fail(service, <span class="string">&quot;Error locating configuration files&quot;</span>, x);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> ((pending == <span class="keyword">null</span>) || !pending.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!configs.hasMoreElements()) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å°†æœåŠ¡æ³¨å†Œé…ç½®æ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œè§£æ</span></span><br><span class="line">            <span class="comment">// - éªŒè¯é…ç½®æ–‡ä»¶è¯­æ³•æ˜¯å¦æ­£ç¡®</span></span><br><span class="line">            <span class="comment">// - éªŒè¯ provider-class åç§°æ˜¯å¦åˆæ³•</span></span><br><span class="line">            <span class="comment">// - ä»…åŠ è½½ä¸é‡å¤ä¸”ä¸åœ¨å·²ç¼“å­˜çš„æœåŠ¡æä¾›è€…å®ç°çš„</span></span><br><span class="line">            <span class="comment">//   ç±»å…¨ç§°é™å®šå(qualifier name)</span></span><br><span class="line">            pending = parse(service, configs.nextElement());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¾…åŠ è½½æœåŠ¡æä¾›è€…å®ç°ç±»å…¨ç§°é™å®šå</span></span><br><span class="line">        nextName = pending.next();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> S <span class="title">nextService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!hasNextService())</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</span><br><span class="line">        String cn = nextName;</span><br><span class="line">        nextName = <span class="keyword">null</span>;</span><br><span class="line">        Class&lt;?&gt; c = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// æ ¹æ®ç±»å…¨ç§°é™å®šåå’Œç»™å®š classloader åŠ è½½ç±»</span></span><br><span class="line">            c = Class.forName(cn, <span class="keyword">false</span>, loader);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException x) &#123;</span><br><span class="line">            fail(service,</span><br><span class="line">                 <span class="string">&quot;Provider &quot;</span> + cn + <span class="string">&quot; not found&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!service.isAssignableFrom(c)) &#123;</span><br><span class="line">            fail(service,</span><br><span class="line">                 <span class="string">&quot;Provider &quot;</span> + cn  + <span class="string">&quot; not a subtype&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            S p = service.cast(c.newInstance());</span><br><span class="line">            <span class="comment">// åŠ è½½åçš„æœåŠ¡æä¾›è€…å®ç°æ·»åŠ è‡³ç¼“å­˜ä¸­</span></span><br><span class="line">            providers.put(cn, p);</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable x) &#123;</span><br><span class="line">            fail(service,</span><br><span class="line">                 <span class="string">&quot;Provider &quot;</span> + cn + <span class="string">&quot; could not be instantiated&quot;</span>,</span><br><span class="line">                 x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Error();          <span class="comment">// This cannot happen</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (acc == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> hasNextService();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            PrivilegedAction&lt;Boolean&gt; action = <span class="keyword">new</span> PrivilegedAction&lt;Boolean&gt;() &#123;</span><br><span class="line">                <span class="function"><span class="keyword">public</span> Boolean <span class="title">run</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> hasNextService(); &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="keyword">return</span> AccessController.doPrivileged(action, acc);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> S <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (acc == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> nextService();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            PrivilegedAction&lt;S&gt; action = <span class="keyword">new</span> PrivilegedAction&lt;S&gt;() &#123;</span><br><span class="line">                <span class="function"><span class="keyword">public</span> S <span class="title">run</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> nextService(); &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="keyword">return</span> AccessController.doPrivileged(action, acc);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">......</span><br></pre></td></tr></table></figure><h3 id="spi-å®è·µæ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#spi-å®è·µæ¡ˆä¾‹"></a> SPI å®è·µæ¡ˆä¾‹</h3><p>æœ€è¿‘ï¼Œæˆ‘åœ¨å·¥ä½œä¸­ä½¿ç”¨ Flink æ—¶ï¼Œç”¨åˆ°äº† flink-connector-jdbcï¼ˆåœ¨é¡¹ç›®ç”¨çš„ <strong>Flink 1.9</strong> ç‰ˆæœ¬ä¸­ï¼Œä¸º flink-jdbcï¼‰ï¼Œç”¨äºæµæ•°æ®å¤„ç†å®Œæˆåï¼Œsink åˆ° Oracle ä¸­ã€‚ä½†äº†è§£ Flink çš„äººï¼Œåº”è¯¥çŸ¥é“ï¼ŒFlink å®˜æ–¹ç›®å‰ï¼ˆæœ€æ–°ç‰ˆæœ¬ 1.12ï¼‰æ‰€æä¾›çš„ flink-connector-jdbc ä»ä»…æ”¯æŒ MySQLã€PostgreSQL ä»¥åŠ Derby çš„é©±åŠ¨ã€‚æ­¤æ—¶æ‘†åœ¨æˆ‘é¢å‰æœ‰å‡ ç§è§£å†³æ–¹æ¡ˆï¼š</p><ol><li><p>åŸºäº <code>RichSinkFunction</code> ä»¥åŠ JDBC å®ç°æ‰¹é‡æ•°æ®æ’å…¥æˆ–æ›´æ–°ï¼Œä»¥ç¡®ä¿æµæ•°æ®åœ¨è¾¾åˆ°ä¸€å®šé‡æˆ–ç»è¿‡ä¸€å®šæ—¶é—´åï¼Œèƒ½æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­ï¼›</p></li><li><p>æ‰¾å¯» Flink çœ‹æ˜¯å¦æœ‰æä¾›èƒ½ä½¿ç”¨çš„ API æˆ–ç±»å®ç°ï¼›</p></li><li><p>å¯»æ‰¾ Flink jdbc connector çš„æ‰©å±•ç‚¹ã€‚</p></li></ol><p>åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥é¿å…é‡å¤é€ è½®å­ï¼Œå› æ­¤ï¼Œæˆ‘é€‰æ‹©ä¼˜å…ˆæŸ¥çœ‹ Flink 1.9 æ˜¯å¦æœ‰æä¾›ç›¸åº”å¯ç”¨çš„ APIã€‚æœä¸å…¶ç„¶ï¼Œæ‰¾åˆ°äº† <code>JDBCUpsertOutputFormat</code> ï¼Œè¯¥ JDBC è¾“å‡ºæ ¼å¼èƒ½å¤ŸæŒ‡å®š <code>flushInterval</code> ä»¥åŠ <code>batchSize</code>ï¼Œå¯æ§åˆ¶æµæ•°æ®å†™å…¥æ•°æ®åº“æ—¶çš„æ‰¹é‡å¤§å°ï¼Œä»¥åŠåˆ·æ–°æ—¶é—´ï¼ˆå³ç»ä¸€å®šæ—¶é—´åï¼Œå°†å·²ç¼“å­˜æ•°æ®å†™å…¥æ•°æ®åº“ï¼Œä¸ç®¡æ˜¯å¦è¾¾åˆ° <code>batchSize</code>ï¼‰ã€‚<code>JDBCUpsertTableSink</code> ä½¿ç”¨ <code>JDBCUpsertOutputFormat</code>ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä½¿ç”¨ <code>StreamTableEnvironment</code> çš„ <code>registerTableSink()</code> æ–¹æ³•æ¥æ³¨å†Œä¸€ä¸ª <code>JDBCUpsertTableSink</code>ï¼Œä¹‹åä¾¿èƒ½é€šè¿‡ sql api å‘è¯¥å·²æ³¨å†Œçš„è¡¨æ’å…¥æ•°æ®ï¼Œä»¥ sink åˆ°ç›¸åº”çš„æ•°æ®åº“ä¸­ã€‚ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">tableEnv.registerTableSink(<span class="string">&quot;registered_tbl_name&quot;</span>, JDBCUpsertTableSink.builder()</span><br><span class="line">                          .setOptions(...)</span><br><span class="line">                          .setTableSchema(...)</span><br><span class="line">                          .setFlushMaxSize(<span class="number">10_000</span>)</span><br><span class="line">                          .setFlushIntervalMills(<span class="number">10000</span>)</span><br><span class="line">                          .setMaxRetryTimes(<span class="number">3</span>)</span><br><span class="line">                          .build());</span><br><span class="line">tableEnv.fromDataStream(<span class="string">&quot;processed_records&quot;</span>);</span><br><span class="line">tableEnv.sqlUpdate(<span class="string">&quot;insert into reigstered_tbl_name</span></span><br><span class="line"><span class="string">                   select a_xxx, b_xxx from processed_records&quot;</span>);</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šä¾‹ä¸­ï¼Œç”±äº <code>setOptions()</code> éœ€è¦æŒ‡å®š <code>JDBCOptions</code> ï¼Œè€Œè¯¥ <code>JDBCOptions</code> åŒ…å«ç»´æŒä¸€ä¸ª <code>JDBCDialect</code>ï¼Œç›®å‰å®˜æ–¹ä»…æä¾› MySQLã€PostgreSQL åŠ Derby çš„ dialectã€‚å› æ­¤æˆ‘ä»¬éœ€è¦åœ¨æ„å»º <code>JDBCOptions</code> æ—¶ï¼Œæ˜¾å¼åœ°æŒ‡å®šç›®æ ‡ <code>JDBCDialect</code>ã€‚ä»¥ <code>OracleDialect</code> ä¸ºä¾‹ï¼Œæˆ‘ä»¬éœ€è¦å®ç° <code>JDBCDialect</code> æ¥å£ï¼Œä»¥ä¾¿èƒ½åœ¨æ„å»º <code>JDBOptions</code> æ—¶ä½¿ç”¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// OracleDialect.java</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Oracle dialect implementation for flink 1.9 jdbc.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ref: https://issues.apache.org/jira/browse/FLINK-14078</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> rovo98</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OracleDialect</span> <span class="keyword">implements</span> <span class="title">JDBCDialect</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canHandle</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> url.startsWith(<span class="string">&quot;jdbc:oracle:&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Optional&lt;String&gt; <span class="title">defaultDriverName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Optional.of(<span class="string">&quot;oracle.jdbc.OracleDriver&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">quoteIdentifier</span><span class="params">(String identifier)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// if we use double-quotes identifier then Oracle becomes case-sensitive</span></span><br><span class="line">        <span class="keyword">return</span> identifier;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">FIXME:</span> this implementation is not been well tested</span></span><br><span class="line">    <span class="comment">// maybe provides canHandle and quoteIdentifier methods can meet the minimum requirements.</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Optional&lt;String&gt; <span class="title">getUpsertStatement</span><span class="params">(String tableName, String[] fieldNames, String[] uniqueKeyFields)</span> </span>&#123;</span><br><span class="line">        String sourceFieldValues = Arrays.stream(fieldNames)</span><br><span class="line">                .map(f -&gt; <span class="string">&quot;? &quot;</span> + quoteIdentifier(f))</span><br><span class="line">                .collect(Collectors.joining(<span class="string">&quot;, &quot;</span>));</span><br><span class="line">        String sourceSelect = <span class="string">&quot;SELECT &quot;</span> + sourceFieldValues + <span class="string">&quot; FROM DUAL&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> Optional.of(getMergeIntoStatement(tableName, fieldNames, uniqueKeyFields, sourceSelect));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMergeIntoStatement</span><span class="params">(String tableName, String[] fieldNames, String[] uniqueKeyFields, String sourceSelect)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> Set&lt;String&gt; uniqueKeyFieldsSet = Arrays.stream(uniqueKeyFields).collect(Collectors.toSet());</span><br><span class="line">        String onClause = Arrays.stream(uniqueKeyFields)</span><br><span class="line">                .map(f -&gt; <span class="string">&quot;t.&quot;</span> + quoteIdentifier(f) + <span class="string">&quot;=s.&quot;</span> + quoteIdentifier(f))</span><br><span class="line">                .collect(Collectors.joining(<span class="string">&quot;, &quot;</span>));</span><br><span class="line">        String updateClause = Arrays.stream(fieldNames)</span><br><span class="line">                .filter(f -&gt; !uniqueKeyFieldsSet.contains(f))</span><br><span class="line">                .map(f -&gt; <span class="string">&quot;t.&quot;</span> + quoteIdentifier(f) + <span class="string">&quot;s.&quot;</span> + quoteIdentifier(f))</span><br><span class="line">                .collect(Collectors.joining(<span class="string">&quot;, &quot;</span>));</span><br><span class="line">        String insertValueClause = Arrays.stream(fieldNames)</span><br><span class="line">                .map(f -&gt; <span class="string">&quot;s.&quot;</span> + quoteIdentifier(f))</span><br><span class="line">                .collect(Collectors.joining(<span class="string">&quot;, &quot;</span>));</span><br><span class="line">        String columns = Arrays.stream(fieldNames)</span><br><span class="line">                .map(<span class="keyword">this</span>::quoteIdentifier)</span><br><span class="line">                .collect(Collectors.joining(<span class="string">&quot;, &quot;</span>));</span><br><span class="line">        <span class="comment">// if we can&#x27;t divide schema and table-name is risky to call quoteIdentifier(tableName)</span></span><br><span class="line">        <span class="comment">// for example in SQL-server [tbo].[sometable] is ok but [tbo.sometable] is not</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;MERGE INTO &quot;</span> + tableName + <span class="string">&quot; t &quot;</span> +</span><br><span class="line">                <span class="string">&quot;USING (&quot;</span> + sourceSelect + <span class="string">&quot;) s&quot;</span> +</span><br><span class="line">                <span class="string">&quot;ON (&quot;</span> + onClause + <span class="string">&quot;)&quot;</span> +</span><br><span class="line">                <span class="string">&quot; WHEN MATCHED THEN UPDATE SET &quot;</span> + updateClause +</span><br><span class="line">                <span class="string">&quot; WHEN NOT MATCHED THEN INSERT (&quot;</span> + columns + <span class="string">&quot;) VALUES (&quot;</span> + insertValueClause + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ˜¾å¼åœ°ä½¿ç”¨ OracleDialect</span></span><br><span class="line">...</span><br><span class="line">JDBCOptions.builder()</span><br><span class="line">    .setDBUrl(url)</span><br><span class="line">    .setPassword(password)</span><br><span class="line">    .setDriverName(drivername)</span><br><span class="line">    .setUsername(username)</span><br><span class="line">    .setTableName(tblName)</span><br><span class="line">    .setDialect(<span class="keyword">new</span> OracleDialect())</span><br><span class="line">    .build(); </span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šç¤ºä¾‹ä»£ç ä½“ç°äº†è§£å†³æ–¹æ¡ˆ 2ã€‚æ€»ä½“æ„Ÿè§‰è¿˜ä¸å¤Ÿä¼˜é›…ã€‚æ¯•ç«Ÿ Flink è¿˜å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰ TableFactoryï¼Œå®ç°è‡ªå®šä¹‰çš„ <code>TableSource</code> ä»¥åŠ <code>TableSink</code>ã€‚</p><p>ä¸ºäº†åœ¨ flink 1.9 æä¾›çš„ jdbc connector åŸºç¡€ä¸Šæ‰©å±•å…¶æ”¯æŒçš„ JDBCDialectï¼Œæˆ‘ Flink 1.9 jdbc åŒ…æä¾› api åšäº†ä»¥ä¸‹ä¿®æ”¹ï¼š</p><ul><li>å°† <code>JDBCDialect</code> æ¥å£ä½œä¸º SPIï¼Œå¹¶åˆ›å»ºä¸€ä¸ªç›¸åº”çš„æœåŠ¡ (Service) - <code>JDBCDialectService</code>ï¼Œç”¨äºå‘ç°å’ŒåŠ è½½ <code>JDBCDialect</code> çš„ä¾›åº”è€…ï¼ˆprovidersï¼‰ï¼›</li><li>å¯¹åŸæœ‰æä¾›çš„ <code>JDBCTableSourceSinkFactory</code>ã€<code>JDBCValidator</code> è¿›è¡Œç®€å•ä¿®æ”¹ï¼Œè®©ä»–ä»¬ä½¿ç”¨ <code>JDBCDialectService</code> æ¥æ ¹æ®ç»™å®š <code>jdbcUrl</code> çš„æ ¼å¼ï¼ˆå¦‚ï¼š <code>jdbc:oracle:xx</code>ï¼‰æ¥è·å–ç›¸åº”çš„ <code>JDBCDialect</code>ã€‚</li></ul><p>å…·ä½“ç›¸å…³ä¿®æ”¹å¦‚ä¸‹ï¼š</p><ol><li><code>JDBCDialectService.java</code></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * util class for finding  JDBC dialects</span></span><br><span class="line"><span class="comment"> * - extended from JDBCDialects provided by flink 1.9 - see &#123;<span class="doctag">@link</span> JDBCDialects&#125;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> rovo98</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDBCDialectService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">JDBCDialectService</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> List&lt;JDBCDialect&gt; DIALECTS = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// find and load JDBCDialects through SPI.</span></span><br><span class="line">        ClassLoader cl = Thread.currentThread().getContextClassLoader();</span><br><span class="line">        Iterator&lt;JDBCDialect&gt; jdbcDialectIterator = ServiceLoader.load(JDBCDialect.class, cl)</span><br><span class="line">                .iterator();</span><br><span class="line">        jdbcDialectIterator.forEachRemaining(DIALECTS::add);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Fetch the JDBCDialect class corresponding to a given database url.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Optional&lt;JDBCDialect&gt; <span class="title">get</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> DIALECTS.stream()</span><br><span class="line">                .filter(e -&gt; e.canHandle(url))</span><br><span class="line">                .findFirst();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><code>CustomizedJDBCTableSourceSinkFactory.java</code></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * A modified version of &#123;<span class="doctag">@link</span> JDBCTableSourceSinkFactory&#125;.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> rovo98</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomizedJDBCTableSourceSinkFactory</span> <span class="keyword">implements</span></span></span><br><span class="line"><span class="class">        <span class="title">StreamTableSourceFactory</span>&lt;<span class="title">Row</span>&gt;,</span></span><br><span class="line"><span class="class">        <span class="title">StreamTableSinkFactory</span>&lt;<span class="title">Tuple2</span>&lt;<span class="title">Boolean</span>, <span class="title">Row</span>&gt;&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, String&gt; <span class="title">requiredContext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Map&lt;String, String&gt; context = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        context.put(CONNECTOR_TYPE, <span class="string">&quot;extended-jdbc&quot;</span>); <span class="comment">// jdbc with other dialects supported</span></span><br><span class="line">        context.put(CONNECTOR_PROPERTY_VERSION, <span class="string">&quot;1&quot;</span>); <span class="comment">// backwards compatibility</span></span><br><span class="line">        <span class="keyword">return</span> context;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">supportedProperties</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; properties = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// common options</span></span><br><span class="line">        properties.add(CONNECTOR_DRIVER);</span><br><span class="line">        properties.add(CONNECTOR_URL);</span><br><span class="line">        properties.add(CONNECTOR_TABLE);</span><br><span class="line">        properties.add(CONNECTOR_USERNAME);</span><br><span class="line">        properties.add(CONNECTOR_PASSWORD);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// scan options</span></span><br><span class="line">        properties.add(CONNECTOR_READ_PARTITION_COLUMN);</span><br><span class="line">        properties.add(CONNECTOR_READ_PARTITION_NUM);</span><br><span class="line">        properties.add(CONNECTOR_READ_PARTITION_LOWER_BOUND);</span><br><span class="line">        properties.add(CONNECTOR_READ_PARTITION_UPPER_BOUND);</span><br><span class="line">        properties.add(CONNECTOR_READ_FETCH_SIZE);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// lookup options</span></span><br><span class="line">        properties.add(CONNECTOR_LOOKUP_CACHE_MAX_ROWS);</span><br><span class="line">        properties.add(CONNECTOR_LOOKUP_CACHE_TTL);</span><br><span class="line">        properties.add(CONNECTOR_LOOKUP_MAX_RETRIES);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// sink options</span></span><br><span class="line">        properties.add(CONNECTOR_WRITE_FLUSH_MAX_ROWS);</span><br><span class="line">        properties.add(CONNECTOR_WRITE_FLUSH_INTERVAL);</span><br><span class="line">        properties.add(CONNECTOR_WRITE_MAX_RETRIES);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// schema</span></span><br><span class="line">        properties.add(SCHEMA + <span class="string">&quot;.#.&quot;</span> + SCHEMA_TYPE);</span><br><span class="line">        properties.add(SCHEMA + <span class="string">&quot;.#.&quot;</span> + SCHEMA_NAME);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> properties;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> StreamTableSource&lt;Row&gt; <span class="title">createStreamTableSource</span><span class="params">(Map&lt;String, String&gt; properties)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> DescriptorProperties descriptorProperties = getValidatedProperties(properties);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> JDBCTableSource.builder()</span><br><span class="line">                .setOptions(getJDBCOptions(descriptorProperties))</span><br><span class="line">                .setReadOptions(getJDBCReadOptions(descriptorProperties))</span><br><span class="line">                .setLookupOptions(getJDBCLookupOptions(descriptorProperties))</span><br><span class="line">                .setSchema(descriptorProperties.getTableSchema(SCHEMA))</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> StreamTableSink&lt;Tuple2&lt;Boolean, Row&gt;&gt; createStreamTableSink(Map&lt;String, String&gt; properties) &#123;</span><br><span class="line">        <span class="keyword">final</span> DescriptorProperties descriptorProperties = getValidatedProperties(properties);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> JDBCUpsertTableSink.Builder builder = JDBCUpsertTableSink.builder()</span><br><span class="line">                .setOptions(getJDBCOptions(descriptorProperties))</span><br><span class="line">                .setTableSchema(descriptorProperties.getTableSchema(SCHEMA));</span><br><span class="line"></span><br><span class="line">        descriptorProperties.getOptionalInt(CONNECTOR_WRITE_FLUSH_MAX_ROWS).ifPresent(builder::setFlushMaxSize);</span><br><span class="line">        descriptorProperties.getOptionalDuration(CONNECTOR_WRITE_FLUSH_INTERVAL).ifPresent(</span><br><span class="line">                s -&gt; builder.setFlushIntervalMills(s.toMillis()));</span><br><span class="line">        descriptorProperties.getOptionalInt(CONNECTOR_WRITE_MAX_RETRIES).ifPresent(builder::setMaxRetryTimes);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> builder.build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> DescriptorProperties <span class="title">getValidatedProperties</span><span class="params">(Map&lt;String, String&gt; properties)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> DescriptorProperties descriptorProperties = <span class="keyword">new</span> DescriptorProperties(<span class="keyword">true</span>);</span><br><span class="line">        descriptorProperties.putProperties(properties);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> SchemaValidator(<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">false</span>).validate(descriptorProperties);</span><br><span class="line">        <span class="comment">// disabling the JDBCValidator provided by flink 1.9</span></span><br><span class="line">        <span class="comment">// using our own JDBCValidator, a modified version of original</span></span><br><span class="line">        <span class="keyword">new</span> CustomizedJDBCValidator().validate(descriptorProperties);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> descriptorProperties;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> JDBCOptions <span class="title">getJDBCOptions</span><span class="params">(DescriptorProperties descriptorProperties)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> String url = descriptorProperties.getString(CONNECTOR_URL);</span><br><span class="line">        <span class="keyword">final</span> JDBCOptions.Builder builder = JDBCOptions.builder()</span><br><span class="line">                .setDBUrl(url)</span><br><span class="line">                .setTableName(descriptorProperties.getString(CONNECTOR_TABLE))</span><br><span class="line">                <span class="comment">// using customized JDBCDialects to set the specified dialect.</span></span><br><span class="line">                <span class="comment">// ä½¿ç”¨è‡ªå®šä¹‰çš„ JDBCDialectSerice æ¥åŠ è½½ JDBCDialect</span></span><br><span class="line">                .setDialect(JDBCDialectService.get(url).get());</span><br><span class="line"></span><br><span class="line">        descriptorProperties.getOptionalString(CONNECTOR_DRIVER).ifPresent(builder::setDriverName);</span><br><span class="line">        descriptorProperties.getOptionalString(CONNECTOR_USERNAME).ifPresent(builder::setUsername);</span><br><span class="line">        descriptorProperties.getOptionalString(CONNECTOR_PASSWORD).ifPresent(builder::setPassword);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> builder.build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> JDBCReadOptions <span class="title">getJDBCReadOptions</span><span class="params">(DescriptorProperties descriptorProperties)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> Optional&lt;String&gt; partitionColumnName =</span><br><span class="line">                descriptorProperties.getOptionalString(CONNECTOR_READ_PARTITION_COLUMN);</span><br><span class="line">        <span class="keyword">final</span> Optional&lt;Long&gt; partitionLower = descriptorProperties.getOptionalLong(CONNECTOR_READ_PARTITION_LOWER_BOUND);</span><br><span class="line">        <span class="keyword">final</span> Optional&lt;Long&gt; partitionUpper = descriptorProperties.getOptionalLong(CONNECTOR_READ_PARTITION_UPPER_BOUND);</span><br><span class="line">        <span class="keyword">final</span> Optional&lt;Integer&gt; numPartitions = descriptorProperties.getOptionalInt(CONNECTOR_READ_PARTITION_NUM);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> JDBCReadOptions.Builder builder = JDBCReadOptions.builder();</span><br><span class="line">        <span class="keyword">if</span> (partitionColumnName.isPresent()) &#123;</span><br><span class="line">            builder.setPartitionColumnName(partitionColumnName.get());</span><br><span class="line">            builder.setPartitionLowerBound(partitionLower.get());</span><br><span class="line">            builder.setPartitionUpperBound(partitionUpper.get());</span><br><span class="line">            builder.setNumPartitions(numPartitions.get());</span><br><span class="line">        &#125;</span><br><span class="line">        descriptorProperties.getOptionalInt(CONNECTOR_READ_FETCH_SIZE).ifPresent(builder::setFetchSize);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> builder.build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> JDBCLookupOptions <span class="title">getJDBCLookupOptions</span><span class="params">(DescriptorProperties descriptorProperties)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> JDBCLookupOptions.Builder builder = JDBCLookupOptions.builder();</span><br><span class="line"></span><br><span class="line">        descriptorProperties.getOptionalLong(CONNECTOR_LOOKUP_CACHE_MAX_ROWS).ifPresent(builder::setCacheMaxSize);</span><br><span class="line">        descriptorProperties.getOptionalDuration(CONNECTOR_LOOKUP_CACHE_TTL).ifPresent(</span><br><span class="line">                s -&gt; builder.setCacheExpireMs(s.toMillis()));</span><br><span class="line">        descriptorProperties.getOptionalInt(CONNECTOR_LOOKUP_MAX_RETRIES).ifPresent(builder::setMaxRetryTimes);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> builder.build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><code>CustomizedJDBCValidator.java</code></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * A modified version of &#123;<span class="doctag">@link</span> JDBCValidator&#125;.</span></span><br><span class="line"><span class="comment"> * NOTICE: this implementation has the difference to check jdbc.url only.</span></span><br><span class="line"><span class="comment"> * (using our CustomizedJDBCDialects instead of the original one &#123;<span class="doctag">@link</span> JDBCDialects&#125;).</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> rovo98</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomizedJDBCValidator</span> <span class="keyword">extends</span> <span class="title">ConnectorDescriptorValidator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_URL = <span class="string">&quot;connector.url&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_TABLE = <span class="string">&quot;connector.table&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_DRIVER = <span class="string">&quot;connector.driver&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_USERNAME = <span class="string">&quot;connector.username&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_PASSWORD = <span class="string">&quot;connector.password&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_READ_PARTITION_COLUMN = <span class="string">&quot;connector.read.partition.column&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_READ_PARTITION_LOWER_BOUND = <span class="string">&quot;connector.read.partition.lower-bound&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_READ_PARTITION_UPPER_BOUND = <span class="string">&quot;connector.read.partition.upper-bound&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_READ_PARTITION_NUM = <span class="string">&quot;connector.read.partition.num&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_READ_FETCH_SIZE = <span class="string">&quot;connector.read.fetch-size&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_LOOKUP_CACHE_MAX_ROWS = <span class="string">&quot;connector.lookup.cache.max-rows&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_LOOKUP_CACHE_TTL = <span class="string">&quot;connector.lookup.cache.ttl&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_LOOKUP_MAX_RETRIES = <span class="string">&quot;connector.lookup.max-retries&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_WRITE_FLUSH_MAX_ROWS = <span class="string">&quot;connector.write.flush.max-rows&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_WRITE_FLUSH_INTERVAL = <span class="string">&quot;connector.write.flush.interval&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CONNECTOR_WRITE_MAX_RETRIES = <span class="string">&quot;connector.write.max-retries&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">validate</span><span class="params">(DescriptorProperties properties)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.validate(properties);</span><br><span class="line">        validateCommonProperties(properties);</span><br><span class="line">        validateReadProperties(properties);</span><br><span class="line">        validateLookupProperties(properties);</span><br><span class="line">        validateSinkProperties(properties);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">validateCommonProperties</span><span class="params">(DescriptorProperties properties)</span> </span>&#123;</span><br><span class="line">        properties.validateString(CONNECTOR_URL, <span class="keyword">false</span>, <span class="number">1</span>);</span><br><span class="line">        properties.validateString(CONNECTOR_TABLE, <span class="keyword">false</span>, <span class="number">1</span>);</span><br><span class="line">        properties.validateString(CONNECTOR_DRIVER, <span class="keyword">true</span>);</span><br><span class="line">        properties.validateString(CONNECTOR_USERNAME, <span class="keyword">true</span>);</span><br><span class="line">        properties.validateString(CONNECTOR_PASSWORD, <span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> String url = properties.getString(CONNECTOR_URL);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// using JDBCDialectService to find JDBCDialects here.</span></span><br><span class="line">        <span class="keyword">final</span> Optional&lt;JDBCDialect&gt; dialect = JDBCDialectService.get(url);</span><br><span class="line">        Preconditions.checkState(dialect.isPresent(), <span class="string">&quot;Cannot handle such jdbc url: &quot;</span> + url);</span><br><span class="line"></span><br><span class="line">        Optional&lt;String&gt; password = properties.getOptionalString(CONNECTOR_PASSWORD);</span><br><span class="line">        <span class="keyword">if</span> (password.isPresent()) &#123;</span><br><span class="line">            Preconditions.checkArgument(</span><br><span class="line">                    properties.getOptionalString(CONNECTOR_USERNAME).isPresent(),</span><br><span class="line">                    <span class="string">&quot;Database username must be provided when database password is provided&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">validateReadProperties</span><span class="params">(DescriptorProperties properties)</span> </span>&#123;</span><br><span class="line">        properties.validateString(CONNECTOR_READ_PARTITION_COLUMN, <span class="keyword">true</span>);</span><br><span class="line">        properties.validateLong(CONNECTOR_READ_PARTITION_LOWER_BOUND, <span class="keyword">true</span>);</span><br><span class="line">        properties.validateLong(CONNECTOR_READ_PARTITION_UPPER_BOUND, <span class="keyword">true</span>);</span><br><span class="line">        properties.validateInt(CONNECTOR_READ_PARTITION_NUM, <span class="keyword">true</span>);</span><br><span class="line">        properties.validateInt(CONNECTOR_READ_FETCH_SIZE, <span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">        Optional&lt;Long&gt; lowerBound = properties.getOptionalLong(CONNECTOR_READ_PARTITION_LOWER_BOUND);</span><br><span class="line">        Optional&lt;Long&gt; upperBound = properties.getOptionalLong(CONNECTOR_READ_PARTITION_UPPER_BOUND);</span><br><span class="line">        <span class="keyword">if</span> (lowerBound.isPresent() &amp;&amp; upperBound.isPresent()) &#123;</span><br><span class="line">            Preconditions.checkArgument(lowerBound.get() &lt;= upperBound.get(),</span><br><span class="line">                    CONNECTOR_READ_PARTITION_LOWER_BOUND + <span class="string">&quot; must not be larger than &quot;</span> + CONNECTOR_READ_PARTITION_UPPER_BOUND);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        checkAllOrNone(properties, <span class="keyword">new</span> String[]&#123;</span><br><span class="line">                CONNECTOR_READ_PARTITION_COLUMN,</span><br><span class="line">                CONNECTOR_READ_PARTITION_LOWER_BOUND,</span><br><span class="line">                CONNECTOR_READ_PARTITION_UPPER_BOUND,</span><br><span class="line">                CONNECTOR_READ_PARTITION_NUM</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">validateLookupProperties</span><span class="params">(DescriptorProperties properties)</span> </span>&#123;</span><br><span class="line">        properties.validateLong(CONNECTOR_LOOKUP_CACHE_MAX_ROWS, <span class="keyword">true</span>);</span><br><span class="line">        properties.validateDuration(CONNECTOR_LOOKUP_CACHE_TTL, <span class="keyword">true</span>, <span class="number">1</span>);</span><br><span class="line">        properties.validateInt(CONNECTOR_LOOKUP_MAX_RETRIES, <span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">        checkAllOrNone(properties, <span class="keyword">new</span> String[]&#123;</span><br><span class="line">                CONNECTOR_LOOKUP_CACHE_MAX_ROWS,</span><br><span class="line">                CONNECTOR_LOOKUP_CACHE_TTL</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">validateSinkProperties</span><span class="params">(DescriptorProperties properties)</span> </span>&#123;</span><br><span class="line">        properties.validateInt(CONNECTOR_WRITE_FLUSH_MAX_ROWS, <span class="keyword">true</span>);</span><br><span class="line">        properties.validateDuration(CONNECTOR_WRITE_FLUSH_INTERVAL, <span class="keyword">true</span>, <span class="number">1</span>);</span><br><span class="line">        properties.validateInt(CONNECTOR_WRITE_MAX_RETRIES, <span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">checkAllOrNone</span><span class="params">(DescriptorProperties properties, String[] propertyNames)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> presentCount = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (String name : propertyNames) &#123;</span><br><span class="line">            <span class="keyword">if</span> (properties.getOptionalString(name).isPresent()) &#123;</span><br><span class="line">                presentCount++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Preconditions.checkArgument(presentCount == <span class="number">0</span> || presentCount == propertyNames.length,</span><br><span class="line">                <span class="string">&quot;Either all or none of the following properties should be provided:\n&quot;</span> + String.join(<span class="string">&quot;\n&quot;</span>, propertyNames));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œåˆ«å¿˜äº†æŠŠä¿®æ”¹åçš„ service providers æ”¾åˆ° <code>META-INF/services</code> ç›®å½•ä¸‹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// filename: org.apache.flink.api.java.io.jdbc.dialect.JDBCDialect</span><br><span class="line">com.rovo98.flink.extend.connector.jdbc.dialect.OracleDialect</span><br><span class="line">com.rovo98.flink.extend.connector.jdbc.dialect.DerbyDialect</span><br><span class="line">com.rovo98.flink.extend.connector.jdbc.dialect.PostgreDialect</span><br><span class="line">com.rovo98.flink.extend.connector.jdbc.dialect.SeaBoxDialect</span><br><span class="line">//...</span><br><span class="line"></span><br><span class="line">// filename: org.apache.flink.table.factories.TableFactory</span><br><span class="line">com.rovo98.flink.extend.connector.jdbc.CustomizedJDBCTableSourceSinkFactory</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬ä¾¿èƒ½åŒä½¿ç”¨åŸå®˜æ–¹ jdbc-connector é‚£æ ·ï¼Œä½¿ç”¨ DDL è¯­æ³•æ¥åˆ›å»º jdbc connector å¹¶å‘å…¶å†™å…¥æ•°æ®äº†ï¼Œä»¥è‡ªåŠ¨ sink åˆ°æ•°æ®åº“ä¸­å¯¹åº”çš„è¡¨ã€‚ä¾‹:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">String sourceTblName = <span class="string">&quot;pt_user&quot;</span>;</span><br><span class="line">String registeredTblName = <span class="string">&quot;users&quot;</span>;</span><br><span class="line"><span class="comment">// sinks processed result to db.</span></span><br><span class="line">tableEnv.sqlUpdate(String.format(<span class="string">&quot;create table %s (\n&quot;</span></span><br><span class="line">                        + <span class="string">&quot;id INT, name VARCHAR, age INT&quot;</span></span><br><span class="line">                        + <span class="string">&quot;) with (\n&quot;</span></span><br><span class="line">                        + <span class="string">&quot;&#x27;connector.type&#x27;=&#x27;extended-jdbc&#x27;,\n&quot;</span></span><br><span class="line">                        + <span class="string">&quot;&#x27;connector.table&#x27;=&#x27;%s&#x27;,\n&quot;</span></span><br><span class="line">                        + <span class="string">&quot;&#x27;connector.url&#x27;=&#x27;%s&#x27;,\n&quot;</span></span><br><span class="line">                        + <span class="string">&quot;&#x27;connector.driver&#x27;=&#x27;%s&#x27;,\n&quot;</span></span><br><span class="line">                        + <span class="string">&quot;&#x27;connector.username&#x27;=&#x27;%s&#x27;,\n&quot;</span></span><br><span class="line">                        + <span class="string">&quot;&#x27;connector.password&#x27;=&#x27;%s&#x27;,\n&quot;</span></span><br><span class="line">                        + <span class="string">&quot;&#x27;connector.write.flush.max-rows&#x27;=&#x27;%s&#x27;,\n&quot;</span></span><br><span class="line">                        + <span class="string">&quot;&#x27;connector.write.flush.interval&#x27;=&#x27;%s&#x27;,\n&quot;</span></span><br><span class="line">                        + <span class="string">&quot;&#x27;connector.write.max-retries&#x27;=&#x27;%s&#x27;&quot;</span></span><br><span class="line">                        + <span class="string">&quot;)&quot;</span>,</span><br><span class="line">                registeredTblName,</span><br><span class="line">                sourceTblName,</span><br><span class="line">                dbConfigs.getProperty(JdbcUtil.URL_KEY),</span><br><span class="line">                dbConfigs.getProperty(JdbcUtil.DRIVER_CLASS_KEY),</span><br><span class="line">                dbConfigs.getProperty(JdbcUtil.USER_KEY),</span><br><span class="line">                dbConfigs.getProperty(JdbcUtil.PASSWORD_KEY),</span><br><span class="line">                <span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">tableEnv.registerDataStream(<span class="string">&quot;processed_users&quot;</span>, userDataStream);</span><br><span class="line">tableEnv.sqlUpdate(<span class="string">&quot;insert into &quot;</span> + registeredTblName + </span><br><span class="line">                  <span class="string">&quot;select id, name, age from processed_users&quot;</span>);</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h3 id="summary"><a class="markdownIt-Anchor" href="#summary"></a> Summary</h3><p>æœ¬æ–‡ä¸»è¦è®¨è®ºäº† Java SPI å¦‚ä½•ç”¨äºåˆ›å»ºå¯æ‰©å±•åº”ç”¨ç¨‹åºå¹¶ç®€å•åˆ†æäº† <code>ServiceLoader</code> çš„å·¥ä½œåŸç†ï¼Œæœ€åä»¥ Flink connector-jdbc çš„ dialect æ‰©å±•ä¸ºä¾‹ï¼Œå®é™…å±•ç¤ºäº† SPI çš„ä¸€ä¸ªç®€å•åº”ç”¨åœºæ™¯ã€‚</p><p>Java JDK å…¶å®ä¹Ÿå·²ç»åŒ…å«äº†è®¸å¤š SPIï¼Œå¦‚ <code>Driver</code> åœ¨ JDBC 4.0 ç‰ˆæœ¬åï¼ˆåœ¨æ­¤ä¹‹å‰ä½¿ç”¨ <code>Class.forName()</code> æ¥åŠ è½½é©±åŠ¨ç±»ï¼‰ï¼Œæ”¯æŒé€šè¿‡ <code>ServiceLoader</code> æ¥åŠ è½½ JDBC é©±åŠ¨ç±»ï¼Œä¹Ÿè¦æ±‚é©±åŠ¨å‚å•†è¦åœ¨ <code>META-INF/services/java.sql.Driver</code> ä¸­è¿›è¡ŒæœåŠ¡æ³¨å†Œã€‚æ›´å¤šåœ°è¿˜æœ‰ï¼š</p><ul><li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/spi/CurrencyNameProvider.html">CurrencyNameProvider</a>: <code>Currency</code> ç±» Service providerï¼Œæä¾›æœ¬åœ°åŒ–çš„è´§å¸ç¬¦å·ï¼›</li><li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/spi/LocaleNameProvider.html">LocaleNameProvider</a>: <code>Locale</code> ç±» Service providerï¼Œæä¾›è¯­è¨€ç¯å¢ƒæœ¬åœ°åç§°ï¼›</li><li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/spi/TimeZoneNameProvider.html">TimeZoneNameProvider</a>: <code>TimeZone</code> ç±» Service providerï¼Œæä¾›åŒºåŸŸæ—¶åŒºåç§°ï¼›</li><li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/spi/DateFormatProvider.html">DateFormatProvider</a>: æä¾›æŒ‡å®šåŒºåŸŸçš„æ—¥æœŸæ—¶é—´æ ¼å¼ï¼›</li><li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/spi/NumberFormatProvider.html">NumberFormatProvider</a>: ä½¿ <code>NumberFormat</code> æ”¯æŒè´§å¸ã€æ•´å‹å’Œç™¾åˆ†æ¯”å€¼æ ¼å¼ï¼›</li><li><a href="https://docs.oracle.com/javaee/7/api/javax/persistence/spi/PersistenceProvider.html">PersistenceProvider</a>: æä¾› JPA API å®ç°ï¼›</li><li><a href="https://docs.oracle.com/javaee/7/api/javax/json/spi/JsonProvider.html">JsonProvider</a>: æä¾› JSON å¤„ç†å¯¹è±¡ï¼›</li><li><a href="https://javaee.github.io/javaee-spec/javadocs/javax/json/bind/spi/JsonbProvider.html">JsonbProvider</a>: æä¾› JSON ç»‘å®šå¯¹è±¡ï¼›</li><li><a href="">Extension</a>: ä¸º CDI å®¹å™¨æä¾›æ‰©å±•ï¼›</li><li><a href="https://openliberty.io/docs/20.0.0.7/reference/javadoc/microprofile-1.2-javadoc.html#package=org/eclipse/microprofile/config/spi/package-frame.html&amp;class=org/eclipse/microprofile/config/spi/ConfigSourceProvider.html">ConfigSourceProvider</a>: æä¾›æ£€ç´¢é…ç½®å±æ€§çš„ Sourceï¼›</li></ul><p>æ€»çš„æ¥è¯´ï¼ŒSPI æ˜¯ Java å¼€ç®±æä¾›çš„ä¸€ç§ç”¨äºè®¾è®¡å¯æ‰©å±•ç¨‹åºçš„æœºåˆ¶ï¼Œç¬¦åˆ IoC(Inversion of Control) åŸåˆ™ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥è®¾è®¡å¯æ‰©å±•ç¨‹åºï¼Œä¹Ÿç»™ç°æœ‰é‡‡ç”¨ SPI æœºåˆ¶çš„ç¨‹åºå®ç°æ›´å¤šçš„åŠŸèƒ½æ‰©å±•ã€‚å½“ç„¶ç†Ÿæ‚‰ Spring çš„äººå¯èƒ½ä¾¿ä¼šçŸ¥é“ Spring ä¹Ÿç”¨äº†ä¸€ç§ç±»ä¼¼çš„ IoC æœºåˆ¶<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ï¼Œe.g. <code>SpringFactoriesLoader.loadFactories(Foo.class, null)</code>, ä¹Ÿå¯ä»¥é€šè¿‡ <code>FactoryBean</code> æ¥é›†æˆJava SPI å®ç°ã€‚</p><h3 id="remark"><a class="markdownIt-Anchor" href="#remark"></a> Remark</h3><p>ç» <a href="https://issues.apache.org/jira/browse/FLINK-24253">FLINK-24253</a> å¤„ç†åï¼Œç›®å‰ Flink ç¤¾åŒºåœ¨ 1.15 ç‰ˆæœ¬ä¸­å·²ç»é‡‡ç”¨ <code>ServiceLoader</code> å¯¹ <code>JdbcDialect</code> SPI å®ç°äº†æ’ä»¶åŒ–åŠ è½½ã€‚</p><h3 id="references"><a class="markdownIt-Anchor" href="#references"></a> References</h3><ol><li><a href="https://docs.oracle.com/javase/tutorial/ext/basics/spi.html">https://docs.oracle.com/javase/tutorial/ext/basics/spi.html</a></li><li><a href="https://ci.apache.org/projects/flink/flink-docs-release-1.9/dev/table/connect.html#jdbc-connector">https://ci.apache.org/projects/flink/flink-docs-release-1.9/dev/table/connect.html#jdbc-connector</a></li><li><a href="https://issues.apache.org/jira/browse/FLINK-16833">https://issues.apache.org/jira/browse/FLINK-16833</a></li><li><a href="https://issues.apache.org/jira/browse/FLINK-24253">https://issues.apache.org/jira/browse/FLINK-24253</a></li><li><a href="https://www.baeldung.com/java-spi">https://www.baeldung.com/java-spi</a></li></ol><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://dzone.com/articles/java-service-loader-vs-spring-factories-loader">https://dzone.com/articles/java-service-loader-vs-spring-factories-loader</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">&lt;p&gt;SPI (Service Provider Interface) å³æœåŠ¡æä¾›è€…æ¥å£ï¼Œä¸»è¦ç”¨äºåˆ›å»ºå¯æ‰©å±•çš„åº”ç”¨ç¨‹åºã€‚å¯æ‰©å±•åº”ç”¨ç¨‹åºï¼ˆextensible applicationï¼‰æ˜¯æŒ‡åœ¨ä¸ä¿®æ”¹åŸåº”ç”¨ä»£ç çš„æƒ…å†µä¸‹ï¼Œèƒ½é€šè¿‡é›†æˆæ–°æ’ä»¶æˆ–æ¨¡å—è¿›è¡Œæ‰©å±•çš„åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="http://rovo98.github.io/categories/Java/"/>
    
    
    <category term="basic" scheme="http://rovo98.github.io/tags/basic/"/>
    
  </entry>
  
  <entry>
    <title>Maven é¡¹ç›®æ„å»ºæé€Ÿ</title>
    <link href="http://rovo98.github.io/posts/4d39110c/"/>
    <id>http://rovo98.github.io/posts/4d39110c/</id>
    <published>2021-02-28T12:01:00.000Z</published>
    <updated>2022-05-29T06:45:14.139Z</updated>
    
    <content type="html"><![CDATA[<p>Maven ä½œä¸º Java é¡¹ç›®çš„ä¸€ä¸ªå¸¸ç”¨æ„å»ºå·¥å…·ï¼Œå®ƒå¾ˆå®¹æ˜“ä¸Šæ‰‹ä½¿ç”¨ï¼Œä½†è‹¥ä¸å¯¹å…¶è¿›è¡Œæ·±å…¥äº†è§£ï¼Œåˆ™å¾€å¾€ä¼šåœ¨æˆ‘ä»¬åç»­ä½¿ç”¨è¿‡ç¨‹ä¸­ç•™ä¸‹ä¸€äº›éšæ‚£ã€‚<br />åœ¨æ—¥å¸¸å¼€å‘ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“é‡åˆ°è¾ƒå¤§ä»£ç è§„æ¨¡çš„é¡¹ç›®ï¼Œæ¶‰åŠå¤šç§ä¸åŒè¯­è¨€åŠæŠ€æœ¯ï¼Œæ­¤æ—¶ï¼Œåœ¨ä½¿ç”¨ Maven ä½œä¸ºä¸»æ„å»ºå·¥å…·è¿›è¡Œæœ¬åœ°é¡¹ç›®ç¼–è¯‘åŠæ„å»ºæ—¶ï¼Œåˆ™æœ‰å¯èƒ½ä¼šé‡åˆ°é¡¹ç›®æ„å»ºé€Ÿåº¦æ…¢çš„é—®é¢˜ã€‚ä¸ºæå‡å¼€å‘ä½“éªŒï¼Œæœ¬æ–‡å°†è®¨è®º Maven é¡¹ç›®æ„å»ºé€Ÿåº¦ä¼˜åŒ–ç›¸å…³æŠ€å·§ã€‚</p><span id="more"></span><h2 id="å½±å“æ„å»ºé€Ÿåº¦çš„å› ç´ "><a class="markdownIt-Anchor" href="#å½±å“æ„å»ºé€Ÿåº¦çš„å› ç´ "></a> å½±å“æ„å»ºé€Ÿåº¦çš„å› ç´ </h2><p>åœ¨ Maven é¡¹ç›®ä¸­ï¼Œå½±å“é¡¹ç›®æ„å»ºé€Ÿåº¦çš„å› ç´ æœ‰å¾ˆå¤šï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ä¸ªå› ç´ ï¼š</p><h3 id="1-æ²¡æœ‰å……åˆ†åˆ©ç”¨-cpu-ç­‰èµ„æº"><a class="markdownIt-Anchor" href="#1-æ²¡æœ‰å……åˆ†åˆ©ç”¨-cpu-ç­‰èµ„æº"></a> 1ã€æ²¡æœ‰å……åˆ†åˆ©ç”¨ CPU ç­‰èµ„æº</h3><p>æ­£å¸¸æƒ…å†µä¸‹ï¼ŒMaven æ„å»ºé¡¹ç›®æ¨¡å—æ˜¯æŒ‰é¡ºåºæ‰§è¡Œçš„ï¼Œç„¶è€Œï¼Œåœ¨å¤§å¤šé¡¹ç›®ä¸­æˆ‘ä»¬å…¶å®å¹¶ä¸éœ€è¦æŒ‰åºæ„å»ºæ¨¡å—ã€‚ç†è®ºä¸Šæ¥è¯´ï¼ŒMaven å¯ä»¥é€šè¿‡ä¾èµ–å›¾æ¥åˆ†æé¡¹ç›®ï¼Œå¹¶å°½å¯èƒ½åœ°å¹¶è¡Œæ„å»ºé¡¹ç›®æ¨¡å—ã€‚</p><h3 id="2-é¡¹ç›®æ„å»ºæ—¶åŒ…å«è®¸å¤šæ— æ•ˆçš„é˜¶æ®µå’Œæ­¥éª¤"><a class="markdownIt-Anchor" href="#2-é¡¹ç›®æ„å»ºæ—¶åŒ…å«è®¸å¤šæ— æ•ˆçš„é˜¶æ®µå’Œæ­¥éª¤"></a> 2ã€é¡¹ç›®æ„å»ºæ—¶åŒ…å«è®¸å¤šæ— æ•ˆçš„é˜¶æ®µå’Œæ­¥éª¤</h3><p>Maven é¡¹ç›®çš„æ„å»ºç”±ç‰¹å®šç”Ÿå‘½å‘¨æœŸï¼ˆLifecycleï¼‰è¿›è¡Œæè¿°ï¼Œä¸€ä¸ªç”Ÿå‘½å‘¨æœŸä¸€èˆ¬åŒ…å«å¤šä¸ªé˜¶æ®µï¼ˆphaseï¼‰ï¼Œè€Œä¸€ä¸ªé˜¶æ®µè¿˜å¯åŒ…å«å¤šä¸ªæ­¥éª¤ï¼ˆstepsï¼‰ã€‚å½“æ‰§è¡ŒæŸç‰¹å®š phase æ—¶ï¼Œè¿™è¿‡ç¨‹ä¸­åŒ…å«äº†ä¸€äº›éšæ€§å¼€é”€ï¼Œä¸ºæ‰§è¡ŒæŸä¸€ç”Ÿå‘½å‘¨æœŸçš„ç‰¹å®šé˜¶æ®µï¼ŒMaven éœ€è¦å…ˆæ‰§è¡Œå®Œè¯¥é˜¶æ®µä¹‹å‰çš„æ‰€æœ‰é˜¶æ®µã€‚<br />å¦‚ï¼Œå¯¹äº Maven æä¾›çš„é»˜è®¤ç”Ÿå‘½å‘¨æœŸï¼ˆdefaultï¼Œä¸ä¸ä»»ä½•æ’ä»¶ç›¸å…³è”ï¼‰ï¼Œå®ƒåŒ…å«çš„æ‰€æœ‰é˜¶æ®µå¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">phases</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>validate<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>initialize<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>generate-sources<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>process-sources<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>generate-resources<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>process-resources<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>process-classes<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>generate-test-sources<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>process-test-sources<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>generate-test-resources<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>process-test-resources<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>test-compile<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>process-test-classes<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>test<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>prepare-package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>pre-integration-test<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>integration-test<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>post-integration-test<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>verify<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>install<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">phase</span>&gt;</span>deploy<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">phases</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ <code>mvn install</code> å‘½ä»¤æ—¶ï¼ŒMaven éœ€è¦å…ˆæ‰§è¡Œ <code>install</code> é˜¶æ®µä¹‹å‰çš„æ‰€æœ‰é˜¶æ®µåï¼Œæ‰èƒ½æ‰§è¡Œè¯¥ <code>install</code> é˜¶æ®µã€‚</p><h3 id="3-ç½‘ç»œè®¿é—®å½±å“"><a class="markdownIt-Anchor" href="#3-ç½‘ç»œè®¿é—®å½±å“"></a> 3ã€ç½‘ç»œè®¿é—®å½±å“</h3><p>å’Œå…¶ä»–å¤§éƒ¨åˆ†æ„å»ºç³»ç»Ÿä¸€æ ·ï¼Œå¦‚ npmã€gradleã€sbtç­‰ï¼Œé¡¹ç›®åœ¨æ„å»ºæ—¶ï¼Œå¾€å¾€éœ€è¦è¿ç½‘å»ä¸‹è½½é¡¹ç›®çš„ä¾èµ–ä»¥åŠä¼ é€’ä¾èµ–ã€‚è€Œå½“æˆ‘ä»¬æ˜ç¡®æœ¬åœ°ä»“åº“ç¼“å­˜å·²ç»å­˜åœ¨é¡¹ç›®æ„å»ºéœ€è¦çš„æ‰€æœ‰ä¾èµ–åŠä¼ é€’ä¾èµ–æ—¶ï¼Œå¯é€‰æ‹©è®© maven ä»¥ç¦»çº¿æ–¹å¼è¿è¡Œã€‚</p><h3 id="4-maven-è¿›ç¨‹çš„å¯åŠ¨é€Ÿåº¦"><a class="markdownIt-Anchor" href="#4-maven-è¿›ç¨‹çš„å¯åŠ¨é€Ÿåº¦"></a> 4ã€Maven è¿›ç¨‹çš„å¯åŠ¨é€Ÿåº¦</h3><p>Maven ä½œä¸ºä¸€ä¸ªæ„å»ºå·¥å…·ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ JVM ä¸Šçš„ Java ç¨‹åºï¼Œå› æ­¤ï¼Œå®ƒä¹Ÿå¯ä»¥é€šè¿‡å¯¹ JVM è¿›è¡Œä¼˜åŒ–é…ç½®ï¼Œä»è€Œæå‡ Maven çš„å¯åŠ¨é€Ÿåº¦ã€‚</p><h2 id="æå‡æ„å»ºé€Ÿåº¦çš„æŠ€å·§"><a class="markdownIt-Anchor" href="#æå‡æ„å»ºé€Ÿåº¦çš„æŠ€å·§"></a> æå‡æ„å»ºé€Ÿåº¦çš„æŠ€å·§</h2><p>é’ˆå¯¹ä¸Šè¿°æåˆ°çš„å½±å“ Maven é¡¹ç›®æ„å»ºé€Ÿåº¦çš„å› ç´ ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŠ€å·§è¿›è¡Œå¤„ç†ã€‚</p><h3 id="1-maven-å¹¶è¡Œæ„å»º"><a class="markdownIt-Anchor" href="#1-maven-å¹¶è¡Œæ„å»º"></a> 1ã€Maven å¹¶è¡Œæ„å»º</h3><p>ä¸ºèƒ½åœ¨é¡¹ç›®æ„å»ºæ—¶å……åˆ†çš„åˆ©ç”¨ CPU èµ„æºï¼Œ æˆ‘ä»¬å¯æŒ‡å®š maven æ„å»ºé¡¹ç›®æ—¶ä½¿ç”¨çš„çº¿ç¨‹æ•°ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mvn -T num <span class="comment"># æŒ‡å®š maven æ„å»ºé¡¹ç›®æ—¶ä½¿ç”¨çš„å…·ä½“çº¿ç¨‹æ•°</span></span><br><span class="line">mvn -T numC <span class="comment"># æŒ‡å®š maven æ„å»ºé¡¹ç›®æ—¶ä½¿ç”¨çš„çº¿ç¨‹æ•°ï¼Œæ¯ä¸ª CPU num ä¸ªçº¿ç¨‹</span></span><br></pre></td></tr></table></figure><p>è™½ç„¶é¡¹ç›®å°½ç®¡å¯èƒ½ä¸å®¹æ˜“è¿›è¡Œå¹¶è¡Œæ„å»ºï¼Œä½†å€¼å¾—å°è¯•ï¼Œå› ä¸ºå®ƒå¯ä»¥å¤§å¤§åœ°æå‡é¡¹ç›®æ„å»ºçš„é€Ÿåº¦ã€‚è®¾ç½®<strong>æ¯ä¸ª CPU æ ¸ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„é»˜è®¤é…ç½®</strong>ã€‚</p><h3 id="2-è·³è¿‡æµ‹è¯•æˆ–å¹¶è¡Œæ‰§è¡Œæµ‹è¯•"><a class="markdownIt-Anchor" href="#2-è·³è¿‡æµ‹è¯•æˆ–å¹¶è¡Œæ‰§è¡Œæµ‹è¯•"></a> 2ã€è·³è¿‡æµ‹è¯•æˆ–å¹¶è¡Œæ‰§è¡Œæµ‹è¯•</h3><p>ä»æ„å»ºå±‚é¢ä¸Šæ¥è®²ï¼Œæµ‹è¯•å¯èƒ½æ˜¯å½±å“é¡¹ç›®æ„å»ºé€Ÿåº¦çš„æœ€å¤§å› ç´ ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåœ¨æ„å»ºå·¥ä»¶æ—¶é€‰æ‹©è·³è¿‡æµ‹è¯•ï¼Œå¤§å¤šæ•°æ’ä»¶å¯é€šè¿‡æŒ‡å®š <code>-DskipTests=true</code> æ¥è·³è¿‡æµ‹è¯•ï¼Œä½†ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸æ¨èä½¿ç”¨è¿™ç§éå¸¸è§„çš„å·¥ç¨‹å®è·µæ–¹æ¡ˆï¼Œä»…åœ¨æ˜ç¡®éœ€è¦è·³è¿‡æµ‹è¯•æ—¶ä½¿ç”¨ï¼Œå¾ˆæ˜æ˜¾ï¼Œè¿™å¯ä»¥å¤§å¤§åœ°æé«˜é¡¹ç›®æ„å»ºçš„é€Ÿåº¦ã€‚<br />ä¸€èˆ¬æˆ‘ä»¬è®¨è®ºçš„å¹¶è¡ŒæŠ€æœ¯ä½œç”¨äºæ¨¡å—çº§åˆ«ï¼Œä¾‹å¦‚ï¼Œå½“é¡¹ç›®ä½¿ç”¨æ’ä»¶ï¼ˆå¦‚ surefire ç­‰ï¼‰æ¥è¿è¡Œæµ‹è¯•æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®å®ƒåœ¨æ¨¡å—å†…è¿›è¡Œå¹¶è¡Œæ‰§è¡Œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨å¹¶è¡ŒæŠ€æœ¯æ¥æ‰§è¡Œæµ‹è¯•è™½ç„¶å¯ä»¥å¤§å¤§æé«˜é¡¹ç›®æ„å»ºçš„é€Ÿåº¦ï¼Œä½†è¿™ä¸€è¿‡ç¨‹æœ‰å¯èƒ½å¯¼è‡´ä¸€äº›å‰¯ä½œç”¨ï¼Œä½†å®é™…å®è·µä¸­ï¼Œæˆ‘ä»¬åº”è¯¥å°½å¯èƒ½åœ°å°è¯•å¹¶è¡Œè¿è¡Œæµ‹è¯•ï¼Œåœ¨é‡åˆ°é”™è¯¯æ—¶å†è¿›è¡Œç›¸åº”å¤„ç†å³å¯ã€‚</p><h3 id="3-åªæ„å»ºå¿…è¦çš„æ¨¡å—"><a class="markdownIt-Anchor" href="#3-åªæ„å»ºå¿…è¦çš„æ¨¡å—"></a> 3ã€åªæ„å»ºå¿…è¦çš„æ¨¡å—</h3><p>å¤§å¤šæ•°äººåœ¨æ„å»ºé¡¹ç›®æ—¶ï¼Œå¯èƒ½ä¼šç›´æ¥ä½¿ç”¨ä»¥ä¸‹é»˜è®¤å‘½ä»¤:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean install</span><br></pre></td></tr></table></figure><p>ä½†æ­£å¦‚ä¸Šæ–‡æåˆ°çš„ï¼Œä½†åœ¨æ‰§è¡Œ install æ—¶ï¼Œéœ€è¦å…ˆä¹‹å‰è¯¥é˜¶æ®µå‰çš„æ‰€æœ‰é˜¶æ®µï¼Œå½“ Maven æ‰§è¡Œ clean æ—¶ï¼Œä¼šå°†æ‰€æœ‰ç”Ÿæˆçš„ artifacts åŠä¸´æ—¶æ–‡ä»¶ç­‰ï¼ˆé™¤VCSç®¡ç†çš„æ–‡ä»¶å¤–ï¼‰éƒ½æ¸…ç†æ‰ã€‚clean åœ¨é‡åˆ°å¥‡æ€ªçš„ç¼“å­˜æˆ–bugæ—¶å¾ˆæœ‰ç”¨ã€‚</p><p>ç„¶è€Œï¼Œæ¯æ¬¡é¡¹ç›®ä¿®æ”¹åï¼Œéƒ½æ‰§è¡Œä¸€æ¬¡ cleanï¼Œç„¶åå† install çš„é€Ÿåº¦å¹¶ä¸ç†æƒ³ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥æ˜¯å¢é‡åœ°æ„å»ºé¡¹ç›®ï¼Œå³ä»…æ„å»ºå˜åŒ–çš„éƒ¨åˆ†ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¤šæ¨¡å—çš„é¡¹ç›®ï¼Œå…¶ä¸­ä¸€äº›é€šç”¨çš„æ ¸å¿ƒæ¨¡å—å‡ ä¹æ˜¯ä¸å˜çš„ï¼Œåˆ™å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥åªæ„å»ºå˜åŠ¨çš„æ¨¡å—ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn install -pl <span class="variable">$moduleName</span> -am</span><br></pre></td></tr></table></figure><p>é¦–å…ˆï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå› ä¸ºé¡¹ç›®å¾ˆå°‘éœ€è¦æ¸…ç†ï¼Œè¯¥å‘½ä»¤ç§»é™¤äº† <code>clean</code> é˜¶æ®µï¼Œå…¶ä»–çš„ mvn å‘½ä»¤é€‰é¡¹å¦‚ä¸‹ï¼š</p><ul><li><code>-pl</code>ï¼Œ<code>--projects</code> : ç”±é€—å·åˆ†éš”çš„é¡¹ç›®åˆ—è¡¨ï¼Œé¡¹ç›®å¯ç”± <code>[groupId]:artifactId</code> æˆ–ç›¸å¯¹ç›®å½•è¡¨ç¤ºã€‚æŒ‡å®š Maven éœ€æ„å»ºçš„æ¨¡å—ï¼Œè€Œä¸æ˜¯æ„å»ºæ•´ä¸ªé¡¹ç›®ã€‚</li><li><code>-am</code>, <code>--also-make</code> : å½“é¡¹ç›®åˆ—è¡¨æŒ‡å®šåï¼ŒåŒæ—¶æ„å»ºåˆ—è¡¨ä¸­é¡¹ç›®çš„ä¾èµ–é¡¹ç›®ã€‚</li><li><code>-amd</code>, <code>--also-make-dependents</code>: å½“é¡¹ç›®åˆ—è¡¨æŒ‡å®šåï¼ŒåŒæ—¶æ„å»ºä¾èµ–äºåˆ—è¡¨é¡¹ç›®çš„é¡¹ç›®ã€‚</li></ul><p>ç»“åˆä»¥ä¸Šé€‰é¡¹ä½¿ç”¨ maven å‘½ä»¤å¯ä»¥å¤§å¤§åœ°æé«˜é¡¹ç›®æ„å»ºçš„é€Ÿåº¦åŠçµæ´»åº¦ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œåªæœ‰å·¥ä½œçš„é¡¹ç›®æ¨¡å—åŠç›¸åº”çš„ä¿®æ”¹çš„ä¾èµ–æ‰ä¼šè¢«æ„å»ºï¼Œè€Œå…¶ä»–å¤§é‡çš„æ„å»ºå·¥ä½œï¼Œç”±äºæ–‡ä»¶ä»æ˜¯æ–°çš„æˆ–ä¸æ˜¯ç›®æ ‡æ¨¡å—çš„ä¸€éƒ¨åˆ†ï¼Œåˆ™æ— éœ€é‡æ–°æ„å»ºï¼Œå¯ä»¥è·³è¿‡ã€‚</p><h3 id="4-ç¦»çº¿æˆ–é™åˆ¶ç½‘ç»œè®¿é—®"><a class="markdownIt-Anchor" href="#4-ç¦»çº¿æˆ–é™åˆ¶ç½‘ç»œè®¿é—®"></a> 4ã€ç¦»çº¿æˆ–é™åˆ¶ç½‘ç»œè®¿é—®</h3><p>ç½‘ç»œä¸‹è½½ä¹Ÿæ˜¯å½±å“æ„å»ºé€Ÿåº¦çš„ä¸€ä¸ªé‡è¦å› ç´ ï¼Œå½“ç„¶ï¼Œåœ¨å›½å†…ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½é…ç½® maven åº“çš„é•œåƒæ¥ä¸‹è½½ä¾èµ–ï¼Œå¯æœ‰æ•ˆçš„æé«˜ä¾èµ–ä¸‹è½½çš„ç½‘ç»œé€Ÿåº¦ï¼Œè¿™ä¸€éƒ¨åˆ†å†…å®¹ä¸æ˜¯æœ¬æ–‡çš„å…³æ³¨ç‚¹ï¼Œè¯»è€…å¯è‡ªè¡Œæ£€ç´¢äº†è§£ã€‚</p><p>ç¦»çº¿æˆ–é™åˆ¶ç½‘ç»œè®¿é—®å‡å¯ä»¥æå‡ Maven é¡¹ç›®æ„å»ºçš„é€Ÿåº¦ï¼Œä½†æˆ‘ä»¬å¯èƒ½éœ€è¦å¯¹å®ƒä»¬çš„ä½¿ç”¨åœºæ™¯ä½œä¸€ä¸‹é™åˆ¶ï¼š<br />å¯¹äºç¦»çº¿æ„å»ºï¼Œ<code>mvn</code> å‘½ä»¤å¢åŠ  <code>-o</code> æˆ– <code>--offline</code> é€‰é¡¹ï¼Œéœ€è¦æ˜ç¡®é¡¹ç›®æ‰€éœ€çš„æ‰€æœ‰ä¾èµ–åŠä¼ é€’ä¾èµ–å‡å·²ç¼“å­˜è‡³æœ¬åœ°ä»“åº“ï¼›<br />å½“ç½‘ç»œè´¨é‡ä¸ä½³ä¸”éœ€è¦è”ç½‘æ„å»ºæ—¶ï¼Œåˆ™å¯åœ¨ <code>MAVEN_OPTS</code> å˜é‡ä¸­å¢åŠ  <code>-DdependendencyLocationsEnabled=false</code> è®¾ç½®æ¥å°½å¯èƒ½åœ°å‡å°‘é¡¹ç›®æ„å»ºæ—¶è¿›è¡Œçš„ç½‘ç»œä¼ è¾“ã€‚</p><h3 id="5-æå‡-maven-java-è¿›ç¨‹çš„å¯åŠ¨é€Ÿåº¦"><a class="markdownIt-Anchor" href="#5-æå‡-maven-java-è¿›ç¨‹çš„å¯åŠ¨é€Ÿåº¦"></a> 5ã€æå‡ Maven Java è¿›ç¨‹çš„å¯åŠ¨é€Ÿåº¦</h3><p>Maven ä½œä¸ºä¸€ä¸ª Java åº”ç”¨ç¨‹åºï¼Œå°±æ„å‘³ç€æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹ JVM è¿›è¡Œè°ƒä¼˜ä»¥æé«˜ Maven è¿›ç¨‹å¯åŠ¨é€Ÿåº¦ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-XX:+TieredCompilation -XX:TieredStopAtLevel=1</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä¸Šè¿°é…ç½®ï¼Œå¯ä½¿ JVM åªæ‰§è¡ŒåŸºæœ¬çš„ jIT ç¼–è¯‘ï¼Œè€Œä¸å°è¯•å»è·å–æ›´å¤šç²¾ç¡®é…ç½®ä¿¡æ¯ä¼˜åŒ–ä»£ç çš„æ‰§è¡Œã€‚</p><blockquote><p>ä¸ºæé«˜ Maven çš„æ„å»ºé€Ÿåº¦ï¼ŒMaven å®˜æ–¹å‚è€ƒ Gradle å’Œ Takari çš„æŠ€æœ¯ï¼Œå¼€å‘äº† <a href="https://github.com/apache/maven-mvnd">maven-mvnd</a>ã€‚mvnd ä¼šå¯åŠ¨ä¸€ä¸ªé•¿æ—¶è¿è¡Œçš„å®ˆæŠ¤è¿›ç¨‹æ¥è´Ÿè´£é¡¹ç›®æ„å»ºï¼Œå¹¶é‡‡ç”¨ GraalVM å¼€å‘ mvnd çš„å®¢æˆ·ç«¯ï¼Œä¸ä¼ çš„ mvn ç›¸æ¯”ï¼Œå¯åŠ¨é€Ÿåº¦æ›´å¿«ä¸”éœ€è¦çš„å†…å­˜æ›´å°‘ã€‚</p></blockquote><h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2><p>æœ¬æ–‡ä¸»è¦ç®€å•åœ°è®¨è®ºäº†å½±å“ maven é¡¹ç›®æ„å»ºé€Ÿåº¦çš„ä¸€äº›å› ç´ åŠä¸€äº›æé«˜ maven æ„å»ºé€Ÿåº¦çš„æŠ€å·§ã€‚æ›´å¤šå…³äº maven çš„ç†è®ºçŸ¥è¯†åŠå†…å®¹ï¼Œå¯ä»¥å‰å¾€ maven å®˜ç½‘æŸ¥çœ‹ï¼Œå¦å¤– <code>mvn</code> å‘½ä»¤è¡Œé€‰é¡¹å¯ä»¥å‚è€ƒ <a href="http://maven.apache.org/ref/3.6.3/maven-embedder/cli.html%E3%80%82">http://maven.apache.org/ref/3.6.3/maven-embedder/cli.htmlã€‚</a></p><h2 id="references"><a class="markdownIt-Anchor" href="#references"></a> References</h2><ol><li><a href="https://www.jrebel.com/blog/how-to-speed-up-your-maven-build">https://www.jrebel.com/blog/how-to-speed-up-your-maven-build</a></li><li><a href="https://forgettingtocode.com/2019/01/23/readme-slow-maven-builds/">https://forgettingtocode.com/2019/01/23/readme-slow-maven-builds/</a></li><li><a href="https://mincong.io/2018/11/01/speed-up-the-maven-build/">https://mincong.io/2018/11/01/speed-up-the-maven-build/</a></li><li><a href="http://maven.apache.org/ref/3.6.3/maven-embedder/cli.html">http://maven.apache.org/ref/3.6.3/maven-embedder/cli.html</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;Maven ä½œä¸º Java é¡¹ç›®çš„ä¸€ä¸ªå¸¸ç”¨æ„å»ºå·¥å…·ï¼Œå®ƒå¾ˆå®¹æ˜“ä¸Šæ‰‹ä½¿ç”¨ï¼Œä½†è‹¥ä¸å¯¹å…¶è¿›è¡Œæ·±å…¥äº†è§£ï¼Œåˆ™å¾€å¾€ä¼šåœ¨æˆ‘ä»¬åç»­ä½¿ç”¨è¿‡ç¨‹ä¸­ç•™ä¸‹ä¸€äº›éšæ‚£ã€‚&lt;br /&gt;
åœ¨æ—¥å¸¸å¼€å‘ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“é‡åˆ°è¾ƒå¤§ä»£ç è§„æ¨¡çš„é¡¹ç›®ï¼Œæ¶‰åŠå¤šç§ä¸åŒè¯­è¨€åŠæŠ€æœ¯ï¼Œæ­¤æ—¶ï¼Œåœ¨ä½¿ç”¨ Maven ä½œä¸ºä¸»æ„å»ºå·¥å…·è¿›è¡Œæœ¬åœ°é¡¹ç›®ç¼–è¯‘åŠæ„å»ºæ—¶ï¼Œåˆ™æœ‰å¯èƒ½ä¼šé‡åˆ°é¡¹ç›®æ„å»ºé€Ÿåº¦æ…¢çš„é—®é¢˜ã€‚ä¸ºæå‡å¼€å‘ä½“éªŒï¼Œæœ¬æ–‡å°†è®¨è®º Maven é¡¹ç›®æ„å»ºé€Ÿåº¦ä¼˜åŒ–ç›¸å…³æŠ€å·§ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="http://rovo98.github.io/categories/Java/"/>
    
    
    <category term="maven" scheme="http://rovo98.github.io/tags/maven/"/>
    
  </entry>
  
  <entry>
    <title>fcitx5-rime æŒ‚æ¥å°é¹¤éŸ³å½¢</title>
    <link href="http://rovo98.github.io/posts/2f1de6fa/"/>
    <id>http://rovo98.github.io/posts/2f1de6fa/</id>
    <published>2020-08-21T15:41:00.000Z</published>
    <updated>2021-09-14T11:23:07.305Z</updated>
    
    <content type="html"><![CDATA[<p>è¿‘å‡ å¤©ï¼Œåœ¨çœ‹ Github explore æ—¶æ„å¤–çœ‹åˆ°äº† <a href="https://github.com/hosxy/Fcitx5-Material-Color">fcitx5-material-color</a>ï¼Œæä¾›äº†æ›´å¥½çœ‹çš„ä¸»é¢˜è‰²ï¼Œå¹¶æ”¯æŒå•è¡Œå€™é€‰çª—æ˜¾ç¤ºï¼Œäºæ˜¯å†³å®šå°†ç”¨äº†è¿‘ä¸€å¹´çš„ fcitx æ¢æˆ fcitx5ã€‚<br /><img data-src="/images/linux/fcitx5-material-colors.png" alt="" /></p><p>é¡ºä¾¿ç®€å•ä»‹ç»ä¸€ä¸‹æˆ‘åœ¨ manjaro ä¸Šä½¿ç”¨å·²è¿‘ 2 å¹´å¤šçš„è¾“å…¥æ–¹æ¡ˆ - å°é¹¤éŸ³å½¢ã€‚</p><span id="more"></span><h3 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h3><p>Fcitx æ˜¯ä¸€ä¸ªå¯æ‰©å±•çš„è¾“å…¥æ³•æ¡†æ¶ï¼Œç›®å‰æ”¯æŒ Linux åŠ Unix-like çš„ç³»ç»Ÿå‘è¡Œç‰ˆã€‚è€Œ <a href="https://rime.im/">Rime</a> ä¸­å·éŸµæ˜¯ä¸€ä¸ªè·¨å¹³å°çš„è¾“å…¥æ³•å¼•æ“ï¼Œç”¨æˆ·å¯è‡ªå®šä¹‰å¹¶è®¾è®¡è¾“å…¥æ–¹æ¡ˆã€‚<br />fcitx-rime åˆ™æ˜¯ä¸º Fcitx æä¾›äº† rime çš„æ”¯æŒï¼Œæœ¬äººç›®å‰åœ¨ linux å¹³å°ä¸‹å¸¸ç”¨çš„æ˜¯ fcitx-rimeï¼Œ è€Œåœ¨ windows ç¯å¢ƒä¸‹ï¼Œåˆ™ä½¿ç”¨ã€Œå°ç‹¼è±ªã€ã€‚</p><p><a href="https://github.com/fcitx/fcitx5">Fcitx5</a> æ˜¯ Fcitx çš„æ–°ä¸€ä»£ï¼Œç›¸è¾ƒäºæ—§ç‰ˆ Fcitx4ï¼Œæœ‰äº†ä¸å°‘æ€§èƒ½æå‡ï¼Œå¹¶æä¾›äº†è®¸å¤šé¢å¤–çš„åŠŸèƒ½æ”¯æŒã€‚æ‰“å­—ä½“éªŒæ›´æµç•…ä¸”ç•Œé¢æ›´å¥½çœ‹äº†ã€‚</p><h3 id="fcitx5-å®‰è£…"><a class="markdownIt-Anchor" href="#fcitx5-å®‰è£…"></a> fcitx5 å®‰è£…</h3><p>ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯ Manjaro linuxï¼Œå› æ­¤ï¼Œä»¥ä¸‹å®‰è£…ä»‹ç»ä»¥ archlinux çš„å®‰è£…æ–¹å¼ä¸ºä¾‹ï¼Œå…¶ä»–åº”è¯¥ä¹Ÿæ˜¯ç±»ä¼¼ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S fcitx5</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-fcitx5-rime-æŒ‚æ¥å°é¹¤éŸ³å½¢"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-fcitx5-rime-æŒ‚æ¥å°é¹¤éŸ³å½¢"></a> ä½¿ç”¨ fcitx5-rime æŒ‚æ¥å°é¹¤éŸ³å½¢</h3><p>é¦–å…ˆï¼Œå°é¹¤éŸ³å½¢æ˜¯åœ¨å°é¹¤åŒæ‹¼çš„åŸºç¡€ä¸Šï¼Œå†å¼•å…¥äº†åŒå½¢çš„è§„åˆ™ï¼Œä½¿å¾—æ‰“å­—æ›´ç²¾å‡†åŒ–ã€‚æ›´å¤šå…³äºå°é¹¤éŸ³å½¢çš„å†…å®¹è¯¦è§å…¶å®˜ç½‘ä»‹ç» - <a href="https://www.flypy.com/xing.html">åŒå½¢</a>ã€‚</p><p>ğŸ’¬<strong>å…³äºæˆ‘é€‰æ‹©å­¦ä¹ å’Œä½¿ç”¨å°é¹¤éŸ³å½¢çš„å¥‘æœºï¼š</strong></p><p>ç›¸ä¿¡å¾ˆå¤šäººåˆšæ¥è§¦ä¸­æ–‡æ‰“å­—æ—¶ï¼Œè‡ªç„¶è€Œç„¶åœ°ä¼šé€‰æ‹©ä½¿ç”¨å…¨æ‹¼ï¼Œåœ¨æŒæ¡åŸºæœ¬çš„æ‰“å­—æ‰‹æ³•åï¼Œé…åˆæ™ºèƒ½è¾“å…¥æ³•çš„ä½¿ç”¨ï¼Œä¾¿èƒ½å¾ˆå¿«ä¸Šæ‰‹ï¼Œç†Ÿç»ƒä¸€æ®µæ—¶é—´åï¼Œå¾—ç›Šäºæ™ºèƒ½è¾“å…¥æ³•çš„æ™ºèƒ½è¯åº“ï¼Œæœ‰çš„äººå¾ˆå¿«å°±æ‹¥æœ‰äº†è¾ƒå¿«çš„æ‰“å­—é€Ÿåº¦ã€‚</p><p>ä½†å¯¹æˆ‘æ¥è¯´ï¼Œä½¿ç”¨å…¨æ‹¼æ‰“å­—æœ‰ä»¥ä¸‹ä¸¤å¤§é—®é¢˜ï¼ˆç—›ç‚¹ï¼‰ï¼š</p><ol><li><strong>å‡»é”®æ¬¡æ•°è¿‡å¤šï¼Œä¸”å®¹æ˜“å‡ºé”™</strong>ï¼›å‡»é”®æ¬¡æ•°è¶Šå¤šè¶Šå®¹æ˜“å‡ºé”™ï¼Œe.g. å£°æ¯+éŸµæ¯æœ€å¤šå¯æœ‰ 6 ä¸ªå­—æ¯ï¼›</li><li><strong>å¿…ç„¶å‡ºç°é‡ç </strong>ï¼Œé‡åˆ°ååƒ»è¯å¯èƒ½éœ€è¦ä»å€™é€‰çª—ä¸­ç¿»éå¸¸ä¹…ï¼Œè¿˜å¯èƒ½æ‰¾ä¸åˆ°ã€‚</li></ol><p>äºæ˜¯ä¹ï¼Œç»ä¸€ç•ªæ£€ç´¢åï¼Œæˆ‘å‘ç°äº†åŒæ‹¼è¾“å…¥æ–¹æ¡ˆï¼Œå®ƒä»¬å¯ä»¥å¾ˆå¥½çš„è§£å†³é—®é¢˜ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå…¶å®å¾ˆå¤šæ™ºèƒ½è¾“å…¥æ³•ä¹Ÿæ—©å·²æœ‰äº†åˆ‡æ¢åŒæ‹¼è¾“å…¥æ–¹æ¡ˆçš„é…ç½®ï¼Œä¹Ÿå­˜åœ¨ç€æ¯”è¾ƒå¤šçš„åŒæ‹¼æ–¹æ¡ˆå¯ä¾›é€‰æ‹©å’Œä½¿ç”¨ï¼Œå¦‚è‡ªç„¶ç ã€æœç‹—ã€å¾®è½¯ã€å°é¹¤åŒæ‹¼ç­‰ã€‚ä½†æˆ‘ä»¬å¾ˆå¿«å¯ä»¥æ„è¯†åˆ°ä½¿ç”¨åŒæ‹¼ä¸èƒ½è§£å†³ç¬¬äºŒä¸ªé—®é¢˜ã€‚</p><p>æˆ‘é€‰æ‹©å°é¹¤åŒæ‹¼æ–¹æ¡ˆçš„ä¸»è¦åŸå› æ˜¯ä¸ºäº†åç»­èƒ½è¿›ä¸€æ­¥ä½¿ç”¨åŒå½¢ï¼Œå³åœ¨æŒæ¡å°é¹¤åŒæ‹¼åï¼Œè¿‡æ¸¡å»å­¦ä¹ åŒå½¢ã€‚è€Œä¸”å°é¹¤éŸ³å½¢çš„å°å­—æ ¹è§„åˆ™è¿˜ç®—ç®€å•ï¼ŒèŠ±ä¸ªå‡ åˆ†é’Ÿçœ‹ä¸€ä¸‹è§„åˆ™ï¼Œåç»­åœ¨ç»ƒä¹ å’Œå®è·µä¸­æ…¢æ…¢æŒæ¡å³å¯ï¼Œå¦‚å®˜ç½‘æ¨èçš„ 500 å•å­—ç»ƒä¹ ç­‰ï¼Œå¦å¤–ä¹Ÿæœ‰ç›¸åº”çš„å¾®ä¿¡å°ç¨‹åºå¯ä»¥è®©æˆ‘ä»¬å­¦ä¹ åŒå½¢ã€‚ç†Ÿç»ƒä¹‹åï¼Œæ‰“å­—æ—¶åˆ™å®Œå…¨å¯ä¸‹æ„è¯†å¿«é€Ÿåœ°æ‰“å‡ºæƒ³è¦çš„å­—è¯ã€‚</p><h4 id="æŒ‚æ¥æ–‡ä»¶"><a class="markdownIt-Anchor" href="#æŒ‚æ¥æ–‡ä»¶"></a> æŒ‚æ¥æ–‡ä»¶</h4><p>ä»å°é¹¤éŸ³å½¢å®˜ç½‘ä¸Šæä¾›çš„ç½‘ç›˜<a href="http://flypy.ys168.com/">ä¸‹è½½</a>ï¼Œåœ¨å°é¹¤éŸ³å½¢æŒ‚æ¥ç¬¬ä¸‰æ–¹å¹³å°ç›®å½•ä¸‹ï¼Œé€‰æ‹©ç›¸åº”å¹³å°çš„æŒ‚æ¥æ–‡ä»¶, e.g linux å¹³å°å¯ä¸‹è½½ã€Œå°é¹¤éŸ³å½¢&quot;é¼ é¡»ç®¡â€for macOS.zipã€ã€‚</p><p>å‹ç¼©åŒ…ä¸‹è½½å®Œæˆåï¼Œè¿›è¡Œè§£å‹ï¼Œå…¶ä¸­åŒ…å«çš„æ–‡ä»¶æ¸…å•å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ MACé¼ é¡»ç®¡å°é¹¤éŸ³å½¢æŒ‚æ¥è¯´æ˜.txt</span><br><span class="line">â””â”€â”€ rime</span><br><span class="line">    â”œâ”€â”€ build</span><br><span class="line">    â”‚   â”œâ”€â”€ flypydz.prism.bin</span><br><span class="line">    â”‚   â”œâ”€â”€ flypydz.reverse.bin</span><br><span class="line">    â”‚   â”œâ”€â”€ flypydz.table.bin</span><br><span class="line">    â”‚   â”œâ”€â”€ flypyplus.prism.bin</span><br><span class="line">    â”‚   â”œâ”€â”€ flypyplus.reverse.bin</span><br><span class="line">    â”‚   â”œâ”€â”€ flypyplus.table.bin</span><br><span class="line">    â”‚   â”œâ”€â”€ flypy.prism.bin</span><br><span class="line">    â”‚   â”œâ”€â”€ flypy.reverse.bin</span><br><span class="line">    â”‚   â””â”€â”€ flypy.table.bin</span><br><span class="line">    â”œâ”€â”€ default.custom.yaml</span><br><span class="line">    â”œâ”€â”€ default.yaml</span><br><span class="line">    â”œâ”€â”€ flypyplus.schema.yaml</span><br><span class="line">    â”œâ”€â”€ flypy.schema.yaml</span><br><span class="line">    â”œâ”€â”€ flypy_sys.txt</span><br><span class="line">    â”œâ”€â”€ flypy_top.txt</span><br><span class="line">    â”œâ”€â”€ flypy_user.txt</span><br><span class="line">    â”œâ”€â”€ rime.lua</span><br><span class="line">    â”œâ”€â”€ squirrel.custom.yaml</span><br><span class="line">    â””â”€â”€ squirrel.yaml</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™äº›å®˜æ–¹æä¾›çš„æŒ‚æ¥æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯å¾ˆç®€å•åœ°å‚ç…§<code>MACé¼ é¡»ç®¡å°é¹¤éŸ³å½¢æŒ‚æ¥è¯´æ˜.txt</code> çš„éƒ¨ç½²è¯´æ˜ï¼Œå°† rime ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ° <code>/usr/share/rime-data</code> ç›®å½•ä¸‹ï¼Œä¾¿èƒ½å®Œæˆäº† rime æŒ‚æ¥å°é¹¤éŸ³å½¢ã€‚</p><h3 id="é…ç½®-fcitx5"><a class="markdownIt-Anchor" href="#é…ç½®-fcitx5"></a> é…ç½® fcitx5</h3><p>å®Œæˆå°é¹¤éŸ³å½¢æŒ‚æ¥æ–‡ä»¶éƒ¨ç½²åï¼Œå¯¹ fcitx5 æœåŠ¡è¿›è¡Œé‡å¯ï¼Œç„¶åæ‰“å¼€é…ç½®ï¼Œæ·»åŠ  rime è¾“å…¥æ³•ã€‚</p><p><img data-src="fcit5-add-rime-input-method.png" alt="" /></p><p>å®Œæˆé…ç½®åï¼Œä¾¿å¼€å§‹æ„‰å¿«åœ°ä½¿ç”¨å°é¹¤éŸ³å½¢äº†ğŸ˜Šã€‚</p><h3 id="fcitx5-ä¸»é¢˜è®¾ç½®"><a class="markdownIt-Anchor" href="#fcitx5-ä¸»é¢˜è®¾ç½®"></a> fcitx5 ä¸»é¢˜è®¾ç½®</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªèƒ½ä½¿ç”¨ fcitx5 å†…å»ºä¸»é¢˜ï¼Œä¸ºä½¿ç”¨å…¶ä»–ä¸»é¢˜é…è‰²ï¼Œæˆ‘ä»¬å¯ä» github ç­‰è¿›è¡Œæœç´¢ï¼Œæ‰¾å¯» fcitx5 ä¸»é¢˜ï¼Œå¹¶æŒ‰ç…§å®‰è£…æŒ‡å¼•è¿›è¡Œç›¸åº”ä¸»é¢˜é…ç½®ã€‚ä¾‹å¦‚ï¼Œæœ¬æ–‡å¼€å¤´æåˆ°çš„ fcitx5-material-color ä¸»é¢˜å°±æŒºä¸é”™çš„ğŸ™‚ã€‚</p><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3><p>ä¸çŸ¥ä¸è§‰æˆ‘ä½¿ç”¨å°é¹¤éŸ³å½¢å·²ç»è¾ƒé•¿ä¸€æ®µæ—¶é—´äº†ï¼Œå¦‚ä»Šæ‰“å­—æ—¶å·²ä¸æ—©åƒæœ€åˆåˆšæ¥è§¦éŸ³å½¢è§„åˆ™æ—¶ï¼Œæ‰“ä¸€äº›ä¸ç†Ÿæ‚‰çš„å­—å¯èƒ½éœ€è¦çŸ­æš‚çš„åœé¡¿æ¥æ€ç´¢è¦æ‰“çš„å­—è¯¥æ€ä¹ˆæ‰“ã€‚åœ¨ä¸Šæ‰‹å°é¹¤éŸ³å½¢ä¸€æ®µæ—¶é—´åï¼Œæ‰‹æŒ‡ä¹ æƒ¯æ‰“éŸ³å½¢çš„èŠ‚å¥åï¼Œæ‰“å­—ä½“éªŒä¾¿å¾—åˆ°äº†è´¨çš„é£è·ƒï¼Œç°åœ¨åè€Œä¸ä¹ æƒ¯ä½¿ç”¨å…¨æ‹¼äº†ï¼Œåœ¨æ²¡æœ‰éŸ³å½¢æ–¹æ¡ˆæ—¶ï¼Œä¹Ÿä¼šé€€è€Œæ±‚å…¶æ¬¡é€‰æ‹©å°é¹¤åŒæ‹¼æ–¹æ¡ˆã€‚ä½¿ç”¨å°é¹¤åŒæ‹¼æ–¹æ¡ˆè‡³å°‘è¿˜èƒ½è§£å†³æˆ‘é‡åˆ°çš„ç¬¬ä¸€ä¸ªä¸­æ–‡è¾“å…¥é—®é¢˜â€”â€”å‡»é”®æ¬¡æ•°è¿‡å¤šï¼Œå®¹æ˜“å‡ºé”™ã€‚</p><p>ä¸‹é¢çš„å‡ ä¸ª gif å›¾ä¸»è¦å±•ç¤ºäº†ä½¿ç”¨å°é¹¤éŸ³å½¢æ‰“å­—çš„åŸºæœ¬æƒ…å†µ:</p><p><img data-src="xhyx-input-method.gif" alt="" /></p><p><img data-src="fcitx5-typing-testing-demo.gif" alt="" /></p><p>åœ¨ windows ç³»ç»Ÿä¸‹ï¼Œæˆ‘ä¼šé€‰æ‹©å®‰è£…å°é¹¤éŸ³å½¢å®˜æ–¹æä¾›çš„è¾“å…¥æ³•è½¯ä»¶ï¼Œèƒ½å¤Ÿå®Œå…¨éšè—æ‰“å­—æ—¶çš„å€™é€‰çª—ï¼Œå®ç°çœŸæ­£çš„ç›²æ‰“ğŸ˜ã€‚<br />ä½¿ç”¨ fcitx5-rime ä¸å¤ªå¥½é…ç½®éšè—æ‰“å­—çš„å€™é€‰çª—ã€‚å¦å¤–ï¼Œåœ¨æ‰‹æœºç³»ç»Ÿæˆ‘åŒæ ·ä½¿ç”¨å°é¹¤éŸ³å½¢å®˜æ–¹æä¾›çš„å®‰å“è¾“å…¥æ³•åº”ç”¨ã€‚</p><h3 id="references"><a class="markdownIt-Anchor" href="#references"></a> References</h3><ol><li><a href="https://www.flypy.com/">https://www.flypy.com/</a></li><li><a href="https://github.com/hosxy/Fcitx5-Material-Color">https://github.com/hosxy/Fcitx5-Material-Color</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;è¿‘å‡ å¤©ï¼Œåœ¨çœ‹ Github explore æ—¶æ„å¤–çœ‹åˆ°äº† &lt;a href=&quot;https://github.com/hosxy/Fcitx5-Material-Color&quot;&gt;fcitx5-material-color&lt;/a&gt;ï¼Œæä¾›äº†æ›´å¥½çœ‹çš„ä¸»é¢˜è‰²ï¼Œå¹¶æ”¯æŒå•è¡Œå€™é€‰çª—æ˜¾ç¤ºï¼Œäºæ˜¯å†³å®šå°†ç”¨äº†è¿‘ä¸€å¹´çš„ fcitx æ¢æˆ fcitx5ã€‚&lt;br /&gt;
&lt;img data-src=&quot;/images/linux/fcitx5-material-colors.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;é¡ºä¾¿ç®€å•ä»‹ç»ä¸€ä¸‹æˆ‘åœ¨ manjaro ä¸Šä½¿ç”¨å·²è¿‘ 2 å¹´å¤šçš„è¾“å…¥æ–¹æ¡ˆ - å°é¹¤éŸ³å½¢ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Linux" scheme="http://rovo98.github.io/categories/Linux/"/>
    
    
    <category term="software" scheme="http://rovo98.github.io/tags/software/"/>
    
  </entry>
  
  <entry>
    <title>RDD:Resilient Distributed Dataset</title>
    <link href="http://rovo98.github.io/posts/aee10f22/"/>
    <id>http://rovo98.github.io/posts/aee10f22/</id>
    <published>2020-07-23T07:12:00.000Z</published>
    <updated>2021-09-09T14:11:36.696Z</updated>
    
    <content type="html"><![CDATA[<p>RDDï¼Œä¸€ä¸ªåªè¯»çš„å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼Œä¸€ä¸ªç”± Spark æä¾›çš„åˆ†å¸ƒå¼å†…å­˜è®¡ç®—æŠ½è±¡æ¨¡å‹ã€‚æ˜¯ Spark æ„å»ºçš„æ ¹åŸºã€‚ä¸ºäº†æ·±å…¥äº†è§£ Spark çš„ç¼–ç¨‹æ¨¡å‹ï¼Œå­¦ä¹  Spark ï¼Œæˆ‘ä»¬éå¸¸æœ‰å¿…è¦äº†è§£ä»€ä¹ˆæ˜¯ RDDã€‚</p><span id="more"></span><h3 id="èƒŒæ™¯"><a class="markdownIt-Anchor" href="#èƒŒæ™¯"></a> èƒŒæ™¯</h3><p>åœ¨ Spark å‡ºç°ä¹‹å‰ï¼ŒMapReduce å’Œ Dryad å·²ç»è¢«å¹¿æ³›åœ°åº”ç”¨äºå¤§è§„æ¨¡æ•°æ®åˆ†æå¤„ç†ä¸­ï¼Œè¿™ä¸¤ç³»ç»Ÿå…è®¸ç”¨æˆ·é€šè¿‡ä¸€ç»„é«˜çº§ç®—å­æ¥ç¼–å†™åˆ†å¸ƒå¼è®¡ç®—åº”ç”¨ï¼Œè€Œä¸éœ€è¦æ‹…å¿ƒåˆ†å¸ƒå¼åä½œåŠå®¹é”™é—®é¢˜ã€‚å°½ç®¡è®¸å¤šæ¡†æ¶æä¾›äº†å¾ˆå¤šè®¿é—®é›†ç¾¤è®¡ç®—èµ„æºçš„æŠ½è±¡ï¼Œä½†å®ƒä»¬å‡ç¼ºä¹èƒ½å¯¹åˆ†å¸ƒå¼å†…å­˜è¿›è¡Œå……åˆ†åˆ©ç”¨çš„æŠ½è±¡æ¨¡å‹ï¼Œè¿™ä½¿å¾—å®ƒä»¬æš´éœ²å‡ºäº†ä¸€äº›é—®é¢˜ï¼š</p><ul><li>ç”±äºæ— æ³•å­˜æ”¾è®¡ç®—ä¸­é—´ç»“æœï¼Œè¿™åœ¨è®¸å¤šè·¨å¤šè®¡ç®—éœ€è¦é‡å¤ä½¿ç”¨ä¸­é—´ç»“æœçš„åº”ç”¨è®¡ç®—ä¸­ï¼Œå˜å¾—éå¸¸åœ°ä½æ•ˆç‡ï¼›</li><li>å®ƒä»¬åªèƒ½é€šè¿‡å°†ä¸­é—´ç»“æœå†™å…¥åˆ°ä¸€ä¸ªå¤–éƒ¨å¤–éƒ¨ç¨³å®šå­˜å‚¨ä¸­ï¼Œä»¥è§£å†³ä¸­é—´è®¡ç®—ç»“æœçš„é‡å¤åˆ©ç”¨é—®é¢˜ã€‚ä½†è¿™æ ·æ•°æ®è®¿é—®ä¹Ÿå¾ˆä½æ•ˆã€‚</li></ul><p>ä¸ºäº†é«˜æ•ˆåœ°é‡å¤åˆ©ç”¨ä¸­é—´è®¡ç®—ç»“æœï¼Œæœ‰ç ”ç©¶äººå‘˜ä¸ºä¸€äº›éœ€è¦æ•°æ®é‡ç”¨çš„åº”ç”¨ä¸“é—¨å¼€å‘äº†ä¸€äº›æ¡†æ¶ï¼Œå¦‚ Pregelï¼Œæ˜¯ä¸€ä¸ªèƒ½å°†ä¸­é—´æ•°æ®ä¿å­˜åˆ°å†…å­˜ä¸­çš„è¿­ä»£å¼å›¾è®¡ç®—ç³»ç»Ÿï¼Œè¿˜æœ‰ HaLoopï¼Œå®ƒåˆ™æä¾›äº†è¿­ä»£å¼çš„ MapReduce æ¥å£ã€‚å°½ç®¡å®ƒä»¬åœ¨æŸä¸€ç¨‹åº¦ä¸Šè§£å†³äº†ä¸­é—´è®¡ç®—è®¡ç®—æ•°æ®çš„é‡ç”¨é—®é¢˜ï¼Œä½†è¿™äº›æ¡†æ¶éƒ½ä»…é€‚ç”¨äºç‰¹å®šçš„è®¡ç®—æ¨¡å¼ï¼Œä¸”æ•°æ®å…±äº«æ˜¯éšå¼çš„ï¼Œæ²¡æœ‰é€šç”¨çš„æ•°æ®é‡ç”¨æ”¯æŒã€‚Spark RDD çš„åˆ°æ¥åˆ™æ‰“ç ´äº†è¿™ä¸€å±€é¢ã€‚</p><h3 id="rdd"><a class="markdownIt-Anchor" href="#rdd"></a> RDD</h3><h4 id="æŠ½è±¡æ¨¡å‹"><a class="markdownIt-Anchor" href="#æŠ½è±¡æ¨¡å‹"></a> æŠ½è±¡æ¨¡å‹</h4><p>ä¸€ä¸ª RDD æ˜¯ä¸€ä¸ªåªè¯»çš„ï¼Œåˆ†åŒºçš„æ•°æ®é›†ï¼Œä¸”æ‰€æœ‰ RDD ä»…èƒ½ä»æŸç¨³å®šçš„æ•°æ®å­˜å‚¨ä¸Šçš„æ•°æ®åŠå…¶ä»– RDDs ä¸Šæ‰§è¡Œç‰¹å®šæ“ä½œæ¥è¿›è¡Œåˆ›å»ºã€‚ä¸ºä¸ RDD çš„å…¶ä»–æ“ä½œåŒºåˆ†å¼€æ¥ï¼Œè¿™äº›ç‰¹å®šæ“ä½œè¢«ç§°ä¸º transformations ï¼ˆè½¬æ¢ç®—å­ï¼‰ï¼Œe.g. <code>map</code>, <code>filter</code>, <code>join</code>ã€‚éœ€è¦ç‰¹åˆ«æŒ‡å‡ºçš„æ˜¯ï¼ŒRDDs ä¸éœ€è¦æ—¶åˆ»ä¿æŒå…·ä½“åŒ–ï¼ˆmaterializedï¼‰ï¼Œå› ä¸º RDD æ‹¥æœ‰è¶³å¤Ÿå¤šçš„ä¿¡æ¯å…³äºå®ƒä»ä½•è€Œæ¥ï¼ˆé€šè¿‡å…¶è¡€ç¼˜ lineageï¼‰ä»¥åŠå¦‚ä½•æ‰¾åˆ°éœ€è¦è®¡ç®—çš„æ•°æ®ï¼ŒåŒ…æ‹¬è®¡ç®—æ–¹å¼ã€‚è¿™æ˜¯ RDD æ‹¥æœ‰çš„ä¸€ä¸ªéå¸¸å¼ºå¤§çš„å±æ€§ï¼Œæ­¤å¤–ï¼Œç”¨æˆ·è¿˜èƒ½å¯¹ RDD çš„æŒä¹…åŒ–å’Œåˆ†åŒºæ–¹å¼è¿›è¡Œæ§åˆ¶ï¼ŒæŒ‡ç¤º RDD æ˜¯å¦éœ€è¦è¢«é‡ç”¨ï¼Œå¹¶æŒ‡å®šå…¶å­˜å‚¨ç­–ç•¥ã€‚</p><h4 id="ç¼–ç¨‹æ¥å£"><a class="markdownIt-Anchor" href="#ç¼–ç¨‹æ¥å£"></a> ç¼–ç¨‹æ¥å£</h4><p>Spark å’Œ DryadLINQ åŠ FlumeJava ç±»ä¼¼ï¼ŒåŒæ ·é€šè¿‡é›†æˆç¼–ç¨‹è¯­è¨€ API æ¥æš´éœ² RDDsï¼Œæ¯ä¸ªæ•°æ®é›† RDD è¡¨ç¤ºä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•æ¥æ‰§è¡Œç›¸åº”çš„è½¬æ¢(transformation)åŠåŠ¨ä½œ(action)æ“ä½œã€‚</p><img data-src="driver-workers-diagram.png" /><p>ä¸ºä½¿ç”¨ Sparkï¼Œç”¨æˆ·éœ€è¦ç¼–å†™è¿æ¥ workers çš„é©±åŠ¨ç¨‹åºï¼Œåœ¨è¯¥é©±åŠ¨ç¨‹åºä¸­å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ª RDDsï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹ä¸Šæ‰§è¡Œ transformations ä»¥åŠ  actionsã€‚RDD çš„ä¸€èˆ¬ç¼–ç¨‹æ¨¡å¼å¦‚ä¸‹ï¼š</p><ul><li>åˆ›å»º RDD: å¯ä»ç¨³å®šçš„æ•°æ®å­˜å‚¨æˆ–ç°æœ‰çš„å…¶ä»– RDDsï¼Œä½¿ç”¨ transformation è½¬æ¢ç®—å­æ¥è¿›è¡Œåˆ›å»ºï¼›</li><li>æ“ä½œ RDD: å¯¹äºåˆ›å»ºçš„ RDDsï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œ transformations æˆ– actions æ“ä½œï¼›</li><li>å…¶ä»–ï¼šæ­¤å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥é€šè¿‡è°ƒç”¨ <code>persist</code> æ–¹æ³•æ¥æŒ‡ç¤ºè¯¥ RDD åœ¨æœªæ¥æ“ä½œä¸­å°†éœ€è¦è¢«é‡ç”¨ã€‚</li></ul><p>Driver èŠ‚ç‚¹ä¸Š Spark è¿˜è´Ÿè´£è·Ÿè¸ª RDDs çš„è¡€ç¼˜å…³ç³»ï¼ˆlineageï¼‰ã€‚Workers åˆ™ä½œä¸ºé•¿æœŸè¿è¡Œçš„è¿›ç¨‹ï¼Œèƒ½æ ¹æ®æ“ä½œéœ€è¦ï¼Œå°† RDD çš„åˆ†åŒºå­˜å‚¨åˆ° RAM å†…å­˜ä¸­ã€‚</p><p><img data-src="transformations-actions-available-on-RDDs-in-spark.png" alt="" /></p><h4 id="ä¼˜ç‚¹åŠå±€é™æ€§"><a class="markdownIt-Anchor" href="#ä¼˜ç‚¹åŠå±€é™æ€§"></a> ä¼˜ç‚¹åŠå±€é™æ€§</h4><p>ä¸ºå±•ç¤º RDD æ¨¡å‹ä½œä¸ºä¸€ä¸ªåˆ†å¸ƒå¼å†…å­˜æŠ½è±¡çš„ä¼˜ç‚¹ï¼Œæ–‡ç« å°†å…¶ä¸åˆ†å¸ƒå¼å…±äº«å†…å­˜ (Distributed shared memory, DSM) è¿›è¡Œäº†å¯¹æ¯”ï¼Œè§ä¸‹è¡¨ã€‚åœ¨ DSM ç³»ç»Ÿä¸­ï¼Œåº”ç”¨å¯åœ¨å…¨éƒ¨åœ°å€ç©ºé—´ä¸­ï¼Œå¯¹ä»»æ„ä½ç½®è¿›è¡Œè¯»å†™ã€‚DSM æ˜¯ä¸€ä¸ªéå¸¸æ³›åŒ–çš„æŠ½è±¡ï¼Œä½†å®ƒçš„æ³›åŒ–æ€§ï¼ˆgeneralityï¼‰åè€Œä½¿å¾—æˆ‘ä»¬å¾ˆéš¾ç”¨å®ƒå®ç°åœ¨å•†ç”¨é›†ç¾¤ä¸Šå®ç°é«˜æ•ˆçš„å®¹é”™æ–¹æ¡ˆã€‚</p><p><img data-src="comparison-of-RDDs-and-DSM.png" alt="" /></p><p>å°½ç®¡ RDD æŠ½è±¡æ¨¡å‹æœ‰è¯¸å¤šä¼˜ç‚¹ï¼Œä½†ä¹Ÿæœ‰å®ƒåº”ä»˜ä¸æ¥çš„åº”ç”¨ç±»å‹ã€‚é¦–å…ˆï¼ŒRDDs éå¸¸é€‚åˆé‚£äº›åœ¨ä¸€ä¸ªæ•°æ®é›†ä¸Šæ‰§è¡ŒåŒä¸€æ“ä½œçš„æ‰¹å¤„ç†åº”ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒRDDs å¯ä»¥ä½¿ç”¨ä¸€ä¸ªè¡€ç¼˜å›¾ï¼ˆlineage graphï¼‰é«˜æ•ˆåœ°è®°ä½æ¯ä¸€ä¸ª transformationï¼Œå½“åˆ†åŒºä¸¢å¤±æ—¶ï¼Œä¹Ÿä¸éœ€è¦å¯¹å¤§é‡çš„æ•°æ®è¿›è¡Œå¤„ç†ã€‚</p><p>RDDs ä¸é€‚åˆéœ€è¦å¼‚æ­¥ç»†ç²’åº¦å…±äº«çŠ¶æ€æ›´æ–°çš„åº”ç”¨ï¼Œå¦‚ Web åº”ç”¨æˆ–å¢é‡ Web çˆ¬è™«çš„å­˜å‚¨ç³»ç»Ÿã€‚å¯¹äºè¿™äº›åº”ç”¨ï¼Œä½¿ç”¨æ‰§è¡Œä¼ ç»Ÿæ—¥å¿—æ›´æ–°åŠæ•°æ® checkpoint çš„ç³»ç»Ÿå¯èƒ½æ›´é«˜æ•ˆï¼Œå¦‚æ•°æ®åº“ï¼ŒRAMCloud, Percolator ä»¥åŠ Piccoloã€‚RDD æ¨¡å‹çš„è®¾è®¡ç›®æ ‡æ˜¯ä¸ºæ‰¹å¤„ç†åˆ†ææä¾›ä¸€ç§é«˜æ•ˆçš„ç¼–ç¨‹æ¨¡å‹ã€‚</p><h3 id="rdd-in-spark"><a class="markdownIt-Anchor" href="#rdd-in-spark"></a> RDD in Spark</h3><h4 id="è¡¨ç¤º"><a class="markdownIt-Anchor" href="#è¡¨ç¤º"></a> è¡¨ç¤º</h4><p>RDD æŠ½è±¡çš„è¡¨ç¤ºï¼Œå…¶é¢å¯¹çš„æœ€å¤§æŒ‘æˆ˜æ˜¯åœ¨æä¾›ä¸°å¯Œçš„ transformations ä»¥åŠ  actions ç®—å­æ“ä½œä¾›ç”¨æˆ·ä»»æ„ç»„åˆçš„åŒæ—¶ï¼Œè¿˜éœ€è¦èƒ½åœ¨å¤§é‡çš„ transformations è·Ÿè¸ª RDD çš„è¡€ç¼˜ï¼ˆlineageï¼‰ã€‚ä¸ºå®ç°è¿™äº›ç›®æ ‡ï¼ŒSpark é€‰æ‹©äº†ä¸€ç§åŸºäºå›¾çš„ RDD è¡¨ç¤ºæ–¹å¼ï¼Œå…¶ä¸­ï¼Œæ¯ä¸ª RDD å‡ä½¿ç”¨ä¸€ä¸ªé€šç”¨çš„æ¥å£è¿›è¡Œè¡¨ç¤ºï¼Œä¸»è¦åŒ…å«äº”ç±»ä¿¡æ¯ï¼šä¸€ç»„åˆ†åŒºï¼ˆa set of partitionsï¼‰ã€ä¸€ç»„çˆ¶ RDD çš„ä¾èµ–ï¼ˆa set of dependenciesï¼‰ã€ä¸€ä¸ªåŸºäºçˆ¶ RDD è®¡ç®—æ•°æ®é›†çš„å‡½æ•°ï¼ˆa functionï¼‰ã€åˆ†åŒºæ¨¡å¼çš„å…ƒæ•°æ®ï¼ˆmetadata about its partitioning schemaï¼‰ä»¥åŠæ•°æ®å­˜æ”¾ä½ç½®ä¿¡æ¯ï¼ˆdata placementï¼‰ã€‚</p><p><img data-src="interface-used-to-represent-RDDs-in-spark.png" alt="" /></p><p>è¿™äº›ä¿¡æ¯åœ¨ Spark å®ç°ä¸­çš„å…·ä½“æ¥å£è§ä¸Šå›¾ã€‚</p><p>å¦å¤–ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¯¥æ¥å£ç”¨äºè¡¨ç¤º RDDs é—´ä¾èµ–å…³ç³»çš„è®¾è®¡æ˜¯ä¸€ä¸ªéå¸¸æœ‰è¶£çš„é—®é¢˜ï¼Œå®ƒå°†ä¾èµ–åˆ’åˆ†æˆäº†<strong>çª„ä¾èµ–</strong>ï¼ˆ<em>narrow dependencies</em>ï¼‰ä»¥åŠ<strong>å®½ä¾èµ–</strong>ï¼ˆ<em>wide dependencies</em>ï¼‰ã€‚å…¶ä¸­ï¼Œçª„ä¾èµ–æŒ‡ä¸€ä¸ªçˆ¶ RDD çš„æ¯ä¸€ä¸ªåˆ†åŒºåªèƒ½è¢«å…¶å­ RDD çš„æŸä¸€ä¸ªåˆ†åŒºæ‰€ä½¿ç”¨ï¼Œè€Œå¯¹äºå®½ä¾èµ–ï¼Œåˆ™å¤šä¸ªå­ RDD åˆ†åŒºå¯ä¾èµ–äºåŒä¸€ä¸ªçˆ¶ RDD åˆ†åŒºã€‚å¸¸è§åœ°ï¼Œ<code>map</code>, <code>filter</code>, <code>union</code> éƒ½æ˜¯çª„ä¾èµ–ï¼Œè€Œ <code>join</code> åˆ™æ˜¯å®½ä¾èµ–ï¼ˆçˆ¶ RDD æ²¡æœ‰è¿›è¡Œ hash åˆ†åŒºçš„æƒ…å†µä¸‹ï¼‰ã€‚å°†ä¾èµ–è¿›è¡Œè¿™æ ·åˆ’åˆ†çš„åŸå› ä¸»è¦æœ‰ä¸¤ï¼š</p><ol><li>çª„ä¾èµ–å¯ä»¥åœ¨å•ä¸ªé›†ç¾¤èŠ‚ç‚¹ä¸Šä»¥æµæ°´çº¿æ–¹å¼æ‰§è¡Œï¼Œè®¡ç®—æ‰€æœ‰çˆ¶ RDD çš„åˆ†åŒºï¼›</li><li>èŠ‚ç‚¹æ•…éšœåï¼Œçª„ä¾èµ–çš„æ¢å¤æ›´é«˜æ•ˆï¼Œåªéœ€é‡æ–°è®¡ç®—ä¸¢å¤±çš„çˆ¶ RDD åˆ†åŒºï¼Œä¸”èƒ½åœ¨ä¸åŒèŠ‚ç‚¹ä¸Šä»¥å¹¶è¡Œçš„æ–¹å¼è¿›è¡Œè®¡ç®—ï¼Œè€Œå¯¹äºå®½ä¾èµ–ï¼Œå¯èƒ½å•ä¸ªèŠ‚ç‚¹çš„æ•…éšœï¼Œä¼šå¯¼è‡´æŸ RDD çš„ç¥–å…ˆ RDD çš„éƒ¨åˆ†åˆ†åŒºä¸¢å¤±ï¼Œä½¿å¾—å¿…é¡»å®Œå…¨é‡æ–°è®¡ç®—ã€‚</li></ol><p><img data-src="narrow-deps-and-wide-deps-of-rdds.png" alt="" /></p><p>ä¸€äº› RDD å®ç°çš„ç®€å•æè¿°ï¼š</p><p><strong>HDFS æ–‡ä»¶</strong>ï¼š å¯¹äºè¿™äº› RDDsï¼Œ<code>partitions</code> æ–¹æ³•è¿”å›åˆ†åŒºï¼Œå…¶ä¸­æ¯ä¸€ä¸ªåˆ†åŒºå¯¹åº” HDFS æ–‡ä»¶çš„ä¸€ä¸ª block å—ï¼ˆå—çš„ offset ä¿¡æ¯ä¹ŸåŒ…å«åœ¨ <code>Parttion</code> å¯¹è±¡ä¸­ï¼‰ï¼Œ<code>preferredLocations</code> æ–¹æ³•ç»™å‡ºè¿™äº›å—æ‰€å¤„çš„èŠ‚ç‚¹ï¼Œè€Œ <code>iterator</code> æ–¹æ³•åˆ™ç”¨äºè¯»å–è¿™äº›å—æ•°æ®ã€‚</p><p><strong>map</strong>: åœ¨ä»»æ„ RDD ä¸Šè°ƒç”¨ <code>map</code> æ–¹æ³•ï¼Œä¼šè¿”å›ä¸€ä¸ª <code>MappedRDD</code> å¯¹è±¡ã€‚è¯¥å¯¹è±¡çš„åˆ†åŒºåŠé¦–é€‰ä½ç½®ï¼ˆpreferred locationsï¼‰ä¸å…¶çˆ¶ RDD ä¸€æ ·ï¼Œä½†ä¼šåœ¨ <code>iterator</code> æ–¹æ³•ä¸­å¯¹å…¶çˆ¶ RDD çš„æ•°æ®æ‰§è¡Œä¼ å…¥ç»™ <code>map</code> çš„å‡½æ•°ã€‚</p><p><img data-src="maprdd-illustration-combined.png" alt="" /></p><p><strong>union</strong>: åœ¨ä¸¤ä¸ª RDDs ä¸Šè°ƒç”¨ <code>union</code> æ–¹æ³•ï¼Œåˆ™è¿”å›ä¸€ä¸ª RDDï¼Œå…¶åˆ†åŒºæ˜¯ä¸¤ä¸ªçˆ¶ RDD åˆ†åŒºçš„ç»„åˆï¼ŒRDD çš„æ¯ä¸ªåˆ†åŒºå‡é€šè¿‡å…¶çˆ¶ RDD çš„çª„ä¾èµ–å¯¹åº”åˆ†åŒºè¿›è¡Œè®¡ç®—ï¼›</p><p><strong>sample</strong>: å–æ · <code>sample</code> æ–¹æ³•å’Œ <code>map</code> çš„å®ç°ç±»ä¼¼ï¼Œåªä¸è¿‡ RDD ä¼šä¸ºæ¯ä¸€ä¸ªåˆ†åŒºå­˜å‚¨ä¸€ä¸ªéšæœºæ•°æ®ç”Ÿæˆç§å­ï¼Œä»¥å†³å®šå¯¹çˆ¶ RDD æ•°æ®è®°å½•çš„å–æ ·ï¼›</p><p><strong>join</strong>: ä¸¤ä¸ª RDDs çš„ <code>join</code> å¯èƒ½å¯¼è‡´ä¸¤ä¸ªçª„ä¾èµ–ï¼ˆå¦‚æœçˆ¶ RDD éƒ½æ˜¯ä½¿ç”¨ç›¸åŒåˆ†åŒºå™¨  partitioner è¿›è¡Œ hash/range åˆ†åŒºçš„è¯ï¼‰ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´ä¸¤ä¸ªå®½ä¾èµ–ï¼Œæˆ–æ··åˆçš„å½¢å¼ï¼ˆå³ä¸€ä¸ªçˆ¶ RDD æœ‰ partitionerï¼Œä¸€ä¸ªæ²¡æœ‰ï¼‰ã€‚ä½†ä¸ç®¡æ˜¯å“ªç§æƒ…å†µï¼Œè¾“å‡ºçš„ RDD éƒ½ä¼šæœ‰ä¸€ä¸ª partitionerï¼ˆè¦ä¹ˆç»§æ‰¿äºçˆ¶ RDDï¼Œè¦ä¹ˆä½¿ç”¨é»˜è®¤çš„ hash partitionerï¼‰ã€‚</p><p>RDDs çš„è¿™ä¸€é€šç”¨æ¥å£ï¼Œä½¿å¾— Spark èƒ½ä»¥å°‘äº 20 è¡Œçš„ä»£ç å®ç°å¤§å¤šæ•° transformationsï¼Œå³ä¾¿æ˜¯ Spark çš„æ–°ç”¨æˆ·ä¹Ÿèƒ½åœ¨ä¸äº†è§£è°ƒåº¦å™¨ï¼ˆschedulerï¼‰ç»†èŠ‚çš„æƒ…å†µä¸‹ï¼Œå®ç°æ–°çš„ transformationsã€‚</p><h4 id="å®ç°"><a class="markdownIt-Anchor" href="#å®ç°"></a> å®ç°</h4><p>æœ€åˆï¼ŒSpark ä½¿ç”¨ 14,000 è¡Œ scala ä»£ç å®ç°ã€‚ç³»ç»Ÿè¿è¡Œäº Mesos é›†ç¾¤èµ„æºç®¡ç†å™¨ä¹‹ä¸Šï¼Œèƒ½ä¸ Hadoopï¼Œ MPI åŠå…¶ä»–åº”ç”¨è¿›è¡Œèµ„æºå…±äº«ã€‚æ¯ä¸ª Spark åº”ç”¨å‡ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„ Mesos åº”ç”¨è¿è¡Œï¼Œæ‹¥æœ‰è‡ªå·±çš„ Driver åŠ Workersï¼Œåº”ç”¨é—´çš„èµ„æºå…±äº«åˆ™ç”± Mesos è´Ÿè´£è¿›è¡Œç®¡ç†ã€‚</p><h5 id="1-ä½œä¸šè°ƒåº¦-job-scheduling"><a class="markdownIt-Anchor" href="#1-ä½œä¸šè°ƒåº¦-job-scheduling"></a> 1.  ä½œä¸šè°ƒåº¦ - Job Scheduling</h5><p>æ€»ä½“ä¸Šçœ‹ï¼ŒSpark çš„è°ƒåº¦å™¨å®ç°ä¸ Dryad ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œä½† Spark çš„å®ç°å¯¹æŒä¹…åŒ– persist RDDs è¿›è¡Œäº†è€ƒè™‘ï¼Œä½¿å®ƒä»¬å­˜æ”¾åˆ°å†…å­˜ä¸­ã€‚å½“ç”¨æˆ·åœ¨ä¸€ä¸ª RDD ä¸Šæ‰§è¡Œä¸€ä¸ª action ï¼ˆe.g. <code>count</code>ï¼‰æ—¶ï¼Œè°ƒåº¦å™¨ä¼šæ£€æŸ¥è¯¥ RDD çš„è¡€ç¼˜å›¾ï¼Œç„¶åæ„å»ºä¸€ä¸ª stages çš„ DAG è¿›è¡Œæ‰§è¡Œï¼Œå¦‚ä¸‹å›¾ã€‚</p><p><img data-src="spark-compute-job-stages-example.png" alt="" /></p><p>æ¯ä¸ª stage ä¼šåŒ…å«å°½å¯èƒ½å¤šçš„çª„ä¾èµ–çš„æµæ°´çº¿è½¬æ¢ç®—å­ã€‚stages ä¹‹é—´çš„è¾¹ç•Œç”±å®½ä¾èµ–æ‰€éœ€çš„ shuffle æ“ä½œæ¥è¿›è¡Œå®šä¹‰ã€‚ä»»ä½•å·²è®¡ç®—çš„åˆ†åŒºéƒ½èƒ½çŸ­è·¯ï¼ˆshort circuitï¼Œä¸å¾ˆå¤šç¼–ç¨‹è¯­è¨€ä¸­çš„é€»è¾‘è¿ç®—ç±»ä¼¼ï¼‰å…¶çˆ¶ RDD çš„è®¡ç®—ã€‚å¯¹äºæ¯ä¸€ä¸ª stageï¼Œè°ƒåº¦å™¨ä¼šå¯åŠ¨ä»»åŠ¡æ¥è®¡ç®—ç¡®å®çš„åˆ†åŒºï¼Œç›´åˆ°ç›®æ ‡ RDD è®¡ç®—å®Œæˆã€‚è°ƒåº¦å™¨ scheduler é‡‡ç”¨è¿™æ ·çš„ä»»åŠ¡åˆ†é…ç­–ç•¥ï¼ŒåŸºäºå±€éƒ¨æ€§åŸç†ï¼Œä½¿ç”¨å»¶è¿Ÿè°ƒåº¦ï¼ˆdelay schedulingï¼‰ï¼š</p><ul><li>å¦‚æœä¸€ä¸ªä»»åŠ¡ task éœ€è¦å¤„ç†åœ¨æŸä¸€èŠ‚ç‚¹å†…å­˜ä¸­çš„åˆ†åŒºï¼Œé‚£ä¹ˆè°ƒåº¦å™¨ä¼šå°†è¯¥ä»»åŠ¡å‘é€è‡³è¯¥èŠ‚ç‚¹ä¸Šï¼›</li><li>å¦‚æœä¸€ä¸ªä»»åŠ¡ task å¤„ç†çš„åˆ†åŒºä¸­ï¼Œæœ‰å…¶æ‰€å± RDD ç»™å‡ºçš„åå¥½ä½ç½®ï¼ˆpreferred locationsï¼‰ï¼Œåˆ™è°ƒåº¦å™¨ä¼šå°†è¯¥ä»»åŠ¡å‘é€åˆ°è¿™äº›ä½ç½®ä¸Šã€‚</li></ul><p>è€Œå¯¹äºå®½ä¾èµ–ï¼Œå½“å‰ Spark ä¼šåœ¨æŒæœ‰çˆ¶ RDD åˆ†åŒºçš„èŠ‚ç‚¹ä¸Šå­˜å‚¨å…·ä½“åŒ–çš„ä¸­é—´ç»“æœï¼Œä»¥ç®€åŒ–æ•…éšœæ¢å¤ï¼Œè¿™å’Œ MapReduce çš„ map ä»»åŠ¡è¾“å‡ºçš„å­˜å‚¨ç±»ä¼¼ã€‚</p><p>å½“ä»»åŠ¡æ‰§è¡Œå¤±è´¥æ—¶ï¼Œåªè¦ stage çš„çˆ¶ stage ä»å­˜æ´»ï¼Œåˆ™ä¼šå°†è¯¥ä»»åŠ¡äº¤ç”±å…¶ä»–èŠ‚ç‚¹é‡æ–°è¿è¡Œã€‚å¦‚æœä»»åŠ¡ä¸­çš„æŸäº› stages å¤„äºä¸å¯ç”¨çŠ¶æ€ï¼ˆe.g. shuffle çš„ â€œmap ç«¯â€œ è¾“å‡ºä¸¢å¤±ï¼‰ï¼Œåˆ™ä¼šé‡æ–°æäº¤ä»»åŠ¡ï¼Œå¹¶ä»¥å¹¶è¡Œçš„æ–¹å¼é‡æ–°æ‰§è¡Œè¯¥ä»»åŠ¡ã€‚</p><h5 id="2-å†…å­˜ç®¡ç†"><a class="markdownIt-Anchor" href="#2-å†…å­˜ç®¡ç†"></a> 2. å†…å­˜ç®¡ç†</h5><p>Spark ä¸º RDDs çš„æŒä¹…åŒ–å­˜å‚¨æä¾›äº†ä¸‰ç§é€‰æ‹©ï¼š</p><ul><li>ä»¥ååºåˆ—åŒ– Java å¯¹è±¡çš„å½¢å¼è¿›è¡Œå†…å­˜åŒ–å­˜å‚¨ï¼›</li><li>ä»¥åºåˆ—åŒ–æ•°æ®çš„å½¢å¼è¿›è¡Œå†…å­˜åŒ–å­˜å‚¨ï¼›</li><li>ç£ç›˜æ•°æ®å­˜å‚¨ã€‚</li></ul><p>å…¶ä¸­ï¼Œç¬¬ä¸€ç§æ–¹æ¡ˆå¯æä¾›æœ€å¿«çš„æ€§èƒ½ï¼Œå› ä¸º JVM å¯ç›´æ¥æ¯ä¸€ä¸ª RDD çš„å…ƒç´ ã€‚ç¬¬äºŒç§æ–¹æ¡ˆåˆ™ç»™ç”¨æˆ·æä¾›äº†ä¸€ç§å¯¹å†…å­˜å­˜å‚¨æ›´å‹å¥½çš„æ•°æ®è¡¨ç¤ºæ–¹å¼ï¼Œä½†ç›¸åº”åœ°æ€§èƒ½ä¹Ÿå°†ä¼šæœ‰æ‰€ä¸‹é™ã€‚å½“ RDDs å¤ªå¤§ä»¥è‡³äºæ— æ³•ç»´æŒåœ¨ RAM å†…å­˜ä¸­æ—¶ï¼Œç¬¬ä¸‰ç§æ–¹æ¡ˆå°†æœ‰æ‰€å¸®åŠ©ï¼Œä½† RDDs é‡æ–°è®¡ç®—çš„å¼€é”€ä¹Ÿå¾ˆå¤§ã€‚</p><p>ä¸ºäº†ç®¡ç†æœ‰é™çš„å¯ç”¨å†…å­˜ï¼ŒSpark ä½¿ç”¨äº† LRU (least-recently used) ç­–ç•¥æ¥å›æ”¶ RDDsï¼Œå½“ä¸€ä¸ªæ–°çš„ RDD åˆ†åŒºè®¡ç®—å®Œæˆï¼Œä½†æ²¡æœ‰è¶³å¤Ÿå†…å­˜è¿›è¡Œå­˜å‚¨æ—¶ï¼ŒSpark å°†ä¼šå›æ”¶æœ€è¿‘è®¿é—®è¿‡çš„ RDD çš„ä¸€ä¸ªåˆ†åŒºï¼Œé™¤éè¯¥è®¿é—®è¿‡çš„ RDD ä¹ŸåŒ…å«æ–°è®¡ç®—å®Œæˆçš„åˆ†åŒºã€‚</p><h5 id="3-å¯¹-checkpoint-çš„æ”¯æŒ"><a class="markdownIt-Anchor" href="#3-å¯¹-checkpoint-çš„æ”¯æŒ"></a> 3. å¯¹ Checkpoint çš„æ”¯æŒ</h5><p>å‡ºç°æ•…éšœæ—¶ï¼Œå°½ç®¡ RDD è¡€ç¼˜å…³ç³»å¯ç”¨äºæ¢å¤ RDDsï¼Œä½†å½“ RDDs æ‹¥æœ‰ä¸€ä¸ªé•¿è¡€ç¼˜å…³ç³»é“¾æ—¶ï¼Œæ¢å¤æ—¶é—´å°†éå¸¸é•¿ã€‚å› æ­¤ï¼Œæ­¤æ—¶æŠŠæŸäº› RDDs checkpoint æŒä¹…åŒ–åˆ°ç¨³å®šçš„å­˜å‚¨ç³»ç»Ÿä¸­ï¼Œå°†ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œcheckpointing å¯¹äºé‚£äº›åŒ…å«å®½ä¾èµ–ï¼Œä¸”æ‹¥æœ‰é•¿è¡€ç¼˜å…³ç³»é“¾çš„ RDDs éå¸¸æœ‰ç”¨ã€‚å¦‚æœä¸è¿™ä¹ˆåšçš„è¯ï¼Œå°†å¾ˆæœ‰å¯èƒ½éœ€è¦ RDDs ä¾èµ–é“¾é‡å¤´å®Œå…¨è®¡ç®—ã€‚ç›¸ååœ°ï¼Œå¯¹äºé‚£äº›æ•°æ®å­˜æ”¾äºç¨³å®šå­˜å‚¨ä¸­ï¼Œä¸”åŒ…å«çª„ä¾èµ–çš„ RDDs æ¥è¯´ï¼Œcheckpointing å¯èƒ½ä½œç”¨å°±ä¸å¤§äº†ã€‚</p><p>Spark å½“å‰æä¾›äº†ä¸€ä¸ª checkpointing çš„ API ï¼ˆé€šè¿‡ <code>persist()</code> æ–¹æ³•ï¼‰ï¼Œä½†å°†æŠŠä»€ä¹ˆæ•°æ®è¿›è¡Œ checkpoint çš„é€‰æ‹©å†³ç­–ç•™ç»™äº†ç”¨æˆ·ã€‚ç„¶è€Œï¼Œç°ä¹Ÿæ—©å·²æœ‰å…³äºå¦‚ä½•æ‰§è¡Œè‡ªåŠ¨ checkpoint çš„ç ”ç©¶ï¼Œ e.g. <a href="https://ieeexplore.ieee.org/document/7423490">ASC</a>ã€‚å› ä¸ºè°ƒåº¦å™¨æ˜¯çŸ¥é“æ¯ä¸ªæ•°æ®é›†çš„å¤§å°ä»¥åŠç¬¬ä¸€æ¬¡è®¡ç®—è¯¥æ•°æ®é›†æ‰€éœ€æ—¶é—´ç­‰ä¿¡æ¯çš„ï¼Œè¿™ä½¿å¾—é€‰æ‹©ä¸€ç»„æœ€ä¼˜ RDDs é›†åˆè¿›è¡Œ checkpointï¼Œä»¥å‡å°‘æ•´ä½“åº”ç”¨çš„ç³»ç»Ÿæ¢å¤æ—¶é—´ï¼Œæˆä¸ºå¯èƒ½ã€‚</p><p>éœ€è¦ç‰¹åˆ«æŒ‡å‡ºçš„æ˜¯ï¼Œç”±äº RDD æ˜¯åªè¯»çš„ï¼Œè¿™ä½¿å¾— RDD çš„ checkpoint æ“ä½œï¼Œä¸ä¸€èˆ¬çš„å…±äº«å†…å­˜æ¨¡å‹è¦ç®€å•å¾—å¤šã€‚</p><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3><p>æœ¬æ–‡æ˜¯åœ¨ç¬”è€…é˜…è¯»å®Œ Spark RDD å…¶è®ºæ–‡<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>åï¼Œåšçš„ä¸€äº›ç®€å•æ€»ç»“ï¼ŒåŸæ–‡è¿˜åŒ…å«äº†æ›´å¤šè¯¦ç»†å†…å®¹ï¼Œå¦‚æœ‰éœ€è¦è¯·é˜…è¯»è®ºæ–‡åŸæ–‡ï¼Œå¦‚å‘ç°æœ¬æ–‡æœ‰è¯¯ï¼Œè¯·è”ç³»æˆ‘ï¼Œè°¢è°¢ï¼æœ€åï¼Œä½œä¸ºç»“å°¾ï¼Œæˆ‘ç”¨ Spark RDD ç¼–ç¨‹æ¨¡å‹å®ç°å¤§æ•°æ®ä¸–ç•Œä¸­çš„ HelloWorld - WordCount å§ï¼</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">WordCountApp</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        <span class="keyword">if</span> (args.length &lt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">System</span>.err.println(<span class="string">&quot;Usage: WordCount &lt;file&gt;&quot;</span>)</span><br><span class="line">            <span class="type">System</span>.exit(<span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">val</span> spark = <span class="type">SparkSession</span>.builder().appName(<span class="string">&quot;wordCount&quot;</span>).getOrCreate()</span><br><span class="line">        <span class="keyword">val</span> wordsRDD = spark.sparkContext.textFile(args(<span class="number">0</span>))</span><br><span class="line">        <span class="keyword">val</span> result = wordsRDD.flatMap(_.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line">         .map((_, <span class="number">1</span>))</span><br><span class="line">         .reduceByKey(_+_)</span><br><span class="line">        result.foreach(w =&gt; println(w._1 + <span class="string">&quot; : &quot;</span> + w._2))</span><br><span class="line">        spark.stop()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="references"><a class="markdownIt-Anchor" href="#references"></a> References</h3><ol><li><a href="https://dl.acm.org/doi/10.5555/2228298.2228301">Resilient distributed datasets: a fault-tolerant abstraction for in-memory cluster computing</a></li><li><a href="https://spark.apache.org/research.html">https://spark.apache.org/research.html</a></li></ol><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://dl.acm.org/doi/10.5555/2228298.2228301">Resilient distributed datasets: a fault-tolerant abstraction for in-memory cluster computing</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">&lt;p&gt;RDDï¼Œä¸€ä¸ªåªè¯»çš„å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼Œä¸€ä¸ªç”± Spark æä¾›çš„åˆ†å¸ƒå¼å†…å­˜è®¡ç®—æŠ½è±¡æ¨¡å‹ã€‚æ˜¯ Spark æ„å»ºçš„æ ¹åŸºã€‚ä¸ºäº†æ·±å…¥äº†è§£ Spark çš„ç¼–ç¨‹æ¨¡å‹ï¼Œå­¦ä¹  Spark ï¼Œæˆ‘ä»¬éå¸¸æœ‰å¿…è¦äº†è§£ä»€ä¹ˆæ˜¯ RDDã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="BigData" scheme="http://rovo98.github.io/categories/BigData/"/>
    
    <category term="Spark" scheme="http://rovo98.github.io/categories/BigData/Spark/"/>
    
    
    <category term="spark" scheme="http://rovo98.github.io/tags/spark/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ Docker è¿è¡Œ Oracle æ•°æ®åº“</title>
    <link href="http://rovo98.github.io/posts/c5182a98/"/>
    <id>http://rovo98.github.io/posts/c5182a98/</id>
    <published>2020-07-21T11:50:00.000Z</published>
    <updated>2021-09-09T14:11:36.663Z</updated>
    
    <content type="html"><![CDATA[<p>è™½ç„¶ä¹‹å‰ä¸Šè¿‡ oracle æ•°æ®åº“ç›¸å…³çš„è¯¾ç¨‹ï¼Œä½†å­¦å¾—æ¯”è¾ƒæµ…ï¼Œä¸Šå®Œè¯¾åä¹Ÿæ²¡æ€ä¹ˆä½¿ç”¨åˆ° oracle æ•°æ®åº“ï¼Œä¸€èˆ¬éƒ½ä½¿ç”¨ mysqlã€mariadb ç­‰ã€‚</p><p>æœ€è¿‘å› ä¸ºå·¥ä½œéœ€è¦ï¼Œä¸å¾—ä¸é‡æ–°è®¤çœŸå­¦å­¦ Oracle æ•°æ®åº“äº†ã€Œé‡å¤å­¦ä¹ çœŸçš„å¾ˆæµªè´¹æ—¶é—´ğŸ˜“ã€ï¼Œè€Œé¦–å…ˆéœ€è¦è€ƒè™‘çš„å°±æ˜¯å¦‚ä½•å®‰è£…ä¸€ä¸ª oracle æ•°æ®åº“äº†ï¼Œä¹‹å‰å·²æœ‰åœ¨ windows ç³»ç»Ÿä¸‹ç›´æ¥å®‰è£… oracle æ•°æ®åº“çš„ç»éªŒã€‚</p><p>ç†è®ºä¸Šï¼Œå†åœ¨ win10 ä¸Šå®‰è£…ä¸€ä¸ª oracle æ•°æ®åº“å¾ˆç®€å•ï¼Œä½†æˆ‘å¹³æ—¶ä¸»è¦ä½¿ç”¨ç¬”è®°æœ¬ç”µè„‘ä¸Šçš„ manjaro ç³»ç»Ÿï¼Œå…¶ä»–çš„ç³»ç»Ÿåªæ˜¯å¤‡ç”¨è€Œå·²ã€‚</p><span id="more"></span><h2 id="intro"><a class="markdownIt-Anchor" href="#intro"></a> Intro</h2><p>è‡ªä»ç”¨äº† Docker ä¹‹åï¼Œå¹³æ—¶è‡ªå·±åœ¨å­¦ä¹ æˆ–å¼€å‘ï¼Œé‡åˆ°éœ€è¦åœ¨æœ¬æœºä¸Šæ­å»ºç›¸å…³ç¯å¢ƒæ—¶ï¼Œå°±ä¼šå¾ˆè‡ªç„¶åœ°æƒ³åˆ°èƒ½ä¸èƒ½ä½¿ç”¨ Docker å®¹å™¨æ¥å¤„ç†å‘¢ï¼</p><p>ä¸»è¦æ˜¯æƒ³è®©æ­å»ºçš„å¼€å‘ç¯å¢ƒä¸ç³»ç»Ÿç¯å¢ƒéš”ç¦»ï¼Œæˆ‘ä»¬åªåœ¨éœ€è¦ä½¿ç”¨æ—¶æ‰å¯åŠ¨ç›¸å…³çš„å®¹å™¨ã€‚å½“æˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨åˆ°è¯¥å·²æ­å»ºçš„ç¯å¢ƒæ—¶ï¼Œä¹Ÿæ–¹ä¾¿æ¸…ç†ï¼</p><p>æ—¢ç„¶å·²ç»å†³å®šè¦ä½¿ç”¨ Docker æ¥å®‰è£…å¹¶è¿è¡Œ oracle æ•°æ®åº“ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥é¦–å…ˆçœ‹çœ‹å®˜æ–¹æœ‰æ²¡æœ‰æä¾›ç›¸åº”çš„é•œåƒï¼Œå¦‚æœæœ‰çš„è¯ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ç›´æ¥ <code>pull</code> ä¸‹æ¥ï¼Œç„¶åè¿è¡Œå³å¯ã€‚æ²¡æœ‰ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»åŸºç¡€é•œåƒå¼€å§‹é…ç½®ï¼Œå¦‚ä» <code>oracle-linux</code> å¼€å§‹ï¼Œä¸€å±‚ä¸€å±‚å»é…ç½®æˆ‘ä»¬éœ€è¦çš„é•œåƒã€‚</p><h2 id="1-èµ„æºä¸‹è½½åŠå‡†å¤‡"><a class="markdownIt-Anchor" href="#1-èµ„æºä¸‹è½½åŠå‡†å¤‡"></a> 1. èµ„æºä¸‹è½½åŠå‡†å¤‡</h2><p>å¥½åœ¨é€šè¿‡ google ç›´æ¥æœ ã€Œrun oracle database using dockerã€ï¼Œä¾¿æœ‰äº†ç›¸å…³çš„èµ„æºã€‚</p><p>æˆ‘é€‰æ‹©äº† oracle åœ¨ github ä¸Šæä¾›çš„ <a href="https://github.com/oracle/docker-images/tree/master/OracleDatabase/SingleInstance">docker-image</a> åº“ã€‚ä»–ä»¬ä¹Ÿæä¾›äº†ç›¸åº”çš„ <a href="http://README.md">README.md</a>ï¼Œç»™å‡ºäº†å¦‚ä½•æ„å»ºåŠè¿è¡Œ oracle é•œåƒçš„è¯´æ˜ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘å°†ä»¥ Oracle Database 12c Release 1 (12.1.0.2) Enterprise Edition and Standard Edition 2 ä¸ºä¾‹ï¼Œç®€å•ä»‹ç»è¯¥é•œåƒçš„æ„å»ºåŠè¿è¡Œä½¿ç”¨ã€‚</p><h3 id="11-é•œåƒæ„å»º"><a class="markdownIt-Anchor" href="#11-é•œåƒæ„å»º"></a> 1.1 é•œåƒæ„å»º</h3><p>å°† docker-image åº“ä¸‹ <code>OracleDatabase</code> ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸‹è½½ä¸‹æ¥åï¼Œåœ¨æ„å»ºç›¸åº”ç‰ˆæœ¬æ•°æ®åº“ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä» <a href="http://www.oracle.com/technetwork/database/enterprise-edition/downloads/index.html">Oracle Technology Network</a> ä¸Šä¸‹è½½éœ€è¦æ„å»ºæ•°æ®åº“ç‰ˆæœ¬ç›¸åº”çš„ linux x86 äºŒè¿›åˆ¶å®‰è£…åŒ…ï¼Œæ”¾åˆ° <code>OracleDatabase/SingleInstance/dockerfiles/&lt;version&gt;</code>  ç›®å½•ä¸­ã€‚</p><p>æ¥ç€ï¼Œåªéœ€è¦æ‰§è¡Œ <code>buildDockerImage.sh</code> å³å¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[oracle@localhost dockerfiles]$ ./buildDockerImage.sh -h</span><br><span class="line"></span><br><span class="line">Usage: buildDockerImage.sh -v [version] [-e | -s | -x] [-i] [-o] [Docker build option]</span><br><span class="line">Builds a Docker Image for Oracle Database.</span><br><span class="line"></span><br><span class="line">Parameters:</span><br><span class="line">   -v: version to build</span><br><span class="line">       Choose one of: 11.2.0.2  12.1.0.2  12.2.0.1  18.3.0  18.4.0  19.3.0</span><br><span class="line">   -e: creates image based on &#x27;Enterprise Edition&#x27;</span><br><span class="line">   -s: creates image based on &#x27;Standard Edition 2&#x27;</span><br><span class="line">   -x: creates image based on &#x27;Express Edition&#x27;</span><br><span class="line">   -i: ignores the MD5 checksums</span><br><span class="line">   -o: passes on Docker build option</span><br><span class="line"></span><br><span class="line">* select one edition only: -e, -s, or -x</span><br><span class="line"></span><br><span class="line">LICENSE UPL 1.0</span><br><span class="line"></span><br><span class="line">Copyright (c) 2014-2019 Oracle and/or its affiliates. All rights reserved.</span><br></pre></td></tr></table></figure><p>å› ä¸ºæˆ‘ä»¬è¦æ„å»º 12.1.0.2 ä¼ä¸šç‰ˆæ•°æ®åº“ï¼Œå› æ­¤æ‰§è¡Œ <code>./buildDockerImage.sh -v 12.1.0.2 -e</code>ã€‚</p><div class="note info"><p>éœ€è¦æ³¨æ„çš„ï¼Œå®Œæˆè¯¥æ„å»ºé•œåƒè¿‡ç¨‹åï¼Œåªæ˜¯ç”Ÿæˆå®‰è£…äº† Oracle äºŒè¿›åˆ¶æ–‡ä»¶çš„é•œåƒã€‚åœ¨å®¹å™¨ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶ï¼Œæ‰ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“å®ä¾‹ï¼Œå½“æ•°æ®åº“å‡†å¤‡å¥½å¯ä»¥ä½¿ç”¨æ—¶ï¼Œä¼šæ‰“å°ä»¥ä¸‹å‡ è¡Œæç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#########################</span><br><span class="line">DATABASE IS READY TO USE!</span><br><span class="line">#########################</span><br></pre></td></tr></table></figure></div><p>ä»¥ä¸Šæ˜¯æˆ‘ä»¬ä½¿ç”¨å®˜æ–¹æä¾›çš„ Dockerfile æ¥æ„å»ºçš„é•œåƒçš„ä¾‹å­ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æˆ‘ä»¬ç¼–å†™çš„ Dockerfile æ¥æ‰©å±•é•œåƒï¼Œå¦‚åˆ›å»ºç”¨æˆ·å’Œè¡¨ç©ºé—´ç­‰ã€‚</p><blockquote><p>å®˜æ–¹æä¾›çš„ Dockerfile ä½¿ç”¨ oracle-linux ä½œä¸ºé•œåƒåŸºç¡€å±‚ã€‚</p></blockquote><p>æ•°æ®åº“çš„å­—ç¬¦é›†ç¼–ç ä¼šåœ¨é•œåƒæ„å»ºè¿‡ç¨‹ä¸­è¿›è¡Œé…ç½®ã€‚11g Express Edition ä»…æ”¯æŒ UTF-8ï¼Œæ ‡å‡†ç‰ˆ 2 å’Œä¼ä¸šç‰ˆå¯ä»¥åœ¨æˆ‘ä»¬ç¬¬ä¸€æ¬¡è¿è¡Œå®¹å™¨æ—¶è¿›è¡Œé…ç½®ï¼Œå¯ä¸ºä¸åŒè¡¨ç©ºé—´é…ç½®ä¸åŒçš„å­—ç¬¦é›†ã€‚</p><div class="note warning"><p>æˆ‘ä»¬çŸ¥é“ï¼Œdocker åœ¨æ„å»ºé•œåƒæ—¶ï¼Œä¼šå°†æ‰€æœ‰éœ€è¦ä½¿ç”¨åˆ°çš„æ–‡ä»¶æ‰“åŒ…ä¼ é€åˆ°æ„å»ºä¸Šä¸‹æ–‡ (build context) ä¸­ï¼Œäº¤ç”± dockerd æœåŠ¡å™¨æ¥æ‰§è¡Œæ„å»ºã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡è®©æ„å»ºä¸Šä¸‹æ–‡åªåŒ…å«æˆ‘ä»¬éœ€è¦çš„æ–‡ä»¶ï¼Œå¿…è¦æ—¶è¯·ä½¿ç”¨ <code>.dokerignore</code> æ–‡ä»¶ï¼Œæ¥å¿½ç•¥æ„å»ºé•œåƒæ—¶ä¸éœ€è¦ç”¨åˆ°çš„æ–‡ä»¶ã€‚</p></div><p>é•œåƒçš„æ„å»ºè¿‡ç¨‹å¯èƒ½éœ€è¦èŠ±è´¹ç‚¹æ—¶é—´ã€‚ä»¥æˆ‘ä¸ºä¾‹ï¼Œæˆ‘é€‰æ‹©çš„æ•°æ®åº“ç‰ˆæœ¬ä¸‹è½½ä¸‹æ¥çš„å®‰è£…åŒ…å¤§æ¦‚ 4G å·¦å³ï¼Œç„¶åæ„å»ºé•œåƒéœ€è¦ 22 æ­¥ï¼ˆ22 å±‚ï¼‰ï¼ŒèŠ±äº†å°†è¿‘ä¸€ä¸ªå°æ—¶å§ã€‚</p><p>é•œåƒçš„æ„å»ºè¿‡ç¨‹å¤§æ¦‚å¦‚ä¸‹ï¼ˆä»…åˆ—å‡ºå…³é”®æ­¥ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">Building image &#x27;oracle/database:12.2.0.1-ee&#x27; ...</span><br><span class="line">Sending build context to Docker daemon  3.454GB</span><br><span class="line">Step 1/22 : FROM oraclelinux:7-slim as base</span><br><span class="line">...</span><br><span class="line">Step 2/22 : LABEL &quot;provider&quot;=&quot;Oracle&quot;                                                     &quot;issues&quot;=&quot;https://github.com/oracle/docker-images/issues&quot;               &quot;volume.data&quot;=&quot;/opt/oracle/oradata&quot;                                     &quot;volume.setup.location1&quot;=&quot;/opt/oracle/scripts/setup&quot;                    &quot;volume.setup.location2&quot;=&quot;/docker-entrypoint-initdb.d/setup&quot;            &quot;volume.startup.location1&quot;=&quot;/opt/oracle/scripts/startup&quot;                &quot;volume.startup.location2&quot;=&quot;/docker-entrypoint-initdb.d/startup&quot;        &quot;port.listener&quot;=&quot;1521&quot;                                                  &quot;port.oemexpress&quot;=&quot;5500&quot;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">Step 3/22 : ENV ORACLE_BASE=/opt/oracle     ORACLE_HOME=/opt/oracle/product/12.2.0.1/dbhome_1     INSTALL_DIR=/opt/install     INSTALL_FILE_1=&quot;linuxx64_12201_database.zip&quot;     INSTALL_RSP=&quot;db_inst.rsp&quot;     CONFIG_RSP=&quot;dbca.rsp.tmpl&quot;     PWD_FILE=&quot;setPassword.sh&quot;     RUN_FILE=&quot;runOracle.sh&quot;     START_FILE=&quot;startDB.sh&quot;     CREATE_DB_FILE=&quot;createDB.sh&quot;     SETUP_LINUX_FILE=&quot;setupLinuxEnv.sh&quot;     CHECK_SPACE_FILE=&quot;checkSpace.sh&quot;     CHECK_DB_FILE=&quot;checkDBStatus.sh&quot;     USER_SCRIPTS_FILE=&quot;runUserScripts.sh&quot;     INSTALL_DB_BINARIES_FILE=&quot;installDBBinaries.sh&quot;</span><br><span class="line">...</span><br><span class="line">Step 4/22 : ENV PATH=$ORACLE_HOME/bin:$ORACLE_HOME/OPatch/:/usr/sbin:$PATH     LD_LIBRARY_PATH=$ORACLE_HOME/lib:/usr/lib     CLASSPATH=$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib</span><br><span class="line">...</span><br><span class="line">Step 5/22 : COPY $SETUP_LINUX_FILE $CHECK_SPACE_FILE $INSTALL_DIR/</span><br><span class="line">...</span><br><span class="line">Step 6/22 : COPY $RUN_FILE $START_FILE $CREATE_DB_FILE $CONFIG_RSP $PWD_FILE $CHECK_DB_FILE $USER_SCRIPTS_FILE $ORACLE_BASE/</span><br><span class="line">...</span><br><span class="line">Step 7/22 : RUN chmod ug+x $INSTALL_DIR/*.sh &amp;&amp;     sync &amp;&amp;     $INSTALL_DIR/$CHECK_SPACE_FILE &amp;&amp;     $INSTALL_DIR/$SETUP_LINUX_FILE &amp;&amp;     rm -rf $INSTALL_DIR</span><br><span class="line">...</span><br><span class="line">Step 8/22 : FROM base AS builder</span><br><span class="line">...</span><br><span class="line">Step 9/22 : ARG DB_EDITION</span><br><span class="line">...</span><br><span class="line">Step 10/22 : RUN yum -y install unzip</span><br><span class="line">...</span><br><span class="line">Step 11/22 : COPY --chown=oracle:dba $INSTALL_FILE_1 $INSTALL_RSP $INSTALL_DB_BINARIES_FILE $INSTALL_DIR/</span><br><span class="line">...</span><br><span class="line">Step 12/22 : USER oracle</span><br><span class="line">...</span><br><span class="line">Step 13/22 : RUN chmod ug+x $INSTALL_DIR/*.sh &amp;&amp;     sync &amp;&amp;     $INSTALL_DIR/$INSTALL_DB_BINARIES_FILE $DB_EDITION</span><br><span class="line">...</span><br><span class="line">Step 14/22 : FROM base</span><br><span class="line">...</span><br><span class="line">Step 15/22 : USER oracle</span><br><span class="line">...</span><br><span class="line">Step 16/22 : COPY --chown=oracle:dba --from=builder $ORACLE_BASE $ORACLE_BASE</span><br><span class="line">...</span><br><span class="line">Step 17/22 : USER root</span><br><span class="line">...</span><br><span class="line">Step 18/22 : RUN $ORACLE_BASE/oraInventory/orainstRoot.sh &amp;&amp;     $ORACLE_HOME/root.sh</span><br><span class="line">...</span><br><span class="line">Step 19/22 : USER oracle</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>æ„å»ºå®Œæˆåï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>docker images</code> æ¥æŸ¥çœ‹ç›¸å…³çš„é•œåƒã€‚</p><p><img data-src="docker-built-oracle-images.png" alt="" /></p><h2 id="2-è¿è¡ŒåŠä½¿ç”¨"><a class="markdownIt-Anchor" href="#2-è¿è¡ŒåŠä½¿ç”¨"></a> 2. è¿è¡ŒåŠä½¿ç”¨</h2><p>ç”±äºæˆ‘ä»¬æ„å»ºçš„ oracle æ•°æ®åº“æ˜¯ä¼ä¸šç‰ˆ 2ï¼Œå› æ­¤å®¹å™¨è¿è¡Œä¸»è¦å‚è€ƒå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">docker run --name &lt;container name&gt; \</span><br><span class="line">-p &lt;host port&gt;:1521 -p &lt;host port&gt;:5500 \</span><br><span class="line">-e ORACLE_SID=&lt;your SID&gt; \</span><br><span class="line">-e ORACLE_PDB=&lt;your PDB name&gt; \</span><br><span class="line">-e ORACLE_PWD=&lt;your database passwords&gt; \</span><br><span class="line">-e ORACLE_CHARACTERSET=&lt;your character set&gt; \</span><br><span class="line">-v [&lt;host mount point&gt;:]/opt/oracle/oradata \</span><br><span class="line">oracle/database:19.3.0-ee</span><br><span class="line"></span><br><span class="line">Parameters:</span><br><span class="line">   --name:        The name of the container (default: auto generated)</span><br><span class="line">   -p:            The port mapping of the host port to the container port. </span><br><span class="line">                  Two ports are exposed: 1521 (Oracle Listener), 5500 (OEM Express)</span><br><span class="line">   -e ORACLE_SID: The Oracle Database SID that should be used (default: ORCLCDB)</span><br><span class="line">   -e ORACLE_PDB: The Oracle Database PDB name that should be used (default: ORCLPDB1)</span><br><span class="line">   -e ORACLE_PWD: The Oracle Database SYS, SYSTEM and PDB_ADMIN password (default: auto generated)</span><br><span class="line">   -e ORACLE_CHARACTERSET:</span><br><span class="line">                  The character set to use when creating the database (default: AL32UTF8)</span><br><span class="line">   -v /opt/oracle/oradata</span><br><span class="line">                  The data volume to use for the database.</span><br><span class="line">                  Has to be writable by the Unix &quot;oracle&quot; (uid: 54321) user inside the container!</span><br><span class="line">                  If omitted the database will not be persisted over container recreation.</span><br><span class="line">   -v /opt/oracle/scripts/startup | /docker-entrypoint-initdb.d/startup</span><br><span class="line">                  Optional: A volume with custom scripts to be run after database startup.</span><br><span class="line">                  For further details see the &quot;Running scripts after setup and on startup&quot; section below.</span><br><span class="line">   -v /opt/oracle/scripts/setup | /docker-entrypoint-initdb.d/setup</span><br><span class="line">                  Optional: A volume with custom scripts to be run after database setup.</span><br><span class="line">                  For further details see the &quot;Running scripts after setup and on startup&quot; section below.</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker run --name dev-oracle-database \</span><br><span class="line">-p 1521:1521 -p 5500:5500 \</span><br><span class="line">-e ORACLE_SID=ORCLCDB \</span><br><span class="line">-e ORACLE_PDB=ORCLPDB1 \</span><br><span class="line">-e ORACLE_PWD=&lt;your password&gt; \</span><br><span class="line">-e ORACLE_CHARACTERSET=UTF-8 \</span><br><span class="line">-v ./docker-volumes/dev-oracle-database/oradata:/opt/oracle/oradata \</span><br><span class="line">-d oracle/database:12.2.0.1-ee</span><br></pre></td></tr></table></figure><p>åœ¨å®¹å™¨å¯åŠ¨ååŠæ•°æ®åº“åˆ›å»ºå®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è¿æ¥æ•°æ®åº“ï¼š</p><div class="note info"><p>å¦‚æœæœ¬æœºç³»ç»Ÿä¸Šæ²¡æœ‰ oracle æ•°æ®åº“çš„å®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ <code>docker exec -it &lt;container_id&gt; or &lt;container_name&gt; bash</code> è¿›å…¥å®¹å™¨ï¼Œä¹‹åå†ä½¿ç”¨å®¹å™¨ä¸­æä¾›çš„ <code>sqlplus</code> å»è¿æ¥æ•°æ®åº“ã€‚</p><p>oracle-linux ç³»ç»Ÿä¸­è‚¯å®šæ˜¯æœ‰ç›¸åº”çš„å·¥å…·çš„ã€‚</p><p>å½“ç„¶å•¦ï¼Œå½“æœ¬æœºä¸Šæœ‰ Oracle æ•°æ®åº“å®¢æˆ·ç«¯åï¼Œå°±å¯ä»¥ç”¨æˆ‘ä»¬ç†Ÿæ‚‰çš„æ–¹å¼å»è¿æ¥æ•°æ®åº“äº†ã€‚</p></div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sqlplus sys/&lt;your password&gt;@//localhost:1521/&lt;your SID&gt; as sysdba</span><br><span class="line">sqlplus system/&lt;your password&gt;@//localhost:1521/&lt;your SID&gt;</span><br><span class="line">sqlplus pdbadmin/&lt;your password&gt;@//localhost:1521/&lt;Your PDB name&gt;</span><br></pre></td></tr></table></figure><p>è¯¥ oracle æ•°æ®åº“å®¹å™¨è¿˜é…ç½®äº† OEM (Oracle Enterprise Manager) Express ,æˆ‘ä»¬å¯ä»¥é€šè¿‡æµè§ˆå™¨æ‰“å¼€ä»¥ä¸‹ URL æ¥è®¿é—®:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://localhost:5500/em/</span><br></pre></td></tr></table></figure><div class="note info"><p>Oracle æ•°æ®åº“å®¹å™¨å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>O_DIRECT</code> æ ‡å¿—æ¥ç»•è¿‡ä¸€äº›æ–‡ä»¶çš„æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ã€‚ä½†ä¸å»ºè®®åœ¨ä¸æ”¯æŒ <code>O_DIRECT</code> æ ‡å¿—çš„æ–‡ä»¶ç³»ç»Ÿä¸Šè¿è¡Œå®¹å™¨ã€‚</p></div><p><strong>ä¿®æ”¹ admin è´¦å·çš„å¯†ç </strong></p><p>å¦‚æœç¬¬ä¸€æ¬¡å¯åŠ¨å®¹å™¨æ—¶æ²¡æœ‰æŒ‡å®šå¯†ç çš„è¯ï¼Œåˆ™ä¼šç”Ÿæˆéšæœºå¯†ç ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¾“å‡ºæ—¥å¿—ä¸­çš„ä»¥ä¸‹è¡Œï¼Œæ‰¾åˆ°è¿™äº›è´¦å·çš„å¯†ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ORACLE PASSWORD FOR SYS, SYSTEM AND PDBADMIN:</span><br></pre></td></tr></table></figure><p>è¦ä¿®æ”¹è¿™äº›è´¦å·çš„å¯†ç ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>docker exec</code> å»æ‰§è¡Œå®¹å™¨ä¸­çš„ <code>setPassword.sh</code> è„šæœ¬ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> &lt;container name&gt; ./setPassword.sh &lt;your password&gt;</span><br></pre></td></tr></table></figure><div class="note warning"><p>å…¶ä»–ç‰ˆæœ¬çš„æ•°æ®åº“çš„å®¹å™¨çš„è¿è¡Œä¸ä¸Šé¢æåˆ°çš„ä¼ä¸šç‰ˆå’Œæ ‡å‡†ç‰ˆ 2 æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ<br />Oracle åœ¨ docker-image åº“ä¸­ç»™å‡ºç›¸å…³ <a href="http://README.md">README.md</a> æ–‡ä»¶ã€‚</p></div><h2 id="summary"><a class="markdownIt-Anchor" href="#summary"></a> Summary</h2><p>æœ¬æ–‡ä¸»è¦ç®€å•ä»‹ç»äº†ï¼Œå¦‚ä½•ä½¿ç”¨ oracle æä¾›çš„ docker-image åº“æ„å»ºè‡ªå·±æƒ³è¦çš„ oracle æ•°æ®åº“é•œåƒï¼Œç„¶åè¿è¡Œå¹¶ä½¿ç”¨å·²æ„å»ºçš„é•œåƒã€‚</p><p>å®é™…ä¸Šï¼Œé™¤äº†ä½¿ç”¨ oracle æä¾›çš„ docker-image åº“è‡ªå·±æ„å»ºç›¸åº”çš„é•œåƒå¤–ï¼ˆèƒ½ä½¿ç”¨æä¾›çš„ Dockerfile è¿›è¡Œè‡ªå®šä¹‰ï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½ç›´æ¥é€šè¿‡ç±»ä¼¼ <code>docker pull store/oracle/database-enterprise:12.2.0.1-slim</code> å‘½ä»¤ç›´æ¥ä»å®˜æ–¹åº“ä¸Šä¸‹ç›¸åº”çš„é•œåƒã€‚</p><p><strong>References</strong></p><ol><li><a href="https://github.com/oracle/docker-images/tree/master/OracleDatabase/SingleInstance">https://github.com/oracle/docker-images/tree/master/OracleDatabase/SingleInstance</a></li><li><a href="https://dzone.com/articles/oracle-12c-image-installation-in-docker">https://dzone.com/articles/oracle-12c-image-installation-in-docker</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;è™½ç„¶ä¹‹å‰ä¸Šè¿‡ oracle æ•°æ®åº“ç›¸å…³çš„è¯¾ç¨‹ï¼Œä½†å­¦å¾—æ¯”è¾ƒæµ…ï¼Œä¸Šå®Œè¯¾åä¹Ÿæ²¡æ€ä¹ˆä½¿ç”¨åˆ° oracle æ•°æ®åº“ï¼Œä¸€èˆ¬éƒ½ä½¿ç”¨ mysqlã€mariadb ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æœ€è¿‘å› ä¸ºå·¥ä½œéœ€è¦ï¼Œä¸å¾—ä¸é‡æ–°è®¤çœŸå­¦å­¦ Oracle æ•°æ®åº“äº†ã€Œé‡å¤å­¦ä¹ çœŸçš„å¾ˆæµªè´¹æ—¶é—´ğŸ˜“ã€ï¼Œè€Œé¦–å…ˆéœ€è¦è€ƒè™‘çš„å°±æ˜¯å¦‚ä½•å®‰è£…ä¸€ä¸ª oracle æ•°æ®åº“äº†ï¼Œä¹‹å‰å·²æœ‰åœ¨ windows ç³»ç»Ÿä¸‹ç›´æ¥å®‰è£… oracle æ•°æ®åº“çš„ç»éªŒã€‚&lt;/p&gt;
&lt;p&gt;ç†è®ºä¸Šï¼Œå†åœ¨ win10 ä¸Šå®‰è£…ä¸€ä¸ª oracle æ•°æ®åº“å¾ˆç®€å•ï¼Œä½†æˆ‘å¹³æ—¶ä¸»è¦ä½¿ç”¨ç¬”è®°æœ¬ç”µè„‘ä¸Šçš„ manjaro ç³»ç»Ÿï¼Œå…¶ä»–çš„ç³»ç»Ÿåªæ˜¯å¤‡ç”¨è€Œå·²ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Database" scheme="http://rovo98.github.io/categories/Database/"/>
    
    
    <category term="Oracle" scheme="http://rovo98.github.io/tags/Oracle/"/>
    
    <category term="Docker" scheme="http://rovo98.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot + Docker + Nginx è´Ÿè½½å‡è¡¡å®ç°</title>
    <link href="http://rovo98.github.io/posts/39885a36/"/>
    <id>http://rovo98.github.io/posts/39885a36/</id>
    <published>2020-07-06T05:47:00.000Z</published>
    <updated>2021-09-09T14:11:36.663Z</updated>
    
    <content type="html"><![CDATA[<p>Nginx æ˜¯é«˜æ€§èƒ½çš„ http æœåŠ¡å™¨ï¼Œåå‘ä»£ç†æœåŠ¡å™¨ã€‚ç»“åˆ Tomcat ä¸€èµ·ä½¿ç”¨å¯ä»¥å¾ˆå®¹æ˜“å®ç°è´Ÿè½½å‡è¡¡ã€‚</p><p>æœ¬æ–‡ä¸»è¦ä»‹ç»ä½¿ç”¨ SpringBoot + Docker + Nginx å®ç°çš„è´Ÿè½½å‡è¡¡çš„ä¸€æ¬¡ç®€å•å®è·µã€‚</p><p><img data-src="/images/Dev/springboot-docker-load-balancing/sb-nginx-load-balancing.png" alt="" /></p><span id="more"></span><h2 id="1-æ„å»º-springboot-é¡¹ç›®-docker-é•œåƒ"><a class="markdownIt-Anchor" href="#1-æ„å»º-springboot-é¡¹ç›®-docker-é•œåƒ"></a> 1. æ„å»º SpringBoot é¡¹ç›® Docker é•œåƒ</h2><p>æˆ‘ä¸ªäººä½¿ç”¨ docker å·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œè™½ç„¶ä»æœ‰è®¸å¤šæœªæŒæ¡çš„å†…å®¹ï¼Œä½†å®ƒç¡®å®åœ¨å¼€å‘è¿‡ç¨‹ä¸­ç»™æˆ‘å¸¦æ¥äº†æå¤§çš„ä¾¿åˆ©ã€‚docker èƒ½å¤Ÿä¸ºå¼€å‘è€…æä¾›ä¸€è‡´çš„å¼€å‘ç¯å¢ƒå’Œéƒ¨ç½²ç¯å¢ƒï¼Œå¾ˆå¥½åœ°æå‡äº†ç¼–ç¨‹å¼€å‘ä½“éªŒã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å°†ç»™å‡ºä¸¤ä¸ªå‡ ä¹ç›¸åŒçš„ SpringBoot é¡¹ç›®ï¼Œç„¶åç”¨ docker æ¥æ„å»ºé•œåƒã€‚</p><h3 id="11-springboot-é¡¹ç›®"><a class="markdownIt-Anchor" href="#11-springboot-é¡¹ç›®"></a> 1.1 SpringBoot é¡¹ç›®</h3><p>ç”±äºæˆ‘ä»¬çš„ä¸»è¦ç›®çš„æ˜¯å®ç°è´Ÿè½½å‡è¡¡ï¼Œå› æ­¤åªéœ€è¦ç®€å•çš„ SpringBoot é¡¹ç›®å®ç°å³å¯ã€‚</p><ol><li>åˆ›å»º SpringBoot é¡¹ç›®ï¼Œæ·»åŠ  <code>spring-boot-starter-web</code> å’Œ  <code>spring-boot-starter-test</code> ä¾èµ–å°±å¯ä»¥äº†ï¼›</li><li>ç„¶åï¼Œç¼–è¯‘ä¸€ä¸ªç®€å•çš„ <code>RestController</code>ï¼Œå†™ä¸€ä¸ªå¤„ç† <code>GET</code> è¯·æ±‚ Mappingï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²å³å¯ã€‚</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(Demo1Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/app&quot;)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/sayHello/&#123;name&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">(<span class="meta">@PathVariable(&quot;name&quot;)</span> String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello &quot;</span> + name + <span class="string">&quot; from demo1. &quot;</span> + <span class="keyword">new</span> Date().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>ç¬¬äºŒä¸ª SpringBoot ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œä¸ºäº†åŒºåˆ†ï¼Œæˆ‘ä»¬å°† <code>/app/sayHello&#123;name&#125;</code> çš„è¿”å›å­—ç¬¦ä¸²æ”¹ä¸º</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;Hello &quot;</span> + name + <span class="string">&quot; from demo2 at &quot;</span> + <span class="keyword">new</span> Date().toString();</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h4 id="ç¼–å†™-dockerfile"><a class="markdownIt-Anchor" href="#ç¼–å†™-dockerfile"></a> ç¼–å†™ Dockerfile</h4><p>æˆ‘ä»¬çŸ¥é“ï¼Œè¿è¡Œ SpringBoot é¡¹ç›®ï¼Œæ˜¯é€šè¿‡ <code>java -jar xxx.jar</code> çš„æ–¹å¼æ¥è¿è¡Œçš„ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ç¼–å†™å¦‚ä¸‹ <code>Dockerfile</code>ï¼š</p><p>sb-demo1 <code>Dockerfile</code>:</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> openjdk:<span class="number">8</span>-jdk-alpine</span><br><span class="line"></span><br><span class="line"><span class="keyword">MAINTAINER</span> rovo98 &lt;rovo984sff@gmail.com&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">VOLUME</span><span class="bash"> /tmp</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> target/demo1-0.0.1-SNAPSHOT.jar app1.jar</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="bash"> [ <span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;java -Djava.security.egd=file:/dev/./urandom -jar /app1.jar&quot;</span> ]</span></span><br></pre></td></tr></table></figure><p>sb-demo2 <code>Dockerfile</code>:</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> openjdk:<span class="number">8</span>-jdk-alpine</span><br><span class="line"></span><br><span class="line"><span class="keyword">MAINTAINER</span> rovo98 &lt;rovo984sff@gmail.com&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">VOLUME</span><span class="bash"> /tmp</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> target/demo2-0.0.1-SNAPSHOT.jar app2.jar</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="bash"> [ <span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;java -Djava.security.egd=file:/dev/./urandom -jar /app2.jar&quot;</span> ]</span></span><br></pre></td></tr></table></figure><div class="note info"><p>å…³äº <code>-Djava.security.egd=file:/dev/./urandom</code> ç³»ç»Ÿå±æ€§çš„ä½œç”¨ï¼šä¸»è¦æ˜¯ä¸ºäº†æå‡ docker å®¹å™¨ä¸­ Tomcat å¯åŠ¨çš„æ€§èƒ½ã€‚</p><p>Tomcat ä½¿ç”¨ <code>java.security.SecureRandom</code> æ¥æä¾›å¯†ç å­¦ä¸Šå®‰å…¨æ€§å¼ºçš„ä¼ªéšæœºæ•°ã€‚ç±» Unix ç³»ç»Ÿå…·æœ‰ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ <code>/dev/random</code> æ¥é€šè¿‡è®¿é—®ä»è®¾å¤‡é©±åŠ¨ç¨‹åºå’Œå…¶ä»–æºæ”¶é›†çš„ç¯å¢ƒå™ªå£°æ¥æä¾›ä¼ªéšæœºæ•°ã€‚è¿™è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœè¯·æ±‚å¤§äºç†µï¼Œåˆ™ä¼šå‘ç”Ÿé˜»å¡ã€‚è€Œ <code>/dev/urandom</code> åˆ™æ°¸è¿œä¸ä¼šé˜»å¡ï¼Œå³ä½¿ä¼ªéšæœºæ•°äº§ç”Ÿå™¨çš„ç§å­åœ¨å¯åŠ¨æ—¶æ²¡æœ‰å®Œå…¨ç”¨ç†µåˆå§‹åŒ–ã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª <code>/dev/arandom</code>ç‰¹æ®Šæ–‡ä»¶ï¼Œå®ƒåˆ™æ˜¯åœ¨å¯åŠ¨æ—¶é˜»å¡ï¼Œç›´åˆ°ç§å­å·²ç»å®Œå…¨åˆå§‹åŒ–ä¸ºæ­¢ï¼Œä¹‹åå°±å†ä¹Ÿä¸ä¼šé˜»å¡äº†ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒJVM ä½¿ç”¨ <code>/dev/random</code> ä½œä¸º <code>SecureRandom</code> çš„ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ï¼Œå› æ­¤ï¼ŒJava ä»£ç å¯èƒ½ä¼šä»¥æˆ‘ä»¬ä¸æœŸæœ›çš„æ–¹å¼è¿›è¡Œé˜»å¡ã€‚<code>-Djava.security.egd=file:/dev/./urandom</code> å°±æ˜¯ä¸ºäº†å‘Šè¯‰JVM ä½¿ç”¨ <code>/dev/urandom</code> è€Œä¸æ˜¯ <code>/dev/random</code> çš„ã€‚</p><p>é¢å¤–çš„  <code>/./</code> ä¼¼ä¹æ˜¯è®© JVM ä½¿ç”¨ <code>SHA1PRNG</code> ç®—æ³•ä½œä¸º PRNG (Pseudo Random Number Generaterï¼Œä¼ªéšæœºæ•°ç”Ÿæˆå™¨)çš„åŸºç¡€ã€‚å®ƒè¦æ¯”<code>/dev/urandom</code> çš„åŸå§‹ä¼ªéšæœºæ•°ç”Ÿæˆç®—æ³•è¦å¼ºã€‚</p></div><h3 id="12-æ„å»ºé•œåƒçš„æ–¹å¼"><a class="markdownIt-Anchor" href="#12-æ„å»ºé•œåƒçš„æ–¹å¼"></a> 1.2 æ„å»ºé•œåƒçš„æ–¹å¼</h3><ol><li>ç›´æ¥é€šè¿‡ <code>docker image build -t &lt;tag&gt; &lt;context_location&gt;</code> å‘½ä»¤æ¥è¿›è¡Œæ„å»º:</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker image build -t springboot-docker-demo/sb-demo1:latest .</span><br></pre></td></tr></table></figure><ol start="2"><li>maven é¡¹ç›®å¯ä»¥ä½¿ç”¨ <code>dockerfile-maven-plugin</code> æ’ä»¶æ¥æ„å»ºé•œåƒ:</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.spotify<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dockerfile-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">repository</span>&gt;</span>$&#123;docker.image.prefix&#125;/$&#123;project.artifactId&#125;<span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                    &lt;tag&gt;$&#123;version&#125;&lt;/tag&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-dependency-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>unpack<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">goal</span>&gt;</span>unpack<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactItems</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">artifactItem</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>$&#123;project.groupId&#125;<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>$&#123;project.artifactId&#125;<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;project.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">artifactItem</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">artifactItems</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¹‹åä½¿ç”¨å¦‚ <code>mvn clean compiler:compile jar:jar spring-boot:repackage dockerfile:build</code> è¿™æ ·çš„å‘½ä»¤å³å¯æ„å»ºå‡ºç›¸åº”çš„é•œåƒã€‚</p><h2 id="2-é…ç½®-nginx"><a class="markdownIt-Anchor" href="#2-é…ç½®-nginx"></a> 2. é…ç½® Nginx</h2><p>åŒæ ·åœ°ï¼Œè¿˜æ˜¯ä½¿ç”¨ docker æ¥è¿è¡Œ nginxï¼Œä½†ä¸ç®¡ç”¨ä»€ä¹ˆæ–¹å¼ï¼Œæˆ‘ä»¬éƒ½åªéœ€è¦å…³æ³¨ nginx çš„é…ç½®æ–‡ä»¶ <code>nginx.conf</code> çš„ç¼–å†™ï¼Œä¹‹ååœ¨è¿è¡Œ nginx å®¹å™¨æ—¶ï¼Œå°†ç›¸åº”çš„é…ç½®æ–‡ä»¶ã€æ—¥å¿—ç›®å½•ç­‰ä»¥æ•°æ®å·çš„æ–¹å¼æŒ‚è½½åˆ°å®¹å™¨ä¸­å³å¯ã€‚</p><h3 id="21-proxy_pass-åå‘ä»£ç†"><a class="markdownIt-Anchor" href="#21-proxy_pass-åå‘ä»£ç†"></a> 2.1 proxy_pass åå‘ä»£ç†</h3><p>nginx å®ç°åå‘ä»£ç†çš„æ–¹å¼éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­çš„ <code>proxy_pass</code> åå†™è¦ä»£ç†çš„æœåŠ¡å™¨çš„åœ°å€å³å¯ã€‚å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">server &#123; # simple reverse-proxy</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name  domain2.com www.domain2.com;</span><br><span class="line">    access_log   logs/domain2.access.log  main;</span><br><span class="line"></span><br><span class="line">    # serve static files</span><br><span class="line">    location ~ ^/(images|javascript|js|css|flash|media|static)/  &#123;</span><br><span class="line">      root    /var/www/virtual/big.server.com/htdocs;</span><br><span class="line">      expires 30d;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # pass requests for dynamic content to rails/turbogears/zope, et al</span><br><span class="line">    location / &#123;</span><br><span class="line">      proxy_pass      http://127.0.0.1:8080;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="22-upstream-è´Ÿè½½å‡è¡¡"><a class="markdownIt-Anchor" href="#22-upstream-è´Ÿè½½å‡è¡¡"></a> 2.2 upstream è´Ÿè½½å‡è¡¡</h3><p>ç±»ä¼¼åœ°ï¼Œå®ç°è´Ÿè½½å‡è¡¡ï¼Œä¹Ÿåªéœ€è¦å¯¹ nginx çš„é…ç½®æ–‡ä»¶è¿›è¡Œç®€å•çš„ä¿®æ”¹å³å¯ã€‚å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">upstream big_server_com &#123;</span><br><span class="line">    server 127.0.0.3:8000 weight=5;</span><br><span class="line">    server 127.0.0.3:8001 weight=5;</span><br><span class="line">    server 192.168.0.1:8000;</span><br><span class="line">    server 192.168.0.1:8001;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  server &#123; # simple load balancing</span><br><span class="line">    listen          80;</span><br><span class="line">    server_name     big.server.com;</span><br><span class="line">    access_log      logs/big.server.access.log main;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">      proxy_pass      http://big_server_com;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>nginx çš„é…ç½®æ–‡ä»¶å‚è€ƒ <a href="https://www.nginx.com/resources/wiki/start/topics/examples/full/">https://www.nginx.com/resources/wiki/start/topics/examples/full/</a></p><h2 id="3-è¿è¡Œæ–¹å¼"><a class="markdownIt-Anchor" href="#3-è¿è¡Œæ–¹å¼"></a> 3. è¿è¡Œæ–¹å¼</h2><p>ä¸Šé¢æˆ‘ä»¬å·²ç»å‡†å¤‡å¥½äº†æ‰€æœ‰éœ€è¦çš„é•œåƒï¼Œè¦è¿è¡Œè¿™äº›é•œåƒï¼Œå¯åŠ¨å®¹å™¨ï¼Œæˆ‘ä»¬æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ã€‚</p><h3 id="31-ç›´æ¥å¯åŠ¨å„å®¹å™¨"><a class="markdownIt-Anchor" href="#31-ç›´æ¥å¯åŠ¨å„å®¹å™¨"></a> 3.1 ç›´æ¥å¯åŠ¨å„å®¹å™¨</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm -p 8080:8080 --name sb-demo1 -d springboot-docker-demo/demo1</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm -p 8089:8080 --name sb-demo2 -d springboot-docker-demo/demo2</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm -p 80:80 --name sb-nginx -d nginx:latest \</span><br><span class="line">-v ./nginx-data/conf/nginx.conf:/etc/nginx/nginx.conf \</span><br><span class="line">-v ./nginx-data/html:/etc/nginx/nginx/html</span><br><span class="line">-v ./nginx-data/<span class="built_in">log</span>:/var/<span class="built_in">log</span>/nginx</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œ<code>nginx.conf</code>ä¸­å…³äºè´Ÿè½½å‡è¡¡é…ç½®çš„éƒ¨åˆ†åº”è¯¥è¿™æ ·ç¼–å†™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">upstream app &#123;</span><br><span class="line">    #ip_hash;</span><br><span class="line">    server localhost:8080 weight=1;</span><br><span class="line">    server localhost:8088 weight=1;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name  localhost;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        root   /usr/share/nginx/html;</span><br><span class="line">        index  index.html index.htm;</span><br><span class="line">        proxy_pass http://app;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§è¿è¡Œæ–¹å¼ä¸‹ï¼Œä¸¤ä¸ª SpringBoot é¡¹ç›®æ˜¯æš´éœ²çš„ï¼Œå³æˆ‘ä»¬èƒ½é€šè¿‡ <code>localhost:8080</code> æˆ– <code>localhost:8088</code> æ¥å¯¹ SpringBoot åº”ç”¨è¿›è¡Œè®¿é—®ã€‚å¦‚æœè¦åªè®© nginx èƒ½è¢«å¤–ç•Œè®¿é—®ï¼Œè€Œä¸¤ä¸ªSpringBoot é¡¹ç›®ä¸è¦è¢«å¤–ç•Œè®¿é—®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>docker network</code> æ¥åˆ›å»ºä¸€ä¸ªç½‘ç»œï¼Œç”¨äºè¿æ¥è¿™äº›å®¹å™¨ã€‚</p><h3 id="32-docker-compose-æ–¹å¼"><a class="markdownIt-Anchor" href="#32-docker-compose-æ–¹å¼"></a> 3.2 docker-compose æ–¹å¼</h3><p>docker-compose æ˜¯ docker æä¾›çš„å®šä¹‰ç”±å¤šä¸ªå®¹å™¨ç»„æˆçš„åº”ç”¨çš„æ–¹å¼ï¼Œä»¥æ›´å¥½åœ°ç»„ç»‡å’Œç®¡ç†å¤šä¸ªå®¹å™¨ç»„æˆçš„åº”ç”¨ã€‚ä¸ºäº†è¿è¡Œæˆ‘ä»¬çš„åº”ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä»¥ä¸‹ <code>docker-compose.yml</code> æ–‡ä»¶ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">app1:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">springboot-docker-demo/demo1:latest</span></span><br><span class="line">    <span class="comment">#    build: ./demo1 # if using build approach, un-comment demo1 dir in .dockerignore file.</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">sb-demo1</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="attr">webnet:</span></span><br><span class="line">        <span class="attr">ipv4_address:</span> <span class="number">10.0</span><span class="number">.1</span><span class="number">.4</span></span><br><span class="line">  <span class="attr">app2:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">springboot-docker-demo/demo2:latest</span></span><br><span class="line">    <span class="comment">#    build: ./demo2 # if using build approach, un-comment demo2 dir in .dockerignore file.</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">sb-demo2</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="attr">webnet:</span></span><br><span class="line">        <span class="attr">ipv4_address:</span> <span class="number">10.0</span><span class="number">.1</span><span class="number">.3</span></span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">sb-nginx</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">80</span><span class="string">:80</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./nginx-data/conf/nginx.conf:/etc/nginx/nginx.conf</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./nginx-data/html:/etc/nginx/nginx/html</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./nginx-data/log:/var/log/nginx</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="attr">webnet:</span></span><br><span class="line">        <span class="attr">ipv4_address:</span> <span class="number">10.0</span><span class="number">.1</span><span class="number">.2</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">webnet:</span></span><br><span class="line">    <span class="attr">ipam:</span></span><br><span class="line">      <span class="attr">driver:</span> <span class="string">default</span></span><br><span class="line">      <span class="attr">config:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">subnet:</span> <span class="number">10.0</span><span class="number">.1</span><span class="number">.0</span><span class="string">/24</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ <code>docker-compose up -d</code> æ¥è¿è¡Œï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œèƒ½è®©æ‰€æœ‰çš„å®¹å™¨è¿è¡Œåœ¨åŒä¸€ä¸ªç½‘ç»œä¸­ï¼Œå¹¶åªè®© nginx æš´éœ²å‡º 80 ç«¯å£ï¼Œä»¥ä¾›å¤–éƒ¨è®¿é—®ã€‚</p><p>ä¸è¿‡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘åœ¨åˆ›å»ºç½‘ç»œæ—¶é…ç½®äº†å­ç½‘ï¼Œå¹¶ä¸ºå„ä¸ªå®¹å™¨æŒ‡å®šäº†å›ºå®š ip åœ°å€ã€‚è¿™æ—¶ï¼Œ<code>nginx.conf</code> ä¸­ upstream éƒ¨åˆ†åº”è¯¥æ”¹ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">upstream app &#123;</span><br><span class="line">    #ip_hash;</span><br><span class="line">    server 10.0.1.4:8080 weight=1;</span><br><span class="line">    server 10.0.1.3:8088 weight=1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="33-ä½¿ç”¨-docker-stack-deploy-éƒ¨ç½²åˆ°-swarm-é›†ç¾¤ä¸Š"><a class="markdownIt-Anchor" href="#33-ä½¿ç”¨-docker-stack-deploy-éƒ¨ç½²åˆ°-swarm-é›†ç¾¤ä¸Š"></a> 3.3 ä½¿ç”¨ docker stack deploy éƒ¨ç½²åˆ° swarm é›†ç¾¤ä¸Š</h3><p>é€šè¿‡ <code>docker stack deploy docker-compose.yml</code> çš„æ–¹å¼èƒ½å¤Ÿå°†åº”ç”¨éƒ¨ç½²åˆ° swarm é›†ç¾¤ä¸Šã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># create three virtualbox machines</span></span><br><span class="line">docker-machine create --driver virtualbox myvm1</span><br><span class="line">docker-machine create --driver virtualbox myvm2</span><br><span class="line">docker-machine create --driver virtualbox myvm3</span><br></pre></td></tr></table></figure><p><code>docker-machine ls</code>:</p><p><img data-src="sb-docker-stack-machines.png" alt="" /></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># create a swarm</span></span><br><span class="line">docker swarm init --advertise-addr 192.168.1.100</span><br><span class="line"><span class="comment"># add host mahcine as  manager</span></span><br><span class="line">docker swarm join-token manager</span><br><span class="line"><span class="comment"># add virtual machines as workers</span></span><br><span class="line">docker-machine ssh myvm1 <span class="string">&quot;docker swarm join --token SWMTKN-1-10nk6yfukgx4ie1d739i8w43itzdzya2yvo51je0hgisvxqzkf-3awbtfab6h00873ic7njvt8yr 192.168.1.100:2377&quot;</span></span><br><span class="line">docker-machine ssh myvm2 <span class="string">&quot;docker swarm join --token SWMTKN-1-10nk6yfukgx4ie1d739i8w43itzdzya2yvo51je0hgisvxqzkf-3awbtfab6h00873ic7njvt8yr 192.168.1.100:2377&quot;</span></span><br><span class="line">docker-machine ssh myvm3 <span class="string">&quot;docker swarm join --token SWMTKN-1-10nk6yfukgx4ie1d739i8w43itzdzya2yvo51je0hgisvxqzkf-3awbtfab6h00873ic7njvt8yr 192.168.1.100:2377&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># deploy app to the swarm</span></span><br><span class="line">docker stack deploy -c docker-compose.yml sb-load-balancing-demo</span><br></pre></td></tr></table></figure><p>ä¹‹åå¯ä½¿ç”¨ <code>docker service ls</code> æˆ– <code>docker stack services &lt;service_name&gt;</code> æ¥æŸ¥çœ‹åº”ç”¨çš„éƒ¨ç½²æƒ…å†µã€‚</p><h3 id="è¿è¡Œç»“æœæµ‹è¯•"><a class="markdownIt-Anchor" href="#è¿è¡Œç»“æœæµ‹è¯•"></a> è¿è¡Œç»“æœæµ‹è¯•</h3><p>ä¸ºäº†æ›´å¿«åœ°æµ‹è¯•ç»“æœï¼Œæˆ‘ä½¿ç”¨çš„ <code>docker-compose</code> çš„è¿è¡Œæ–¹å¼ã€‚</p><p><img data-src="sb-load-balancing-result-testing.gif" alt="" /></p><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨åˆ·æ–°åï¼Œnginx èƒ½å¤Ÿå°†è¯·æ±‚åˆ†å‘ç»™å¦ä¸€ä¸ª SpringBoot åº”ç”¨ï¼Œæ¥å®ç°è´Ÿè½½å‡è¡¡ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç»“åˆ <code>ip_hash</code> ä½¿ç”¨ï¼Œæ­¤æ—¶ï¼Œå®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è®¿é—®åº”ç”¨æ—¶ï¼Œä¼šåˆ†é…åˆ°ä¸€ä¸ªç‰¹å®š SpringBoot åº”ç”¨ï¼Œä¹‹åå†æ¬¡è®¿é—®æ—¶ä¼šç»§ç»­è®¿é—®åŒä¸€ä¸ª SpringBoot åº”ç”¨ã€‚</p><h2 id="4-å°ç»“"><a class="markdownIt-Anchor" href="#4-å°ç»“"></a> 4. å°ç»“</h2><p>ä½¿ç”¨ nginx ç»“åˆ Tomcat å®ç°è´Ÿè½½å‡è¡¡çœ‹èµ·æ¥æ˜¯éå¸¸ç®€å•çš„ï¼Œä½†æœ‰äº›äº‹æƒ…å¿…é¡»è¦å®é™…åŠ¨æ‰‹å®è·µæ‰èƒ½çœŸæ­£åœ°æŒæ¡ã€‚åœ¨å®è·µçš„è¿‡ç¨‹ä¸­å¾€å¾€ä¹Ÿèƒ½å‘ç°è‡ªå·±ä¹‹å‰æœªèƒ½å¯Ÿè§‰çš„æˆ–ä»–äººæœªæåˆ°çš„é—®é¢˜ã€‚</p><p>ä½¿ç”¨ docker ç¡®å®èƒ½å¤Ÿè®©çš„äººçš„å¼€å‘ä½“éªŒæœ‰æ‰€æå‡ï¼Œç†Ÿç»ƒä½¿ç”¨ docker åï¼Œåœ¨æ—¥å¸¸å¼€å‘ä»¥åŠå­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å³ä¾¿æ˜¯åœ¨ä¸ªäººç¬”è®°æœ¬ç”µè„‘ä¸Šä¹Ÿèƒ½å¿«é€Ÿåœ°æ­å»ºå‡ºéœ€è¦çš„ç¯å¢ƒã€‚</p><p>æœ¬æ–‡æ¶‰åŠç›¸å…³æºä»£ç : <a href="https://github.com/rovo98/java-dev-practices/tree/master/dev-practices/springboot-docker-demo">springboot-docker-nginx-load-balacning</a></p><blockquote><p>references:</p><ol><li><a href="https://docs.nginx.com/nginx/admin-guide/web-server/web-server/">https://docs.nginx.com/nginx/admin-guide/web-server/web-server/</a></li><li><a href="https://stackoverflow.com/questions/58991966/what-java-security-egd-option-is-for">https://stackoverflow.com/questions/58991966/what-java-security-egd-option-is-for</a></li><li><a href="https://fbrx.github.io/post/fixing-tomcat-startup-performance-on-cloud-servers/">https://fbrx.github.io/post/fixing-tomcat-startup-performance-on-cloud-servers/</a></li><li><a href="https://docs.docker.com/develop/dev-best-practices/">https://docs.docker.com/develop/dev-best-practices/</a></li></ol></blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;Nginx æ˜¯é«˜æ€§èƒ½çš„ http æœåŠ¡å™¨ï¼Œåå‘ä»£ç†æœåŠ¡å™¨ã€‚ç»“åˆ Tomcat ä¸€èµ·ä½¿ç”¨å¯ä»¥å¾ˆå®¹æ˜“å®ç°è´Ÿè½½å‡è¡¡ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦ä»‹ç»ä½¿ç”¨ SpringBoot + Docker + Nginx å®ç°çš„è´Ÿè½½å‡è¡¡çš„ä¸€æ¬¡ç®€å•å®è·µã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&quot;/images/Dev/springboot-docker-load-balancing/sb-nginx-load-balancing.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Practices" scheme="http://rovo98.github.io/categories/Practices/"/>
    
    
    <category term="Docker" scheme="http://rovo98.github.io/tags/Docker/"/>
    
    <category term="SpringBoot" scheme="http://rovo98.github.io/tags/SpringBoot/"/>
    
    <category term="Nginx" scheme="http://rovo98.github.io/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>A Compact Encoding for Efficient Character-level Deep Text Classification</title>
    <link href="http://rovo98.github.io/posts/ea5d9796/"/>
    <id>http://rovo98.github.io/posts/ea5d9796/</id>
    <published>2020-01-15T16:00:00.000Z</published>
    <updated>2021-09-09T14:11:36.753Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ–‡çŒ®ç¿»è¯‘ï¼šé«˜æ•ˆçš„ç´§å‡‘ç¼–ç å­—ç¬¦çº§æ·±å±‚æ–‡æœ¬åˆ†ç±»<br />authors: Wemerson Marinho, Luis MartÄ±Ì, Nayat Sanchez-Pi<br />åŸæ–‡: <a href="https://ieeexplore.ieee.org/document/8489139">A Compact Encoding for Efficient Character-level Deep Text Classification</a></p></blockquote><h2 id="abstract"><a class="markdownIt-Anchor" href="#abstract"></a> Abstract</h2><p>æœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°çš„æ–‡æœ¬åˆ°å¼ é‡çš„è¡¨ç¤ºæ–¹å¼ï¼Œå®ƒä¾é ä¿¡æ¯å‹ç¼©æŠ€æœ¯ä¸ºæœ€å¸¸ç”¨çš„å­—ç¬¦åˆ†é…è¾ƒçŸ­çš„ç¼–ç ã€‚è¿™ç§è¡¨ç¤ºæ–¹å¼ä¸è¯­è¨€æ— å…³ï¼Œä¸éœ€è¦è¿›è¡Œé¢„è®­ç»ƒå¹¶èƒ½å¤Ÿäº§ç”Ÿæ²¡æœ‰ä¿¡æ¯æŸå¤±çš„ç¼–ç ã€‚å®ƒæä¾›äº†å¯¹æ–‡æœ¬å½¢æ€çš„å……åˆ†æè¿°ï¼Œä¾‹å¦‚ï¼Œå®ƒèƒ½å¤Ÿç”¨æ¥è¡¨ç¤ºå‰ç¼€ï¼Œåç¼€å’Œå˜å½¢ç›¸ä¼¼çš„å‘é‡ï¼Œç”šè‡³èƒ½å¤Ÿè¡¨ç¤ºè®­ç»ƒé›†ä¸­æ²¡æœ‰çš„å•è¯ã€‚é€šå¸¸ï¼Œç”±äºå®ƒç´§å‡‘è€Œç¨€ç–ï¼Œå› æ­¤éå¸¸é€‚åˆä½¿ç”¨å¼ é‡å¤„ç†åº“æ¥åŠ å¿«è®­ç»ƒæ—¶é—´ã€‚ä½œä¸ºæœ¬æ–‡çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬è¯æ˜äº†å½“ä¸å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ç»“åˆç”¨äºå­—ç¬¦çº§åˆ«çš„æ–‡æœ¬åˆ†ç±»æ—¶ï¼Œè¯¥æŠ€æœ¯ç‰¹åˆ«æœ‰æ•ˆã€‚æˆ‘ä»¬å°† CNN çš„ä¸¤ä¸ªå˜ä½“ä¸æœ¬æ–‡çš„ç¼–ç æ–¹å¼ç»“åˆä½¿ç”¨ã€‚å®éªŒç»“æœè¡¨æ˜ï¼Œå®ƒæå¤§åœ°å‡å°‘äº†è¦ä¼˜åŒ–çš„å‚æ•°æ•°é‡ï¼Œä»è€Œä»…åœ¨ one-hot ç¼–ç è¡¨ç¤ºæ‰€èŠ±è´¹çš„æ—¶é—´çš„ä¸€å°éƒ¨åˆ†ä¸­å°±äº§ç”Ÿäº†å…·æœ‰ç«äº‰åŠ›çš„åˆ†ç±»ç²¾åº¦ï¼Œä»è€Œåº”ç”¨äºå•†ä¸šç¡¬ä»¶ä¸­æ¥è®­ç»ƒæ¨¡å‹ã€‚</p><p>Index Terms â€“ text classification, character level convolutional neural networks, encoding of words</p><span id="more"></span><h2 id="1-introduction"><a class="markdownIt-Anchor" href="#1-introduction"></a> 1. INTRODUCTION</h2><p>æ–‡æ¡£åˆ†ç±»æ˜¯è‡ªç„¶è¯­è¨€å¤„ç†ä¸­è¦è§£å†³çš„ä¸»è¦ä»»åŠ¡ä¹‹ä¸€<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ã€‚å®ƒæ„å‘³ç€å°†æ–‡æ¡£ï¼ˆæˆ–ä»»ä½•æ–‡æœ¬ç‰‡æ®µï¼‰ä¸ä¾èµ–å…¶å†…å®¹çš„ç±»åˆ«æˆ–æ ‡ç­¾ç›¸å…³è”ã€‚æ•°å­—å½¢å¼çš„æ–‡æœ¬ï¼ˆå°¤å…¶æ˜¯é€šè¿‡ Internetï¼‰çš„å¯ç”¨æ€§ä¸æ–­æé«˜ï¼Œè¦æ±‚å¼€å‘ç»Ÿè®¡å’Œäººå·¥æ™ºèƒ½ä»¥ä½¿è¯¥è¿‡ç¨‹è‡ªåŠ¨åŒ–ã€‚åƒåœ¾é‚®ä»¶æ£€æµ‹å™¨ï¼Œæƒ…æ„Ÿåˆ†æï¼Œæ–°é—»å½’æ¡£ç­‰è®¸å¤šæ–¹é¢éƒ½éœ€è¦é«˜è´¨é‡çš„æ–‡æœ¬åˆ†ç±»å™¨ã€‚</p><p>æ–‡æ¡£åˆ†ç±»çš„æ–¹æ³•è¦†ç›–èŒƒå›´å¾ˆå¹¿ï¼ˆå‚è§<sup class="footnote-ref"><a href="#fn1" id="fnref1:1">[1:1]</a></sup>-<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>ï¼‰ã€‚å®ƒä»¬çš„é‡è¦éƒ¨åˆ†ä¾èµ–äºå°†è¯ä½œä¸ºæ–‡æœ¬çš„åŸå­å…ƒç´ æ¥å¤„ç†çš„è¡¨ç¤ºå½¢å¼ã€‚å› æ­¤ï¼Œè¿™äº›æ–¹æ³•é€šè¿‡ç»Ÿè®¡è¯çš„å‡ºç°æ¥è¿›è¡Œåˆ†æ<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>ã€‚ä½†æ˜¯ï¼Œå±äºä¸€ç§è¯­è¨€çš„å•è¯å’Œç»“æ„çš„å¯å˜æ€§é˜»ç¢äº†è¯¥æ–¹æ³•çš„å¯è¡Œæ€§ã€‚å› æ­¤ï¼Œè¿™äº›æ¨¡å‹åœ¨ç‰¹å®šé¢†åŸŸå’Œåº”ç”¨ä¸­å…·æœ‰å‡ºè‰²çš„æ€§èƒ½ï¼Œåœ¨è¿™äº›é¢†åŸŸå’Œè¯æ±‡ä¸­ï¼Œè¯æ±‡è¢«é™åˆ¶ä¸ºæˆ–å¯ä»¥é™åˆ¶ä¸ºç›¸å¯¹å°‘é‡çš„å•è¯ï¼Œå¯èƒ½æ˜¯ç”±ä¸“å®¶æ¥è¿›è¡ŒæŒ‘é€‰çš„ã€‚æ­¤å¤–ï¼Œè¿™ç§å»ºæ¨¡å¯¹äºä¸€ç§è¯­è¨€è€Œè¨€æ˜¯ç‰¹å®šçš„ï¼Œå¯¹äºå¦ä¸€ç§è¯­è¨€å°†éœ€è¦é‡æ–°å¼€å§‹ç±»ä¼¼çš„è¿‡ç¨‹<sup class="footnote-ref"><a href="#fn3" id="fnref3:1">[3:1]</a></sup>ã€‚</p><p>è¿‘å¹´æ¥ï¼Œéšç€æ·±åº¦å­¦ä¹ æ–¹æ³•çš„å‡ºç°ï¼Œæˆ‘ä»¬ç»å†äº†æœºå™¨å­¦ä¹ çš„ä¸€åœºé©å‘½<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup>ã€‚CNN çš„å‘å±•<sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup>ä¸å¹¶è¡Œè®¡ç®—åº“ï¼ˆä¾‹å¦‚ Theano<sup class="footnote-ref"><a href="#fn6" id="fnref6">[6]</a></sup>ï¼ŒTensorflow<sup class="footnote-ref"><a href="#fn7" id="fnref7">[7]</a></sup>, Keras<sup class="footnote-ref"><a href="#fn8" id="fnref8">[8]</a></sup>ç­‰ï¼‰çš„æ™®åŠç›¸ç»“åˆï¼Œç®€åŒ–äº†å›¾å½¢å¤„ç†å•å…ƒä¸Šçš„é€šç”¨è®¡ç®—ï¼ˆGPGPUï¼‰<sup class="footnote-ref"><a href="#fn9" id="fnref9">[9]</a></sup>å·²æˆåŠŸè§£å†³å›¾åƒåˆ†ç±»é—®é¢˜<sup class="footnote-ref"><a href="#fn10" id="fnref10">[10]</a></sup>ï¼Œè¿…é€Ÿæˆä¸ºè¯¥é¢†åŸŸçš„æœ€æ–°æŠ€æœ¯ã€‚</p><p>å¯ä»¥é¢„è§ï¼Œæ·±åº¦å­¦ä¹ å’Œ CNN åœ¨å›¾åƒåˆ†ç±»é¢†åŸŸçš„æˆåŠŸä¿ƒä½¿äººä»¬å°†æ·±åº¦å­¦ä¹ åŸç†æ‰©å±•åˆ°æ–‡æ¡£åˆ†ç±»é¢†åŸŸã€‚ä¸€äº›ç°æœ‰çš„æ–¹æ³•å·²ç»æ›´æ–°ï¼Œä½†æ˜æ˜¾çš„å¤§å¤šæ•°æ–¹æ³•ä»åŸºäºå•è¯çš„ç¬¦å·åŒ–æœºå™¨ç»Ÿè®¡æ¨ç†ã€‚è¯è¢‹ï¼ˆBoWï¼‰<sup class="footnote-ref"><a href="#fn11" id="fnref11">[11]</a></sup>å’Œ Word2vec<sup class="footnote-ref"><a href="#fn12" id="fnref12">[12]</a></sup> æ˜¯ä¸€äº›æœ€å—æ¬¢è¿çš„ç­–ç•¥ã€‚</p><p>å¯ä»¥è¯´ï¼Œåœ¨æ–‡æ¡£é¢†åŸŸä¸­å¤åˆ¶å›¾åƒåˆ†ç±»çš„æˆåŠŸé¢ä¸´çš„ä¸»è¦æŒ‘æˆ˜æ˜¯å°†æ–‡æœ¬è¡¨ç¤ºä¸ºæ•°å­—å¼ é‡çš„å›°éš¾ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ<sup class="footnote-ref"><a href="#fn3" id="fnref3:2">[3:2]</a></sup>æå‡ºäº†ä¸€ç§å¼€åˆ›æ€§çš„æ–¹æ³•ï¼Œå°†å­—ç¬¦è§†ä¸ºæ–‡æœ¬çš„åŸå­å…ƒç´ ã€‚ç‰¹åˆ«æ˜¯ï¼Œä»–ä»¬å°†æ–‡æœ¬è¡¨ç¤ºä¸º one-hot ç¼–ç å­—ç¬¦åºåˆ—ã€‚è¿™ç§ç¼–ç æä¾›äº†ä¸€ç§å¼ºå¤§çš„ï¼Œç‹¬ç«‹äºè¯­è¨€çš„æ–‡æœ¬è¡¨ç¤ºå½¢å¼çš„çŸ©é˜µï¼Œç„¶åå°†å…¶ç”¨ä½œä¸åŒ CNN çš„è¾“å…¥ã€‚ä»–ä»¬çš„å®éªŒç»“æœè¡¨æ˜ï¼Œè¿™ç§æ–¹æ³•èƒ½å¤Ÿå®ç°å¹¶åœ¨æŸäº›æƒ…å†µä¸‹æ”¹å–„å¤æ‚æ–‡æœ¬åˆ†ç±»é—®é¢˜çš„æœ€æ–°æŠ€æœ¯æ°´å¹³ã€‚æœ€è¿‘ï¼Œå‚è€ƒæ–‡çŒ®<sup class="footnote-ref"><a href="#fn13" id="fnref13">[13]</a></sup>é€šè¿‡å°† CNN ä¸é•¿çŸ­æœŸè®°å¿†ç½‘ç»œ ï¼ˆLSTMï¼‰ç»“åˆèµ·æ¥æ”¹å–„äº†é‚£äº›ç»“æœ<sup class="footnote-ref"><a href="#fn14" id="fnref14">[14]</a></sup>ã€‚å°½ç®¡å¦‚æ­¤ï¼Œè¯¥æ–¹æ³•çš„åºå¤§è®¡ç®—éœ€æ±‚é˜»ç¢äº†è¯¥æ–¹æ³•çš„æ•ˆæœï¼Œå› ä¸ºåœ¨ç›¸å¯¹å¤æ‚çš„é—®é¢˜ä¸­ï¼Œå…¶è®­ç»ƒå¯èƒ½éœ€è¦èŠ±è´¹å‡ å¤©çš„æ—¶é—´ã€‚</p><p>å­—ç¬¦çº§åˆ«çš„è¡¨ç¤ºå½¢å¼å¯èƒ½æ¯”å•è¯çº§åˆ«çš„è¡¨ç¤ºå½¢å¼æ›´å¼ºå¤§ã€‚å¦ä¸€æ–¹é¢ï¼Œå®ƒä»¬åœ¨è®¡ç®—ä¸Šæ›´æ˜‚è´µï¼Œå› ä¸ºåœ¨å­—ç¬¦çº§åˆ«æ£€æµ‹è¯­æ³•å’Œè¯­ä¹‰å…³ç³»æ›´æ˜‚è´µ<sup class="footnote-ref"><a href="#fn15" id="fnref15">[15]</a></sup>ã€‚ä¸€ç§å¯èƒ½çš„è§£å†³æ–¹æ¡ˆæ˜¯åˆå¹¶å­—ç¬¦çº§åˆ«ä¿¡æ¯çš„å•è¯è¡¨ç¤ºã€‚</p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æœ‰æ•ˆçš„å•è¯å­—ç¬¦çº§åˆ«ç¼–ç ä»¥è¡¨ç¤ºæ–‡æœ¬ï¼Œå®ƒä¸»è¦å— Tagged Huffman<sup class="footnote-ref"><a href="#fn16" id="fnref16">[16]</a></sup> ä¿¡æ¯å‹ç¼©æŠ€æœ¯å¯å‘ã€‚è¯¥ç¼–ç è€ƒè™‘äº†æ–‡æœ¬ä¸­çš„å­—ç¬¦å‡ºç°é¢‘ç‡ï¼Œä»¥ä¾¿å°†è¾ƒçŸ­çš„ç¼–ç åˆ†é…ç»™æœ€å¸¸ç”¨çš„å­—ç¬¦ã€‚è¿™ç§æ–°é¢–çš„æ–‡æœ¬ç¼–ç é€šè¿‡å‡å°‘å…¶åœ¨æ—¶é—´å’Œå†…å­˜æ–¹é¢çš„è®­ç»ƒè¦æ±‚ï¼Œä½¿<sup class="footnote-ref"><a href="#fn3" id="fnref3:3">[3:3]</a></sup>æå‡ºçš„æƒ³æ³•åœ¨è®¡ç®—ä¸Šæ›´åŠ å®¹æ˜“å®ç°ã€‚</p><p>æœ¬æ–‡æ‰€æå‡ºçš„ç¼–ç ä½¿å¾—å¯ä»¥ä»¥è¾ƒç¨€ç–çš„å½¢å¼è¡¨ç¤ºæ–‡æœ¬çš„è¾ƒå¤§éƒ¨åˆ†ï¼Œè€Œä¸ä¼šä¸¢å¤±ä»»ä½•ä¿¡æ¯ï¼ŒåŒæ—¶ä¿ç•™äº†å¯¹ä»»ä½•å•è¯ï¼ˆç”šè‡³æ˜¯è®­ç»ƒæ•°æ®é›†ä¸­ä¸å­˜åœ¨çš„å•è¯ï¼‰è¿›è¡Œç¼–ç çš„èƒ½åŠ›ã€‚ä¸ºäº†ç ”ç©¶è¿™ç§ç¼–ç çš„å½±å“ï¼Œæˆ‘ä»¬å°†å…¶ä¸ä¸¤ç§ CNN æ¶æ„ç›¸ç»“åˆã€‚é€šè¿‡è¿›è¡Œçš„å®éªŒç ”ç©¶è¡¨æ˜ï¼Œå³ä½¿æˆ‘ä»¬é‡‡ç”¨äº†è¾ƒç®€å•çš„ç¡¬ä»¶é…ç½®ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨è¾ƒçŸ­çš„è®­ç»ƒæ—¶é—´å†…å®ç°è¾¾åˆ°ä¸ç°æœ‰æŠ€æœ¯ç±»ä¼¼çš„æ€§èƒ½ï¼Œæˆ–è€…åœ¨æŸäº›æƒ…å†µä¸‹è¦æ¯”ç°æœ‰æŠ€æœ¯è¦å¥½ã€‚</p><p>æˆ‘ä»¬çš„ä¸»è¦è´¡çŒ®è¡¨æ˜äº†ï¼Œè¿™ç§æ–°é¢–çš„å­—ç¬¦çº§åˆ«æ–‡æœ¬ç¼–ç äº§ç”Ÿäº†ç²¾ç®€çš„è¾“å…¥çŸ©é˜µï¼Œä»è€Œå¤§å¤§äº†è®­ç»ƒæ—¶é—´ï¼ŒåŒæ—¶åœ¨å‡†ç¡®æ€§æ–¹é¢å¯ä¸åŸæ¥çš„æ–¹æ³•<sup class="footnote-ref"><a href="#fn3" id="fnref3:4">[3:4]</a></sup>ç›¸æ¯”äº§ç”Ÿå¯æ¯”æˆ–æ›´å¥½çš„ç»“æœã€‚è¿™ä¸ºæ›´å¤æ‚çš„åº”ç”¨ï¼Œä½¿ç”¨å…·æœ‰è¾ƒä½è®¡ç®—èƒ½åŠ›çš„è®¾å¤‡ä»¥åŠæ¢ç´¢å¯ä»¥ä¸è¾“å…¥è¡¨ç¤ºæ–¹å¼ç»“åˆçš„å…¶ä»–æ–¹æ³•æ‰“å¼€äº†å¤§é—¨ã€‚</p><p>æœ¬æ–‡çš„å…¶ä½™éƒ¨åˆ†çš„ç»“æ„å¦‚ä¸‹ã€‚åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºæœ¬æ–‡æ‰€éœ€çš„ç†è®ºåŸºç¡€ã€‚ç„¶åï¼Œæˆ‘ä»¬è¿˜åˆ†æäº†å­—ç¬¦çº§åˆ«æ–‡æœ¬å‹ç¼©çš„æ›¿ä»£æ–¹æ¡ˆï¼Œè¿™äº›æ›¿ä»£æ–¹æ¡ˆåœ¨æå‡ºæˆ‘ä»¬çš„æ–¹æ³•æ—¶å·²ç»è€ƒè™‘äº†ã€‚ä¹‹åï¼Œåœ¨ç¬¬ä¸‰éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å°†è¦å‚ä¸å®éªŒçš„ç¼–ç è¿‡ç¨‹å’Œç¥ç»ç½‘ç»œç»“æ„ã€‚éšåï¼Œåœ¨ç¬¬å››èŠ‚ä¸­ï¼Œæˆ‘ä»¬å¤åˆ¶äº†<sup class="footnote-ref"><a href="#fn3" id="fnref3:5">[3:5]</a></sup>ä¸­çš„å®éªŒï¼Œä»¥ä¾¿åœ¨å¯æ¯”è¾ƒçš„æ¡ä»¶ä¸‹å°†æˆ‘ä»¬çš„æ–¹æ³•ä¸ä»–ä»¬çš„æ–¹æ³•è¿›è¡Œå¯¹æ¯”ã€‚æœ€åï¼Œåœ¨ç¬¬äº”èŠ‚ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€äº›æœ€åçš„ç»“è®ºæ€§æ„è§å¹¶æ¦‚è¿°äº†æˆ‘ä»¬æœªæ¥çš„å·¥ä½œæ–¹å‘ã€‚</p><h2 id="2-preliminaries"><a class="markdownIt-Anchor" href="#2-preliminaries"></a> 2. PRELIMINARIES</h2><p>éšç€è®¸å¤šåº“<sup class="footnote-ref"><a href="#fn6" id="fnref6:1">[6:1]</a></sup>,<sup class="footnote-ref"><a href="#fn8" id="fnref8:1">[8:1]</a></sup>,<sup class="footnote-ref"><a href="#fn17" id="fnref17">[17]</a></sup>ï¼ŒæŠ€æœ¯å’Œç¡¬ä»¶çš„å‘å±•ï¼Œåœ¨å›¾åƒåˆ†ç±»<sup class="footnote-ref"><a href="#fn10" id="fnref10:1">[10:1]</a></sup>ä¸­ä½¿ç”¨å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰<sup class="footnote-ref"><a href="#fn5" id="fnref5:1">[5:1]</a></sup>çš„æˆåŠŸè“¬å‹ƒå‘å±•ã€‚é€šè¿‡ä½¿ç”¨è¿™äº›å·¥å…·ä»¥è·å¾—æ›´å¥½çš„ç»“æœå’Œæ›´å¼ºå¤§çš„ç®—æ³•çš„å¯èƒ½æ€§è¯æ˜äº†ä½¿ç”¨ CNN è¿›è¡Œæ–‡æœ¬åˆ†ç±»ä»»åŠ¡çš„åˆç†æ€§ï¼Œä»è€Œä¿ƒä½¿äº†åœ¨å¤šä¸ªåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•ã€‚</p><p>æœ‰ä¸¤ç§ä½¿ç”¨ CNN æ¥å¤„ç†æ–‡æœ¬ä¿¡æ¯çš„å¸¸ç”¨æ–¹æ³•ï¼š(i) è¯è¢‹ï¼ˆBoWï¼‰<sup class="footnote-ref"><a href="#fn11" id="fnref11:1">[11:1]</a></sup>å’Œ (ii) Word2vec<sup class="footnote-ref"><a href="#fn12" id="fnref12:1">[12:1]</a></sup>æ–¹æ³•ã€‚</p><p>åœ¨ BoW æœºå™¨æŸäº›å˜ä½“çš„æƒ…å†µä¸‹ï¼Œä¸ºäº†è¡¨ç¤ºå¤§å°ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> çš„è¯æ±‡è¡¨ä¸­çš„æ¯ä¸ªå•è¯ï¼Œå°†æ•°å­— <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> æ”¾ç½®åœ¨è¯¥å•è¯åœ¨ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mo>Ã—</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">1\times N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>å‘é‡ä¸­çš„å¯¹åº”ä½ç½®ï¼Œæ‰€æœ‰å…¶ä»–ä½ç½®ä¿ç•™ä¸ºæ•°å­— <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ã€‚ç”±äºè‡ªç„¶è¯­è¨€é€šå¸¸å…·æœ‰å¾ˆå¤§çš„è¯æ±‡é‡ï¼Œå› æ­¤å¿…é¡»ä½¿ç”¨è¯æ±‡è¡¨çš„æœ‰é™å­é›†ï¼Œä»¥ä½¿å…¶èƒ½å¤Ÿæ ¹æ®å†…å­˜éœ€æ±‚æ‰§è¡Œå¿…è¦çš„è®¡ç®—ã€‚æ‰€é€‰çš„è¯æ±‡çš„å­é›†å¿…é¡»ä»£è¡¨æ–‡æœ¬ã€‚å› æ­¤ï¼Œåœ¨å®é™…é—®é¢˜ä¸­ï¼Œå¯¹æ­¤é—®é¢˜éœ€è¦æŠ•å…¥äº†å¤§é‡çš„ç²¾åŠ›ã€‚ç‰¹åˆ«æ˜¯ï¼Œé€šå¸¸éœ€è¦è˜è¯·åº”ç”¨ç¨‹åºé¢†åŸŸä¸“å®¶æˆ–ä½¿ç”¨æŸç§å•è¯é¢‘ç‡ç»Ÿè®¡æˆ–ç›¸å…³æ€§åº¦é‡æ ‡å‡†ï¼Œå…¶ä¸­æœ€å¸¸è§å’Œæœ€ç¨€æœ‰çš„å•è¯éƒ½è¢«æ’é™¤åœ¨å¤–ã€‚</p><p>åœ¨ word2vec æ–¹æ³•ä¸­ï¼Œæ¯ä¸ªå•è¯éƒ½æ˜¯é€šè¿‡å›ºå®šå¤§å°çš„åº¦é‡åµŒå…¥æ¥æŠ•å½±çš„ï¼Œè¡¨ç¤ºå®ƒåœ¨ä¸æ„Ÿå…´è¶£çš„æ–‡æœ¬ç›¸åŒçš„è¯­è¨€çš„å¤§æ–‡æœ¬è¯­æ–™åº“ä¸­å…±ç°ã€‚å¯ä»¥ä½¿ç”¨é¢„è®­ç»ƒçš„çŸ©é˜µæˆ–ä½¿ç”¨æ–°å•è¯é‡æ–°è°ƒæ•´è¡¨ç¤ºå½¢å¼ã€‚ä¸¤ç§ç­–ç•¥çš„ä¸»è¦é—®é¢˜æ˜¯å®ƒä¸å…è®¸è¡¨ç¤ºä¸åœ¨è®­ç»ƒæ•°æ®é›†ä¸­çš„å•è¯ã€‚é”™å­—ï¼Œæ‹¼å†™é”™è¯¯ï¼Œå­—æ¯å’Œç”¨å¤æ‚ç»“æ„çš„è¯­è¨€ï¼ˆå˜å½¢ï¼Œå˜ä½ç­‰ï¼‰ä¹¦å†™çš„æ–‡æœ¬è¢«å®Œå…¨å¿½ç•¥ã€‚</p><p>å°†å­—ç¬¦ç¡®ç«‹ä¸ºæ–‡æœ¬å½¢æˆçš„åŸºæœ¬å•ä½å¯æä¾›ä¸€ä¸ªæ›´å¥½çš„æœºä¼šï¼Œä½¿å®ƒèƒ½å¤Ÿå¾ˆå¥½åœ°åº”å¯¹æ‹¼å†™é”™è¯¯é—®é¢˜ï¼Œæ¥å—æ–°è¯ä»¥åŠå…¶ä»–æ–‡æœ¬å½¢å¼ï¼Œå¦‚ç­‰å¼å’ŒåŒ–å­¦å¼ï¼Œç¼©å†™å’Œç‰¹è´¨ï¼Œä¾‹å¦‚äº’è”ç½‘ä¸Šçš„å›¾é‡Šï¼Œæ–¹è¨€ï¼Œè¡¨æƒ…ç­‰ã€‚å‡è®¾å•è¯æ˜¯åŸºæœ¬å•å…ƒï¼Œé‚£ä¹ˆè¿™ç§è¡¨ç¤ºæ–¹å¼å°†ä¼šä¸§å¤±è®¸å¤šæœ¬æ¥å…·å¤‡çš„èƒ½åŠ›ï¼Œå°¤å…¶æ˜¯åœ¨æ¨¡å‹å‡è®¾æ–‡æœ¬ç”Ÿæˆè€…ä½¿ç”¨æ­£å¼è¯­è¨€çš„æƒ…å†µä¸‹ã€‚</p><p>å‚è€ƒæ–‡çŒ®<sup class="footnote-ref"><a href="#fn3" id="fnref3:6">[3:6]</a></sup>åœ¨è¿™æ–¹é¢æå‡ºäº†é‡è¦çš„åˆ›æ–°ã€‚å®ƒä»¬å°†æ–‡æœ¬è¡¨ç¤ºä¸ºå­—ç¬¦çº§åˆ«åºåˆ—ï¼Œè€Œä¸æ˜¯å•è¯ã€‚å› æ­¤ï¼Œå®ƒä»¬èƒ½å¤Ÿå°†ç¬¦å·çš„è¯æ±‡é‡å‡å°‘åˆ°å­—æ¯è¡¨çš„å¤§å°ï¼ˆæ–‡çŒ®ä¸­æ˜¯ 69ï¼‰ï¼Œä»è€Œå…è®¸ä½¿ç”¨ one-hot ç¼–ç <sup class="footnote-ref"><a href="#fn18" id="fnref18">[18]</a></sup>ã€‚åœ¨è¯¥æ–‡çŒ®ä¸­ï¼Œä»–ä»¬å°†æ–‡æœ¬è¡¨ç¤ºä¸ºå¤§å°ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1014</mn><mo>Ã—</mo><mn>69</mn></mrow><annotation encoding="application/x-tex">1014\times 69</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">9</span></span></span></span>çš„çŸ©é˜µï¼Œå…¶ä¸­æ¯ä¸€è¡Œå¯¹åº”äºæ–‡æœ¬åºåˆ—å’Œåˆ—ä¸­å­˜åœ¨æˆ–ä¸å­˜åœ¨ç»™å®šå­—ç¬¦çš„ä½ç½®ã€‚å› æ­¤ï¼Œåœ¨ç»™å®šåºåˆ—ä¸­å¸¦æœ‰ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> çš„è¡Œè¡¨ç¤ºåœ¨è¯¥æ–‡æœ¬ä½ç½®ä¸­å­˜åœ¨ç›¸åº”çš„å­—ç¬¦ã€‚æœ‰äº†è¿™ç§è¡¨ç¤ºå½¢å¼ï¼Œä»–ä»¬å°†å®ƒåº”ç”¨äº CNN å¹¶è·å¾—äº†ä¸å…¶ä»–æŠ€æœ¯å¯ç«äº‰çš„ç»“æœï¼Œå¹¶ä¸”åœ¨æŸäº›æƒ…å†µä¸‹æé«˜äº†ç°æœ‰æŠ€æœ¯çš„ç»“æœã€‚ä½†æ˜¯ï¼Œä¸»è¦ç¼ºç‚¹æ˜¯è®¡ç®—é‡å¤§ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹æ¯ä¸ªè®­ç»ƒ epoch éœ€è¦å‡ å¤©çš„æ—¶é—´ã€‚</p><p>ä»–ä»¬è·å¾—ç»“æœè¡¨æ˜ï¼Œè¯­è¨€ä»¥åŠæ–‡æœ¬å¯ä»¥åƒå…¶ä»–ä¿¡å·ä¸€æ ·è¢«è§†ä¸ºä¸€ç³»åˆ—ä¿¡å·<sup class="footnote-ref"><a href="#fn3" id="fnref3:7">[3:7]</a></sup>ã€‚ä½†æ˜¯ï¼Œè®­ç»ƒæ—¶é—´å’Œè¦è®¡ç®—çš„çŸ©é˜µçš„å°ºå¯¸ä»ç„¶æ˜¯æœ‰æ•ˆä½¿ç”¨è¯¥æ–¹æ³•çš„éšœç¢ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ›´å¥½çš„æ–‡æœ¬ç¼–ç å¯èƒ½æ˜¯æœç€å®è´¨æ€§æ”¹å–„æ­¤é—®é¢˜çš„æ­£ç¡®é“è·¯ã€‚</p><h2 id="3-compressed-encoding-for-cnn-based-text-classification"><a class="markdownIt-Anchor" href="#3-compressed-encoding-for-cnn-based-text-classification"></a> 3. COMPRESSED ENCODING FOR CNN-BASED TEXT CLASSIFICATION</h2><p>åœ¨å¯»æ‰¾ä¸€ç§æ–¹æ³•æ¥å‡å°‘è®­ç»ƒæ—¶é—´ï¼ŒåŒæ—¶åˆä¿ç•™äº†å­—ç¬¦çº§åˆ«å·ç§¯å¯¹æ–‡æœ¬è¿›è¡Œåˆ†ç±»çš„çµæ´»æ€§å’Œå¼ºå¤§åŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ç§æ›´å¥½åœ°å¯¹æ–‡æœ¬è¿›è¡Œç¼–ç çš„æ–¹æ³•ã€‚æˆ‘ä»¬çš„æ–¹æ³•å…·æœ‰æé«˜çš„å‡†ç¡®æ€§ï¼Œå¯ä»¥å¤§å¹…åº¦åœ°å‡å°‘è®­ç»ƒä¸€ epoch æ‰€éœ€çš„æ—¶é—´ï¼Œä»æ•°å°æ—¶å‡å°‘åˆ°æ•°åˆ†é’Ÿï¼Œä»æ•°å¤©å‡å°‘åˆ°æ•°å°æ—¶ã€‚</p><p>ä¸ºäº†è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼Œèµ·åˆï¼Œæˆ‘ä»¬è™½ç„¶å¯¹æ¯ä¸ªå­—ç¬¦ä½¿ç”¨å½¢å¼çš„ç¼–ç ï¼Œå¹¶ä½¿ç”¨<sup class="footnote-ref"><a href="#fn3" id="fnref3:8">[3:8]</a></sup>ç›¸åŒçš„æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬æ„è¯†åˆ°å¯¹æ¯ä¸ªå•è¯ä½¿ç”¨å¯å˜é•¿ç¼–ç å¯èƒ½ä¼šæ›´æœ‰æ•ˆã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§å¯¹æ¯ä¸ªå­—ç¬¦è¿›è¡Œç¼–ç çš„æ–¹æ³•ï¼Œç”Ÿæˆç”¨äºè¡¨ç¤ºæ¯ä¸ªå•è¯çš„ä¸åŒçš„çº§è”ç¼–ç ï¼Œå¹¶ä¸”å…·æœ‰ç›¸åŒå‰ç¼€çš„å•è¯å½¼æ­¤ç›¸è¿‘ï¼Œå°¤å…¶è¯¥ç¼–ç èƒ½å¾ˆå¥½åœ°åº”å¯¹å•è¯å˜ä½“ã€‚</p><h3 id="a-compressed-representation"><a class="markdownIt-Anchor" href="#a-compressed-representation"></a> A. Compressed Representation</h3><p>å°½ç®¡ Huffman<sup class="footnote-ref"><a href="#fn19" id="fnref19">[19]</a></sup>ç¼–ç äº§ç”Ÿçš„ç¼–ç å¯èƒ½æœ€çŸ­ï¼Œä½†æ˜¯ä¸€æ—¦æˆ‘ä»¬å°†ç¼–ç åçš„å­—ç¬¦è¿æ¥èµ·æ¥å½¢æˆä¸€ä¸ªå•è¯ï¼Œå®ƒå°±æ— æ³•ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„è¡¨ç¤ºã€‚æˆ‘ä»¬ç ”ç©¶äº†<sup class="footnote-ref"><a href="#fn20" id="fnref20">[20]</a></sup>çš„ç¼–ç æ–¹å¼ï¼Œå¹¶æ‰¾åˆ°äº†æœ‰å‰é€”çš„æ›¿ä»£æ–¹æ¡ˆã€‚</p><p>æˆ‘ä»¬çš„æ–¹æ³•åŸºäº tagged Huffman<sup class="footnote-ref"><a href="#fn16" id="fnref16:1">[16:1]</a></sup> ç¼–ç æ–¹æ¡ˆï¼Œå…¶ä¸­ä¸€å¯¹ â€œ0â€ æ•°å­—æ˜¯ä¿¡å·ï¼Œè€Œæ•°å­—â€œ1â€æ˜¯å¼€å§‹å’Œç»“æŸç¼–ç çš„æ ‡ç­¾ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯æˆ‘ä»¬çš„æ–¹æ³•æ˜¯ä¸€ç§è¾ƒçŸ­çš„ç‰ˆæœ¬ï¼Œä»¥å‡å°‘è¾“å…¥çŸ©é˜µçš„å¤§å°ï¼Œå› è€Œé€‰æ‹©ä»…å¯¹å¦¹å­å­—ç¬¦ä½¿ç”¨ä¸€ä¸ªæ•°å­—â€œ0â€è€Œä¸æ˜¯ä¸¤ä¸ªï¼Œå¹¶ä»¥ç›¸åŒçš„æ–¹æ³•ç”¨æ•°å­—â€œ1â€æ ‡è®°æ¯ä¸ªå­—ç¬¦ç¼–ç çš„å¼€å§‹å’Œç»“æŸã€‚</p><p>ä¸<sup class="footnote-ref"><a href="#fn16" id="fnref16:2">[16:2]</a></sup>ä¸­çš„æ–¹æ³•ä¸€æ ·ï¼Œæˆ‘ä»¬é‡‡ç”¨çš„ç¼–ç å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹<sup class="footnote-ref"><a href="#fn20" id="fnref20:1">[20:1]</a></sup>:</p><ul><li><ol><li>æ²¡æœ‰å­—ç¬¦ç¼–ç æ˜¯å¦ä¸€ä¸ªçš„å‰ç¼€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒ¹é…æ˜¯ä¸€å¯¹ä¸€å”¯ä¸€å¯¹åº”çš„ã€‚</li></ol></li><li><ol start="2"><li>å…è®¸ç›´æ¥æœç´¢ï¼Œå³åœ¨ç¼–ç æ–‡æ¡£ä¸­æœç´¢å•è¯ï¼Œåªéœ€è¦å¯¹å•è¯è¿›è¡Œç¼–ç ï¼Œç„¶åä½¿ç”¨ä¼ ç»Ÿçš„æ–¹æ³•å°†ç¼–ç åçš„å­—ç¬¦åœ¨æ–‡æ¡£ä¸­è¿›è¡ŒåŒ¹é…æœç´¢ã€‚</li></ol></li><li><ol start="3"><li>è¿™ç§ç¼–ç æ–¹æ³•æ˜¯ä¸€ç§å‹ç¼©æŠ€æœ¯ï¼Œå› æ­¤å®ƒè¿˜å…è®¸ä½¿ç”¨äºŒè¿›åˆ¶æ°¸ä¹…ä¿å­˜å·²ç¼–ç åçš„æ–‡æœ¬æ–‡æ¡£ï¼Œä»è€Œéœ€è¦è¾ƒå°‘çš„å­˜å‚¨ç©ºé—´ã€‚</li></ol></li></ul><p>è¿™äº›ä¼˜åŠ¿å˜å¾—æ¯”è¾ƒæœ‰å¸å¼•åŠ›ï¼Œå°¤å…¶æ˜¯å¦‚æœç›®æ ‡æ˜¯æå–æœ‰å…³å­˜å‚¨åº“æ–‡ä»¶çš„çŸ¥è¯†ï¼Œä»¥ä¾¿å¯¹ç›¸åŒæ–‡ä»¶åœ¨ä¸åŒç»´åº¦ä¸Šæ‰§è¡Œå„ç§åˆ†ç±»ï¼Œåˆ™è¿™äº›ä¼˜åŠ¿å°¤å…¶å…·æœ‰å¸å¼•åŠ›ã€‚</p><p>è¿™ç§ç¼–ç ç›¸å¯¹äºä½¿ç”¨å•è¯ä½œä¸ºæ–‡æœ¬çš„åŸå­è¡¨ç¤ºçš„å…¶ä»–ç­–ç•¥çš„å¯èƒ½ä¼˜åŠ¿æ˜¯ï¼Œå½“ç½‘ç»œåƒæˆ‘ä»¬äººç±»ä¸€æ ·é€šè¿‡ä¸€äº›å‰ç¼€æ¥çŒœæµ‹å•è¯çš„å«ä¹‰çš„æ—¶å€™ï¼Œå¯ä»¥æ›´å¥½åœ°å“åº”è®­ç»ƒæ•°æ®ä¸­æœªè§è¿‡çš„å•è¯ã€‚è¿™åœ¨é‚£äº›æ‹¥æœ‰å¤§é‡å˜ä½“çš„è¯­è¨€ï¼Œå¦‚è‘¡è„ç‰™è¯­ï¼Œè¥¿ç­ç‰™è¯­ï¼Œæ„å¤§åˆ©è¯­ï¼Œæ³•è¯­ï¼Œä¿„è¯­ï¼Œé˜¿æ‹‰ä¼¯è¯­å’ŒåœŸè€³å…¶è¯­ç­‰å°†å°¤å…¶æœ‰ç”¨ã€‚</p><p>è¯¥ç¼–ç è¿‡ç¨‹ä¸é™äºä»»ä½•å¤§å°çš„è¯æ±‡è¡¨ï¼Œå”¯ä¸€çš„é—®é¢˜æ˜¯è¾ƒä½è¯é¢‘çš„å­—ç¬¦ä¼šäº§ç”Ÿç›¸å¯¹è¾ƒé•¿çš„ç¼–ç ï¼Œå› æ­¤å½¢æˆè¾ƒå¤§çš„çŸ©é˜µè¡¨ç¤ºã€‚</p><h3 id="b-encoding-procedure"><a class="markdownIt-Anchor" href="#b-encoding-procedure"></a> B. Encoding Procedure</h3><p>åœ¨æˆ‘ä»¬æ‰€æœ‰çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹ç¼–ç æ–¹å¼å¯¹å•è¯è¿›è¡Œç¼–ç ï¼š</p><ul><li><strong>è·å–æ¯ä¸ªå­—ç¬¦çš„é¢‘ç‡</strong>ï¼šè¯»å–æ–‡æœ¬æ•°æ®åº“å¹¶è®¡ç®—æ¯ä¸ªå­—ç¬¦çš„é¢‘ç‡ï¼Œç”Ÿæˆä¸€ä¸ªæŒ‰å‡ºç°é¢‘ç‡æ’åºçš„åˆ—è¡¨ã€‚ç„¶åæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä»…åŒ…å«å­—ç¬¦ç›¸å¯¹ä½ç½®çš„æ’è¡Œã€‚å¯¹äºç»™å®šçš„è¯­è¨€ï¼Œæ­¤æ’è¡Œéå¸¸ç¨³å®šï¼Œå› ä¸ºä»…ä½¿ç”¨æ’è¡Œçš„é¡ºåºã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæ‰€æœ‰æ–‡æ¡£éƒ½åœ¨ç›¸åŒçš„ä¹ æƒ¯ç”¨æ³•ä¸­ï¼Œåˆ™å¯ä»¥ç”¨å…·æœ‰è¯¥è¯­è¨€é¢‘ç‡æ’è¡Œçš„å­—ç¬¦çš„åˆ—è¡¨æ¥æ›¿æ¢æ­¤è¿‡ç¨‹ã€‚</li><li><strong>åˆ›å»ºä»å­—ç¬¦åˆ°å‹ç¼©ç¼–ç çš„æ˜ å°„</strong>:ä¸ºäº†å¯¹æ¯ä¸ªå­—ç¬¦è¿›è¡Œç¼–ç ï¼Œæˆ‘ä»¬å°†æ•°å­—â€œ0â€œçš„æ•°é‡çš„è¡¨ç¤ºå­—ç¬¦çš„ä½ç½®æ’è¡Œï¼Œå¹¶ä»¥ä¸¤ä¸ªâ€1â€œä½œä¸ºç¼–ç çš„å¼€å§‹å’Œç»“æŸã€‚Table 1æ˜¯ä¸€äº›å­—ç¬¦ç¼–ç çš„ä¾‹å­ã€‚</li></ul><p><img data-src="table-1.png" alt="" /></p><p>è¦å¯¹æ¯ä¸ªå•è¯è¿›è¡Œç¼–ç ï¼Œæˆ‘ä»¬åªéœ€è¦å°†ç¼–ç çš„å­—ç¬¦è¿æ¥èµ·æ¥å³å¯ã€‚ä¾‹å¦‚ï¼ŒTable II æä¾›äº†ä¸€äº›çº¯æ–‡æœ¬å•è¯åŠå…¶å¯¹åº”ç¼–ç ç¤ºä¾‹ã€‚</p><p><img data-src="table-2.png" alt="" /></p><p>ç»™å®šä¸€ä¸ªæ–‡æ¡£ï¼Œæˆ‘ä»¬è®¤ä¸ºå®ƒä»¬ç”±å•è¯ç»„æˆï¼Œå³ç”±ç©ºæ ¼å­—ç¬¦åˆ’åˆ†çš„ä»»ä½•ä¸€ç»„å­—ç¬¦ã€‚è¿™æ„å‘³ç€â€å•è¯â€œå¯ä»¥æ˜¯æ•°å­¦æ–¹ç¨‹å¼ï¼Œç½‘å€ï¼ŒLATEXä»£ç ï¼Œè®¡ç®—æœºç¼–ç¨‹æŒ‡ä»¤ç­‰ã€‚åœ¨ Table II ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å…·æœ‰ç›¸åŒåˆå§‹åæ ‡çš„å‘é‡ä¸­å…·æœ‰ç›¸åŒå‰ç¼€çš„å•è¯ã€‚åŒæ ·å¯ä»¥è¡¨ç¤ºåƒè¿™æ ·çš„ä¿šè¯­ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">tl</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span></span>:too longï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">dr</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>: did not read å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">u2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathdefault">u</span><span class="mord">2</span></span></span></span>: you tooï¼Œåƒ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>e</mi><mi>a</mi></msup></mrow><annotation encoding="application/x-tex">e^a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span></span></span></span></span></span></span></span>è¿™æ ·çš„æ•°å­¦è¡¨è¾¾å¼ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><p>åœ¨ä»£è¡¨æ–‡æ¡£çš„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi>u</mi><mi>m</mi><mi>b</mi><mi>e</mi><mi>r</mi><mspace width="1em"/><mi>o</mi><mi>f</mi><mspace width="1em"/><mi>w</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>s</mi><mo>Ã—</mo><mi>c</mi><mi>o</mi><mi>d</mi><mi>e</mi><mo>Ã—</mo><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">number\quad of\quad words\times code\times size</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mord mathdefault">b</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">d</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mord mathdefault">e</span></span></span></span>çš„çŸ©é˜µä¸­ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªç›¸åº”ç¼–ç åçš„å•è¯ï¼Œç¬¬ä¸€åˆ—æ˜¯åµŒå…¥ç¼–ç çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚æœªå ç”¨çš„åˆ—å°†å¡«å……â€0â€œï¼Œè¾ƒå¤§çš„ç¼–ç è¡¨ç¤ºå—é€‰æ‹©é™åˆ¶ã€‚ç©ºè¡Œç”¨â€0â€å¡«å……ï¼Œè¾ƒå¤§çš„æ–‡æ¡£ä»…è¡¨ç¤ºæ‰€é€‰çš„æœ€å¤§å•è¯æ•°ï¼Œå¿½ç•¥å‰©ä½™çš„æ‰€æœ‰å•è¯ã€‚ä¾‹å¦‚ï¼ŒFigure 1 ä»¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>8</mn><mo>Ã—</mo><mn>65</mn></mrow><annotation encoding="application/x-tex">8\times 65</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">5</span></span></span></span>è¡¨ç¤ºäº†ä¸€ä¸ªæ–‡æ¡£ã€‚</p><p><img data-src="figure-1.png" alt="" /></p><p>åœ¨ Figure 1 çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>8</mn><mo>Ã—</mo><mn>65</mn></mrow><annotation encoding="application/x-tex">8\times 65</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">5</span></span></span></span>çš„çŸ©é˜µï¼ˆ520 ä¸ªå…ƒç´ ï¼‰å¯¹æ–‡æœ¬è¿›è¡Œäº†ä¸€å®šç¨‹åº¦æ¾å¼›è¡¨ç¤ºã€‚åœ¨æœ€å°‘çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†éœ€è¦ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn><mo>Ã—</mo><mn>64</mn></mrow><annotation encoding="application/x-tex">6\times 64</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">4</span></span></span></span>ï¼ˆ448 ä¸ªå…ƒç´ ï¼‰ã€‚ç›¸åï¼Œ<sup class="footnote-ref"><a href="#fn3" id="fnref3:9">[3:9]</a></sup>æ–¹æ³•å°†è‡³å°‘ä½¿ç”¨ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>32</mn><mo>Ã—</mo><mn>69</mn></mrow><annotation encoding="application/x-tex">32\times 69</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">9</span></span></span></span>ï¼ˆ2208ï¼‰ä¸ªå…ƒç´ æ¥è¡¨ç¤ºç›¸åŒçš„å¥å­ã€‚</p><p>åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œä½¿ç”¨ 256 ç»´åº¦è¶³ä»¥ä»£è¡¨æ¥è‡ªæ‰€ç ”ç©¶æ•°æ®åº“ä¹‹ä¸€çš„å•è¯çš„ 99.5%ã€‚åœ¨æœ¬æ–‡ç ”ç©¶çš„æ‰€æœ‰æ•°æ®åº“ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹© 128 ä½œä¸ºä»£è¡¨æ–‡æ¡£çš„å•è¯é™åˆ¶ï¼Œä»¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>128</mn><mo>Ã—</mo><mn>256</mn></mrow><annotation encoding="application/x-tex">128\times 256</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">6</span></span></span></span>çš„çŸ©é˜µæ¥è¡¨ç¤ºæ¯ä¸ªæ–‡æœ¬ã€‚</p><p><img data-src="table-3.png" alt="" /></p><ol><li>å·ç§¯ç½‘ç»œæ¨¡å‹ï¼šä¹‹å‰è¯´è¿‡ï¼Œæ­¤é¡¹å·¥ä½œæ˜¯ç”±<sup class="footnote-ref"><a href="#fn3" id="fnref3:10">[3:10]</a></sup>å‘èµ·çš„ã€‚åœ¨ä»–ä»¬çš„åŸå§‹æ–¹æ³•ä¸­ï¼Œä»–ä»¬ä½¿ç”¨æ‹¥æœ‰ 69 ä¸ªå…ƒç´ çš„è¯æ±‡è¡¨çš„ one-hot ç¼–ç æ¥å¯¹æ¯ä¸ªå­—ç¬¦è¿›è¡Œç¼–ç ï¼Œä½¿ç”¨å­—æ¯ï¼Œæ•°å­—å’Œæ ‡ç‚¹ç¬¦å·ä½œä¸ºéç©ºæ ¼å­—ç¬¦ã€‚æ¨¡å‹ç”± 9 å±‚ï¼Œ6 ä¸ªå·ç§¯å±‚å’Œ 3 ä¸ªå…¨è¿æ¥å±‚ç»„æˆã€‚Table III å±•ç¤ºäº†å®ƒä»¬çš„ç»“æ„ã€‚</li></ol><p>ä»–ä»¬ä½¿ç”¨äº†éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆSGDï¼‰ï¼Œå…¶ä¸­æœ€å°æ‰¹é‡å¤§å°ä¸º 128ï¼ŒåŠ¨é‡ï¼ˆmomentumï¼‰ä¸º0.9ï¼Œä¸”åˆå§‹æ­¥é•¿ä¸º 0.01ï¼Œæ¯éš” 3 epoch å‡å°‘ 10 æ¬¡ã€‚å› æ­¤ï¼Œä»–ä»¬éœ€è¦è‡³å°‘è®­ç»ƒ 30 ä¸ª epoch æ‰èƒ½è·å¾—ç»“æœã€‚</p><h3 id="c-neural-network-architectures"><a class="markdownIt-Anchor" href="#c-neural-network-architectures"></a> C. Neural Network Architectures</h3><p>ä¸ºäº†éªŒè¯æœ¬æ–‡ç¼–ç æ–¹å¼çš„æœ‰æ•ˆæ€§ï¼Œæˆ‘ä»¬æ‰§è¡Œäº† 3 ä¸ªå®éªŒï¼Œä½¿ç”¨ 3 ä¸ªæ¨¡å‹ï¼ŒCNN1ï¼ŒCNN2 å’Œ LSTMï¼š</p><p><img data-src="figure-2.png" alt="" /></p><h3 id="d-cnn1-topology"><a class="markdownIt-Anchor" href="#d-cnn1-topology"></a> D. CNN1 topology</h3><p>é¦–å…ˆï¼Œè¯¥ç½‘ç»œç»“æ„é€šå¸¸ä½¿ç”¨ word2vec <sup class="footnote-ref"><a href="#fn12" id="fnref12:2">[12:2]</a></sup> åˆ›å»ºçš„åµŒå…¥å¯¹æ–‡æœ¬è¿›è¡Œåˆ†ç±»ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯æˆ‘ä»¬å°†è¾“å…¥å¤§å°å‡å°‘åˆ° 256ï¼Œè€Œä¸æ˜¯ 300 ä¸ªç‰¹å¾ã€‚æˆ‘ä»¬å°†æ­¤ç»“æ„å‘½åä¸º CNN1ã€‚å®ƒæ˜¯åŸºäºå·ç§¯çš„æ‹¼æ¥çš„æµ…å±‚å­¦ä¹ æ–¹æ³•ï¼Œå—<sup class="footnote-ref"><a href="#fn21" id="fnref21">[21]</a></sup>å¯å‘ï¼Œä»–ä»¬åœ¨æŸäº›æ•°æ®é›†ä¸Šå–å¾—ç°æœ‰æŠ€æœ¯ç»“æœã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨è¯¥æ¨¡å‹è®­ç»ƒ 5 ä¸ª epochã€‚ç¥ç»ç½‘ç»œç»“æ„è§ Figure 2aã€‚</p><h3 id="e-cnn2-topology"><a class="markdownIt-Anchor" href="#e-cnn2-topology"></a> E. CNN2 topology</h3><p>åœ¨ CNN1 å–å¾—ç§¯ææˆæœçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å†³å®šç ”ç©¶å…¶ä»–å¯èƒ½çš„ç»“æ„ã€‚æ ¹æ®<sup class="footnote-ref"><a href="#fn22" id="fnref22">[22]</a></sup>ä¸­çš„å»ºè®®é€‰æ‹©å‚æ•°ï¼Œæˆ‘ä»¬åˆ›å»ºäº†å¦ä¸€ä¸ªæµ…è€Œå®½çš„å·ç§¯ç½‘ç»œç»“æ„ï¼Œå¯¹ ag æ–°é—»æ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒã€‚è¯¥ç½‘ç»œç»“æ„ç”±ä»¥ä¸‹ç»„æˆï¼š</p><ul><li>å·ç§¯å®½åº¦è¿‡æ»¤å™¨ï¼ˆkernel_sizeï¼‰ï¼šæ¥è¿‘æœ€ä½³å•ä¸ªæœ€ä½³åŒºåŸŸå¤§å°çš„åŒºåŸŸç»„åˆä¼˜äºä½¿ç”¨è¿œç¦»æœ€ä½³å•ä¸ªåŒºåŸŸå¤§å°çš„å¤šä¸ªåŒºåŸŸå¤§å°çš„ç»„åˆ<sup class="footnote-ref"><a href="#fn22" id="fnref22:1">[22:1]</a></sup>ã€‚æˆ‘ä»¬å°†å®½åº¦ä» 1 æ‰«æåˆ° 7ï¼Œæ¯”è¾ƒç²¾åº¦æ€§èƒ½ã€‚åœ¨è¿™äº›è¯„ä¼°ä¸­ï¼Œå®½åº¦ä¸º 1 çš„å·ç§¯æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚</li><li>Pooling size: å¯¹äºå¥å­åˆ†ç±»ä»»åŠ¡ï¼Œmax pooling å§‹ç»ˆæ¯”å…¶ä»–çš„ç­–ç•¥è¡¨ç°æ›´å¥½<sup class="footnote-ref"><a href="#fn22" id="fnref22:2">[22:2]</a></sup>ã€‚</li></ul><p>CNN2 çš„ç½‘ç»œç»“æ„è§ Figure 2bã€‚</p><h3 id="f-lstm-topology"><a class="markdownIt-Anchor" href="#f-lstm-topology"></a> F. LSTM topology</h3><p>ä¸ºäº†è¯´æ˜åº”ç”¨æœ¬æ–‡ç¼–ç çš„å¯èƒ½æ€§ï¼Œæˆ‘ä»¬ä½¿ç”¨ LSTM<sup class="footnote-ref"><a href="#fn14" id="fnref14:1">[14:1]</a></sup>è¿›è¡Œäº†å®éªŒï¼Œç±»ä¼¼äº<sup class="footnote-ref"><a href="#fn23" id="fnref23">[23]</a></sup>æ‰€è¿°çš„ LSTM æ¨¡å‹ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼šæˆ‘ä»¬ä½¿ç”¨æœ¬æ–‡çš„è¡¨ç¤ºæ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ word2vec åµŒå…¥<sup class="footnote-ref"><a href="#fn12" id="fnref12:3">[12:3]</a></sup>ã€‚è¯¥ç»“æ„éå¸¸ç®€å•ï¼Œè¾“å…¥å±‚ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>128</mn><mo>Ã—</mo><mn>256</mn></mrow><annotation encoding="application/x-tex">128\times 256</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">6</span></span></span></span>ï¼Œå…¶æ¬¡æ˜¯ LSTM å±‚ä¸º 300ï¼ŒDropou å±‚çš„ä¸¢å¼ƒç‡ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0.10</mn></mrow><annotation encoding="application/x-tex">0.10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">1</span><span class="mord">0</span></span></span></span><sup class="footnote-ref"><a href="#fn24" id="fnref24">[24]</a></sup>, ä¸€ä¸ªå…·æœ‰ 128 ä¸ªå•å…ƒçš„å…¨è¿æ¥å±‚ä»¥åŠä¸€ä¸ª softmax å±‚ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨è¯¥æ¨¡å‹è®­ç»ƒ 5 ä¸ª epochã€‚é€šå¸¸ï¼Œè¯¥ç½‘ç»œç»“æ„æ¯” CNN1 æ…¢ä¸¤å€ã€‚LSTM æ¨¡å‹çš„ç»“æ„è§ Figure 2cã€‚</p><h2 id="4-experiment-study"><a class="markdownIt-Anchor" href="#4-experiment-study"></a> 4. EXPERIMENT STUDY</h2><p>æœ¬æ–‡å·¥ä½œçš„ä¸€ä¸ªé‡è¦éƒ¨åˆ†æ˜¯å°†æœ¬æ–‡çš„å­—ç¬¦çº§åˆ«ç¼–ç æ–¹æ¡ˆä¸ä¸Šä¸‹æ–‡ä¸­çš„å…¶ä»–æœ€æ–°æ–¹æ³•è¿›è¡Œå¯¹æ¯”ã€‚æ‰€ä½¿ç”¨çš„æ•°æ®åº“ä¸<sup class="footnote-ref"><a href="#fn3" id="fnref3:11">[3:11]</a></sup>ä¸­å¼•ç”¨çš„ç›¸åŒï¼Œæ­¤å¤–æœ‰å¦å¤–çš„ç›¸å…³è¯¦ç»†æè¿°<sup class="footnote-ref"><a href="#fn1" id="fnref1:2">[1:2]</a></sup>ã€‚å¯¹è¿™äº›æ•°æ®é›†è¯¦ç»†åˆ†æè¶…å‡ºäº†æœ¬æ–‡çš„ç ”ç©¶èŒƒå›´ï¼Œç›¸åï¼Œæˆ‘ä»¬å°†ä»…å¯¹æ•°æ®çš„ä¸»è¦ç‰¹ç‚¹è¿›è¡Œæ€»ç»“ï¼š</p><ul><li><p><strong>AGâ€™ news</strong>: å¯¹æ¥è‡ª 2000 å¤šä¸ªæ–°é—»æ¥æºçš„æ–°é—»è¿›è¡Œäº†åˆ†ç±»ã€‚å››ä¸ªç±»åˆ«ï¼ˆä¸–ç•Œï¼Œä½“è‚²ï¼Œå•†ä¸šï¼Œç§‘å­¦æŠ€æœ¯ï¼‰ã€‚æ•°æ®é›†åŒ…å«å¹³å‡åˆ†å¸ƒçš„ 120k ä¸ªè®­ç»ƒæ ·æœ¬å’Œ 7.6k ä¸ªæµ‹è¯•æ ·æœ¬<sup class="footnote-ref"><a href="#fn3" id="fnref3:12">[3:12]</a></sup>ã€‚</p></li><li><p><strong>Sogouâ€™ news</strong>: æŒ‰ä¸­æ–‡åˆ†ç±»çš„æ–°é—»æ–‡ç« ã€‚<sup class="footnote-ref"><a href="#fn3" id="fnref3:13">[3:13]</a></sup>åº”ç”¨ pypinyin åº“ç»“åˆ jieba åˆ†è¯æ¥äº§ç”Ÿæ‹¼éŸ³ï¼Œå³æ±‰è¯­çš„ç½—é©¬éŸ³è¡¨ç¤ºã€‚ä¸»è¦åŒ…å«ç‰©ç§ç±»åˆ«ï¼ˆä½“è‚²ï¼Œé‡‘èï¼Œå¨±ä¹ï¼Œæ±½è½¦å’ŒæŠ€æœ¯ï¼‰ã€‚è¯¥æ•°æ®é›†åŒ…å«å¹³å‡åˆ†å¸ƒçš„ 450k ä¸ªè®­ç»ƒæ ·æœ¬å’Œ 60k ä¸ªæµ‹è¯•æ ·æœ¬ã€‚</p></li><li><p><strong>DBpedia</strong>: DBpedia ä¼—åŒ…ç¤¾åŒºä¸­æä¾›çš„ Wikipedia æ–‡ç« çš„æ ‡é¢˜å’Œæ‘˜è¦<sup class="footnote-ref"><a href="#fn25" id="fnref25">[25]</a></sup>ï¼Œå…¶ä¸­åŒ…å« DBpedia 2014 çš„åå››ä¸ªéé‡å ç±»åˆ«ã€‚æ•°æ®é›†åŒ…å«å¹³å‡åˆ†å¸ƒçš„ 560k ä¸ªè®­ç»ƒæ ·æœ¬å’Œ 70k ä¸ªæµ‹è¯•æ ·æœ¬ã€‚</p></li><li><p><strong>Yelp full</strong>: 2015 å¹´ Yelp æ•°æ®é›†æŒ‘æˆ˜èµ›ä¸­çš„æƒ…æ„Ÿåˆ†æã€‚äº”ä¸ªç±»åˆ«ä»£è¡¨ç”¨æˆ·ç»™å‡ºçš„æ˜Ÿæ•°ã€‚æ•°æ®é›†åŒ…å«å¹³å‡åˆ†å¸ƒçš„ 560k ä¸ªè®­ç»ƒæ ·æœ¬å’Œ 38k ä¸ªæµ‹è¯•æ ·æœ¬ã€‚</p></li><li><p><strong>Yelp polarity</strong>: 2015 å¹´ Yelp æ•°æ®é›†æŒ‘æˆ˜èµ›ä¸­çš„æƒ…æ„Ÿåˆ†æã€‚åŸå§‹æ•°æ®è¢«è½¬æ¢ä¸ºææ€§é—®é¢˜ã€‚1 æ˜Ÿå’Œ 2 æ˜Ÿçš„è¯„åˆ†è¡¨ç¤ºä¸ºä¸è‰¯ï¼Œè€Œ 4 æ˜Ÿå’Œ 5 æ˜Ÿçš„è¯„åˆ†è¡¨ç¤ºä¸ºè‰¯å¥½ã€‚æ•°æ®é›†åŒ…å«å¹³å‡åˆ†å¸ƒçš„ 560k ä¸ªè®­ç»ƒæ ·æœ¬å’Œ 50k ä¸ªæµ‹è¯•æ ·æœ¬ã€‚</p></li><li><p><strong>Yahoo! answers</strong>: Yahoo! ä¸Šçš„é—®é¢˜å’Œç­”æ¡ˆã€‚åŒ…å«åä¸ªç±»åˆ«ï¼ˆç¤¾ä¼šä¸æ–‡åŒ–ï¼Œç§‘å­¦ä¸æ•°å­¦ï¼Œå¥åº·ï¼Œæ•™è‚²ï¼Œè®¡ç®—æœºä¸äº’è”ç½‘ï¼Œä½“è‚²ï¼Œå•†ä¸šä¸äº¤èï¼Œå¨±ä¹ä¸éŸ³ä¹ï¼Œå®¶åº­ä¸äººé™…å…³ç³»ï¼Œæ”¿æ²»ä¸æ”¿åºœï¼‰ã€‚æ¯ä¸ªæ ·æœ¬å‡åŒ…å«é—®é¢˜æ ‡é¢˜ï¼Œé—®é¢˜å†…å®¹å’Œæœ€ä½³ç­”æ¡ˆã€‚è¯¥æ•°æ®é›†åŒ…å«å¹³å‡åˆ†å¸ƒçš„ 1,400k ä¸ªè®­ç»ƒæ ·æœ¬å’Œ 60k ä¸ªæµ‹è¯•æ ·æœ¬ã€‚</p></li><li><p><strong>Amazon full</strong>: æ¥è‡ª Amazon çš„ SNAP é¡¹ç›®çš„æƒ…æ„Ÿåˆ†æè¯„è®ºæ•°æ®é›†<sup class="footnote-ref"><a href="#fn26" id="fnref26">[26]</a></sup>ã€‚ç”¨äº”ä¸ªç±»åˆ«è¡¨ç¤ºç”¨æˆ·ç»™å‡ºçš„æ˜Ÿæ•°ã€‚æ•°æ®é›†åŒ…å« 3,000k ä¸ªè®­ç»ƒæ ·æœ¬å’Œ 650k ä¸ªæµ‹è¯•æ ·æœ¬<sup class="footnote-ref"><a href="#fn3" id="fnref3:14">[3:14]</a></sup>ã€‚</p></li><li><p><strong>Amazon polarity</strong>: åŒæ ·æ¥è‡ª Amazn çš„ SNAP é¡¹ç›®çš„æƒ…æ„Ÿåˆ†æè¯„è®ºæ•°æ®é›†<sup class="footnote-ref"><a href="#fn26" id="fnref26:1">[26:1]</a></sup>ã€‚åŸå§‹æ•°æ®è¢«è½¬æ¢æˆææ€§é—®é¢˜ï¼Œæ˜Ÿæ•°ä¸º 1å’Œ2çš„è¡¨ç¤ºå·®ï¼Œæ˜Ÿæ•°ä¸º 4 å’Œ 5çš„è¡¨ç¤ºä¸ºè‰¯å¥½ã€‚æ•°æ®é›†ä¸­åŒ…å«å¹³å‡åˆ†å¸ƒçš„ 3,600k ä¸ªè®­ç»ƒæ ·æœ¬å’Œ 400k ä¸ªæµ‹è¯•æ ·æœ¬ã€‚<sup class="footnote-ref"><a href="#fn3" id="fnref3:15">[3:15]</a></sup></p><p>åŸºçº¿æ¯”è¾ƒæ¨¡å‹ä¸<sup class="footnote-ref"><a href="#fn3" id="fnref3:16">[3:16]</a></sup>ç›¸åŒï¼Œå…¶ä¸­æœ‰å¤§é‡æè¿°ï¼Œæˆ‘ä»¬åªæ˜¯å¤åˆ¶äº†ä»–ä»¬çš„ç»“æœï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œä»–ä»¬ä½¿ç”¨æŸå¤±è¯¯å·®ä½œä¸ºåŸºå‡†ï¼Œä¸ºäº†æ›´å¥½åœ°ç†è§£ï¼Œæˆ‘ä»¬å°†å…¶è½¬æ¢ä¸ºå‡†ç¡®æ€§ã€‚åœ¨<sup class="footnote-ref"><a href="#fn3" id="fnref3:17">[3:17]</a></sup>ä¸­å¯¹æœ‰è¯¦ç»†çš„æè¿°ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»…æ€»ç»“ä¸»è¦ä¿¡æ¯ï¼š</p></li><li><p><strong>Bag of Words(BoW) and its term-frequency inverse-document-frequency (BoW TFIDF)</strong>: å¯¹äºæ¯ä¸ªæ•°æ®é›†ï¼Œä»–ä»¬ä»è®­ç»ƒå­é›†ä¸­é€‰æ‹©äº† 50,000 ä¸ªæœ€é¢‘ç¹çš„å•è¯ã€‚å¯¹äºæ™®é€šçš„ BoWï¼Œä½¿ç”¨æ¯ä¸ªå•è¯çš„è®¡æ•°ä½œä¸ºç‰¹å¾ï¼Œå¯¹äº TFIDF, ä»–ä»¬ä½¿ç”¨è®¡æ•°ä½œä¸ºè¯é¢‘<sup class="footnote-ref"><a href="#fn3" id="fnref3:18">[3:18]</a></sup>ã€‚</p></li><li><p><strong>Bag-of-ngrams (Ngrams) and its TFIDF (Ngrams TFIDF)</strong>: é€šè¿‡ä»æ¯ä¸ªæ•°æ®é›†çš„è®­ç»ƒå­é›†ä¸­é€‰æ‹© 500,000 ä¸ªæœ€å¸¸è§çš„ n-gram (æœ€å¤š 5-gram) æ¥æ„å»º n-grams æ¨¡å‹ã€‚ç‰¹å¾å€¼çš„è®¡ç®—æ–¹å¼ä¸ BoW æ¨¡å‹ç›¸åŒ<sup class="footnote-ref"><a href="#fn3" id="fnref3:19">[3:19]</a></sup>ã€‚</p></li><li><p><strong>Bag-of-means on word embedding</strong>: è¯¥æ¨¡å‹å¯¹æ¯ä¸ªæ•°æ®é›†çš„è®­ç»ƒå­é›†ä½¿ç”¨ word2vec<sup class="footnote-ref"><a href="#fn12" id="fnref12:4">[12:4]</a></sup>ä¸Šçš„ k å‡å€¼ï¼Œç„¶åå°†è¿™äº›å­¦ä¹ åˆ°çš„å‡å€¼ç”¨ä½œèšç±»è¯çš„ä»£è¡¨ã€‚è€ƒè™‘åœ¨è®­ç»ƒå­é›†ä¸­å‡ºç°è¶…è¿‡ 5 æ¬¡çš„æ‰€æœ‰å•è¯ã€‚åµŒå…¥çš„ç»´æ•°ä¸º 300ã€‚ç‰¹å¾çš„è®¡ç®—æ–¹å¼ä¸ BoW æ¨¡å‹çš„è®¡ç®—æ–¹å¼ç›¸åŒã€‚å‡å€¼æ•°ä¸º 5000<sup class="footnote-ref"><a href="#fn3" id="fnref3:20">[3:20]</a></sup>ã€‚</p></li><li><p><strong>Long-Short Term Memory (LSTM)</strong>: LSTM<sup class="footnote-ref"><a href="#fn14" id="fnref14:2">[14:2]</a></sup>æ¨¡å‹æ˜¯åŸºäºå•è¯çš„ï¼Œå¤§å°ä¸º 300 çš„é¢„è®­ç»ƒ word2vec<sup class="footnote-ref"><a href="#fn12" id="fnref12:5">[12:5]</a></sup> åµŒå…¥ã€‚é€šè¿‡å¯¹æ‰€æœ‰ LSTM çš„è¾“å‡ºå–å‡å€¼æ¥å½¢æˆæ¨¡å‹çš„ç‰¹å¾å‘é‡ï¼Œç„¶åä½¿ç”¨å¤šé¡¹å¼é€»è¾‘å›å½’ã€‚è¾“å‡ºå°ºå¯¸ä¸º 512<sup class="footnote-ref"><a href="#fn3" id="fnref3:21">[3:21]</a></sup>ã€‚</p></li></ul><p>å¯¹äºæ‰€æœ‰çš„å®éªŒï¼Œæˆ‘ä»¬ä½¿ç”¨ Table IV ä¸­åˆ—å‡ºçš„ç¯å¢ƒå’Œå‚æ•°é…ç½®ã€‚é™¤äº†ä½¿ç”¨å°å†™å­—æ¯çš„ç¼–ç è¿‡ç¨‹å¤–ï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨ä»»ä½•é¢„å¤„ç†ç­–ç•¥ã€‚æ²¡æœ‰é‡‡ç”¨æ•°æ®å¢å¼ºæŠ€æœ¯ã€‚</p><p><img data-src="table-4.png" alt="" /></p><p>Table V æ˜¾ç¤ºäº†æ‰€æœ‰ç»“æœï¼Œå¹¶ä¸ä¼ ç»Ÿæ¨¡å‹å’Œæ–¹æ³•<sup class="footnote-ref"><a href="#fn3" id="fnref3:22">[3:22]</a></sup>è¿›è¡Œäº†æ¯”è¾ƒã€‚</p><p><img data-src="figure-3.png" alt="" /></p><p>ç”±äºè¡¨æ ¼æ•°æ®æ˜¾ç¤ºä¸å¤Ÿç›´è§‚ï¼Œå› æ­¤æˆ‘ä»¬å†³å®šé‡‡ç”¨å›¾å½¢è¡¨ç¤ºç»“æœã€‚ç‰¹åˆ«æ˜¯ï¼Œä»å…ˆå‰çš„ç»“æœä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©äº†<sup class="footnote-ref"><a href="#fn3" id="fnref3:23">[3:23]</a></sup>çš„å¤§å‹å’Œå°å‹ç»“æ„ä»¥åŠ CNN1ï¼ŒCNN2 ä»¥åŠ LSTMã€‚ç„¶åå°†è¿™äº›ç²¾åº¦æŒ‰æ¯”ä¾‹ç¼©æ”¾åˆ°æ¯ä¸ªæ•°æ®é›†çš„èŒƒå›´ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span> ä¹‹é—´ï¼Œå³ 0 è¡¨ç¤ºæœ€å·®ï¼Œ1 è¡¨ç¤ºæœ€ä½³æ€§èƒ½ã€‚åœ¨æ‰€æœ‰æ¨¡å‹ä¸­ï¼ŒåŒ…å«ä¼ ç»Ÿæ¨¡å‹ï¼Œå…¶ç»“æœå›¾ Figure 3 æ‰€ç¤ºã€‚åœ¨ Table VI ä¸Šï¼Œæˆ‘ä»¬æ ¹æ®<sup class="footnote-ref"><a href="#fn3" id="fnref3:24">[3:24]</a></sup> å¯è·å¾—çš„ç»“æœè¿›è¡Œäº†è¿è¡Œæ—¶é—´ä¸Šçš„æ¯”è¾ƒã€‚</p><p>æœ¬æ–‡çš„ä¸»è¦ç ”ç©¶ç›®çš„æ˜¯è¯„ä¼°ä½¿ç”¨æˆ‘ä»¬ç¼–ç æ–¹æ³•çš„å¯èƒ½æ€§ï¼Œè¯¥æ–¹æ³•è€ƒè™‘äº†ä½¿ç”¨å­—ç¬¦ä½œä¸ºåŸºæœ¬å•å…ƒçš„å•è¯æ„é€ ã€‚æˆ‘ä»¬çš„ä¸»è¦è´¡çŒ®åœ¨äºï¼Œè¿™ç§æ–¹æ³•å¯ä»¥å‡å°‘ç¼–ç çŸ©é˜µçš„ç»´æ•°ï¼Œä»è€Œå¤§å¤§ç¼©çŸ­æ¨¡å‹è®­ç»ƒçš„æ—¶é—´ï¼Œå¹¶é™ä½æ‰€éœ€çš„è®¡ç®—èƒ½åŠ›è¦æ±‚ã€‚æŸäº›æ–‡æœ¬æ•°æ®é›†å…·æœ‰è¯é¢‘æ–¹æ³•ï¼ˆå³ BoW å’Œ word2vecï¼‰æ— æ³•è§£å†³çš„ç‰¹ç‚¹ï¼Œä¾‹å¦‚å˜ä½“å’Œæ–°è¯æ±‡ã€‚<sup class="footnote-ref"><a href="#fn3" id="fnref3:25">[3:25]</a></sup>åœ¨è¿™æ–¹é¢æ˜¯ä¼Ÿå¤§çš„åˆ›æ–°ï¼Œä½†æ˜¯å…¶è®­ç»ƒä»ç„¶æ˜¯é˜»ç¢æœ‰æ•ˆä½¿ç”¨è¯¥æŠ€æœ¯çš„å…³é”®å› ç´ ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ›´å¥½åœ°è¡¨ç¤ºæ–¹å¼ã€‚</p><p><img data-src="table-5.png" alt="" /><br /><img data-src="table-6.png" alt="" /></p><p>ä¸ºäº†åšæ¯”è¾ƒï¼Œæˆ‘ä»¬ä½¿ç”¨ CNN1 è¿›è¡Œè®­ç»ƒï¼Œæ¨¡å‹è¾“å‡º 4 ä¸ªç±»åˆ«ï¼Œéœ€è¦ä¼˜åŒ– 1,837,188 ä¸ªå‚æ•°ã€‚ä½œä¸ºæ¯”è¾ƒï¼Œåœ¨<sup class="footnote-ref"><a href="#fn3" id="fnref3:26">[3:26]</a></sup>å»ºè®®çš„ç»“æ„ä¸­ï¼Œå®ƒéœ€è¦ä¼˜åŒ–çš„å‚æ•°æ•°é‡ä¸º 11,337,988ã€‚</p><p>ç”±äºæˆ‘ä»¬å…³æ³¨çš„é—®é¢˜ä¹‹ä¸€æ˜¯ä½¿æˆ‘ä»¬çš„æ–¹æ¡ˆåœ¨å•†ä¸šç¡¬ä»¶ä¸Šå°½å¯èƒ½é€‚ç”¨ï¼Œå› æ­¤æˆ‘ä»¬å°†ç ”ç©¶é‡ç‚¹æ”¾åœ¨äº†ç¡¬ä»¶é…ç½®ä¸Šã€‚åˆ†æå¤§å¤šçŸ©é˜µç¼–ç æ–‡æœ¬çš„ä¸»è¦ç“¶é¢ˆæ˜¯éœ€è¦å¤§é‡ä½¿ç”¨ RAMã€‚æˆ‘ä»¬çš„æ–¹æ³•ç”Ÿæˆ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>128</mn><mo>Ã—</mo><mn>256</mn></mrow><annotation encoding="application/x-tex">128\times 256</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">6</span></span></span></span>å¤§å°çš„çŸ©é˜µï¼Œå°äº <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1014</mn><mo>Ã—</mo><mn>69</mn></mrow><annotation encoding="application/x-tex">1014\times 69</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">9</span></span></span></span><sup class="footnote-ref"><a href="#fn3" id="fnref3:27">[3:27]</a></sup>ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå…¶ä¸­å¾ˆå¤§ä¸€éƒ¨åˆ†å¾ˆå¿«å°±å ç”¨äº†â€œå¸¸è§„â€ä¸ªäººè®¡ç®—æœºä¸Šçš„å¯ç”¨ RAMã€‚åœ¨æˆ‘ä»¬ä½¿ç”¨çš„è®¡ç®—æœºä¸Šï¼Œæœ‰ 16G çš„å¯ç”¨ç©ºé—´ï¼Œè¿™åœ¨ç°ä»£ä¸ªäººè®¡ç®—æœºä¸­å¹¶ä¸ç½•è§ã€‚å› æ­¤ï¼Œåœ¨è¿™ç§ä¼˜åŒ–ç®—æ³•çš„å®ç°ä¸­ï¼Œä½¿ç”¨ç”Ÿæˆå™¨æ§åˆ¶ç”Ÿæˆå¹¶å‘é€åˆ° GPU çš„çŸ©é˜µçš„æ•°é‡éå¸¸é‡è¦ã€‚å¦‚æœä½ çš„è®¡ç®—æœºåªæœ‰ 8GB æˆ–æ›´å°‘çš„ RAMï¼Œåˆ™æœ‰å¿…è¦å‡å°‘æ‰¹å¤„ç†çš„å¤§å°ã€‚</p><p>ç»“æœä¸<sup class="footnote-ref"><a href="#fn3" id="fnref3:28">[3:28]</a></sup>çš„æ–¹æ³•å’Œä¼ ç»ŸæŠ€æœ¯ç›¸æ¯”éå¸¸æœ‰ç«äº‰åŠ›ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥çœ‹åˆ°ï¼ŒæŒ‰ç…§<sup class="footnote-ref"><a href="#fn22" id="fnref22:3">[22:3]</a></sup>çš„å»ºè®®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ AG æ–°é—»æ•°æ®é›†ä¸Šè·å¾—å‡ºè‰²çš„æ€§èƒ½è¡¨ç°ã€‚å¿«é€Ÿç®—æ³•çš„ä¼˜ç‚¹ä¹‹ä¸€æ˜¯ï¼Œå¦‚æœæ•°æ®é›†æ²¡æœ‰é‚£ä¹ˆå¤§ï¼Œåˆ™å¯ä»¥æ‰«æç‰¹å¾å®½åº¦ä»¥æ‰¾åˆ°ä¼˜åŒ–ç²¾åº¦çš„è§£å†³æ–¹æ¡ˆã€‚å¦ä¸€ä¸ªä¼˜ç‚¹æ˜¯å¯ä»¥å®ç° k-æŠ˜éªŒè¯ï¼Œä»¥ä¾¿æ›´å¥½åœ°äº†è§£ç‰¹å®šæ•°æ®é›†åœ¨ç°å®ç”Ÿæ´»ä¸­çš„è¡¨ç°ã€‚</p><p>å¦ä¸€ä¸ªæœ‰è¶£çš„ç‚¹æ˜¯ï¼Œä¸ä½¿ç”¨<sup class="footnote-ref"><a href="#fn3" id="fnref3:29">[3:29]</a></sup>æå‡ºçš„ä½¿ç”¨ word2vec<sup class="footnote-ref"><a href="#fn12" id="fnref12:6">[12:6]</a></sup>è¿›è¡ŒåµŒå…¥æ–¹æ³•ç›¸æ¯”ï¼Œå°† LSTM å±‚ä¸æœ¬æ–‡çš„ç¼–ç æ–¹æ³•ä¸€èµ·ä½¿ç”¨ï¼Œæˆ‘ä»¬èƒ½è·å¾—ç›¸ä¼¼ç”šè‡³æ›´å¥½çš„ç»“æœã€‚æˆ‘ä»¬çš„æ–¹æ³•å…·æœ‰å…¶è‡ªèº«çš„æ€§è´¨ï¼Œå½“ word2vec ä½¿ç”¨é¢„è®­ç»ƒçš„å‘é‡æ¥è¡¨ç¤ºå¤§æ–‡æœ¬ä¸»ä½“ä¸Šçš„å•è¯å…±ç°æ—¶ï¼Œå®ƒè¯´æ˜äº†æ–‡æœ¬çš„å½¢æ€å­¦æ–¹é¢ã€‚å³ä½¿åœ¨ RNN ä¸­ä¹Ÿèƒ½è€ƒè™‘å­—ç¬¦ä¿¡æ¯ï¼Œæˆ‘ä»¬è¯æ˜äº†è¿™ç§è¡¨ç¤ºæ–¹å¼å¹¶ä¸é™äº CNN æˆ–ç¥ç»ç½‘ç»œé¢†åŸŸã€‚</p><p>å°½ç®¡ LSTM æ¨¡å‹è®­ç»ƒæ¯” CNN1 å’Œ CNN2 æ¨¡å‹æ…¢ï¼Œä½†å…¶æ€§èƒ½å§‹ç»ˆä¼˜äºå®ƒä»¬ã€‚è¿™è¡¨æ˜å•è¯ä¹‹é—´çš„æ—¶é—´ä¾èµ–æ€§å¾ˆé‡è¦ï¼Œå› æ­¤ï¼Œè€ƒè™‘åˆ°æ­¤ä¿¡æ¯ï¼Œå…¶ä»–ç»“æ„å¯èƒ½ä¼šäº§ç”Ÿæ›´å¥½çš„ç»“æœï¼Œè¿™æ˜¯åº”è¯¥æ¢ç´¢çš„æ–¹å‘ã€‚é™¤æ­¤ä»¥å¤–ï¼Œé€šè¿‡æˆ‘ä»¬çš„ç¼–ç æ–¹å¼å®ç°çš„é™ç»´æ•ˆæœä½¿å…¶ä»–å‡ ç§ç»“æ„å’Œæ–¹æ³•ä¹Ÿå¯ä»¥åœ¨åˆç†çš„æ—¶é—´å†…å¾—åˆ°éªŒè¯ã€‚</p><p>æˆ‘ä»¬ç›¸ä¿¡æˆ‘ä»¬çš„ç®—æ³•å®ç°å¯ä»¥æ›´å¿«ã€‚ä¾‹å¦‚ï¼Œå½“ä½¿ç”¨ GPU Gefore 1080Ti å’Œ CNN1 æ¨¡å‹æ—¶ï¼Œ10,000 ä¸ªé˜µåˆ—çš„æ¯ä¸ªè¶…çº§æ‰¹å¤„ç†çš„æƒé‡éƒ½èƒ½å¤Ÿåœ¨ 30 ç§’ä¹‹å†…æ›´æ–°ã€‚GPU ä»…éœ€è¦ 6 ç§’é’Ÿï¼Œè€Œå¯¹äºæ‰€æœ‰çŸ©é˜µè¿›è¡Œç¼–ç åˆ°å°†å…¶äº¤ä»˜åˆ° GPU åˆ™èŠ±è´¹äº†å¦å¤– 24 ç§’é’Ÿã€‚åœ¨è¿™æ–¹é¢ï¼Œä½¿ç”¨å¤šçº¿ç¨‹ç­–ç•¥å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</p><h2 id="5-final-remarks"><a class="markdownIt-Anchor" href="#5-final-remarks"></a> 5. FINAL REMARKS</h2><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æœ‰æ•ˆçš„å­—ç¬¦çº§ç¼–ç æ–¹æ¡ˆï¼ŒåŸºäº Tagged Huffman<sup class="footnote-ref"><a href="#fn16" id="fnref16:3">[16:3]</a></sup> ä¿¡æ¯å‹ç¼©æ–¹æ³•ï¼Œæ¥å¯¹æ–‡æœ¬è¿›è¡Œç¼–ç ï¼Œå¹¶å°†å…¶ç”¨ä½œå­—ç¬¦çº§ CNN æ–‡æœ¬åˆ†ç±»çš„è¾“å…¥é¢„å¤„ç†æ­¥éª¤ã€‚</p><p>æˆ‘ä»¬å·²ç»è¯æ˜ï¼Œä½¿ç”¨è¿™ç§å‹ç¼©æŠ€æœ¯æ˜¯ç”¨äºæ–‡æœ¬åˆ†ç±»çš„æ·±åº¦å­¦ä¹ å·ç§¯ä¸­è¡¨ç¤ºæ–‡æœ¬çš„ä¸€ç§æ–¹ä¾¿å¯èƒ½æ€§ã€‚è¿™ä¸€ç‚¹å°¤ä¸ºé‡è¦ï¼Œå› ä¸ºåœ¨å¤„ç†è¾ƒå°‘æ•´ç†è¿‡çš„æ–‡æœ¬æ•°æ®é›†æ—¶ï¼Œä½¿ç”¨å­—ç¬¦çº§ç¼–ç æ–‡æœ¬å¯èƒ½è¾ƒé‡è¦ï¼Œå› ä¸ºå®ƒå¯¹æ‹¼å†™é”™è¯¯ï¼Œé”™åˆ«å­—ï¼Œä¿šè¯­ï¼Œè¯­è¨€å˜ä½“ä»¥åŠ Internet æ–‡æœ¬çš„å…¶ä»–å¸¸è§ç‰¹å¾å…·æœ‰é²æ£’æ€§ã€‚</p><p>è¿™ç§æ–°é¢–çš„æ–‡æœ¬ç¼–ç å…è®¸ä»¥ç´§å‡‘çš„å½¢å¼è¡¨ç¤ºæ–‡æœ¬çš„è¾ƒå¤§éƒ¨åˆ†ï¼ŒåŒæ—¶ä¿ç•™å¯¹ä»»ä½•å•è¯ï¼ˆç”šè‡³æ˜¯è®­ç»ƒæ•°æ®é›†ä¸­æœªå‡ºç°è¿‡çš„å•è¯ï¼‰è¿›è¡Œç¼–ç çš„èƒ½åŠ›ã€‚æ­¤å¤–ï¼Œç”±äºç´§å‡‘è€Œç¨€ç–ï¼Œæ­¤æ–¹æ³•å¤§å¤§å‡å°‘äº†è®­ç»ƒ CNN æ‰€éœ€çš„æ—¶é—´ï¼Œå› æ­¤ä½¿ç”¨æ­¤ç¼–ç æ–¹æ¡ˆçš„åº”ç”¨æ›´æ˜“äºè®¿é—®ã€‚è¿™ä¸ºæ›´å¤æ‚çš„åº”ç”¨ï¼Œä½¿ç”¨å…·æœ‰è¾ƒä½è®¡ç®—èƒ½åŠ›çš„è®¾å¤‡ä»¥åŠæ¢ç´¢å¯ä»¥ä¸è¯¥è¾“å…¥è¡¨ç¤ºå½¢å¼ç»“åˆçš„å…¶ä»–æ–¹æ³•æä¾›äº†æ–¹ä¾¿ã€‚</p><p>æœ¬æ–‡ä½¿ç”¨ä¸¤ä¸ª CNN æ¨¡å‹ä»¥åŠä¸€ä¸ª LSTM æ¨¡å‹ä¸æœ¬æ–‡æå‡ºçš„ç¼–ç æ–¹æ³•ç»“åˆï¼Œè¿›è¡Œå®éªŒï¼Œè¿™äº›å®éªŒç»“æœè¡¨æ˜ï¼Œå³ä½¿é‡‡ç”¨äº†æ›´ç®€å•çš„ç¡¬ä»¶é…ç½®ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨è¾ƒçŸ­çš„æ—¶é—´å†…å®ç°ä¸<sup class="footnote-ref"><a href="#fn3" id="fnref3:30">[3:30]</a></sup>ç›¸ä¼¼çš„æ€§èƒ½ã€‚æ­¤å¤–ï¼Œæ ¹æ®æˆ‘ä»¬çš„ç»“æœï¼Œæˆ‘ä»¬è¯æ˜äº†<sup class="footnote-ref"><a href="#fn3" id="fnref3:31">[3:31]</a></sup>çš„ç»“è®ºï¼Œè¯¥ç»“è®ºæŒ‡å‡ºè¯­è¨€å¯ä»¥è¢«è§†ä¸ºä¸€ç§ä¿¡å·ï¼Œä¸å…¶ä»–è¯­è¨€æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ¬æ–‡çš„ä¸»è¦ç›®çš„æ˜¯æ˜¾ç¤ºæœ¬æ–‡ç¼–ç æ–¹æ³•éš¾é“å¯è¡Œæ€§ï¼Œè€Œä¸æ˜¯äº§ç”Ÿæ›´å¥½çš„ç»“æœã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†ç²¾åŠ›é›†ä¸­åœ¨æ¯”è¾ƒç ”ç©¶ä¸Šã€‚ä¸ºæ­¤ï¼Œå°†åœ¨è‡ªå®šä¹‰ç¥ç»ç½‘ç»œç»“æ„ä¸Šåº”ç”¨æˆ‘ä»¬çš„ç¼–ç æ–¹æ³•æ˜¯å¯èƒ½çš„ã€‚æˆ‘ä»¬çš„ç»“æœè¡¨æ˜ï¼Œå°†å…¶ä¸ LSTM ç»“åˆæ˜¯å…‹æœå›ºå®šçŸ©é˜µé™åˆ¶çš„ä¸€ä¸ªå¯èƒ½æ–¹å‘ã€‚åœ¨ä¸ä¹…çš„æœªæ¥ï¼Œæˆ‘ä»¬å°†ä¸“æ³¨äºè®¾è®¡å¯èƒ½è¿›ä¸€æ­¥æ”¹å–„ç»“æœçš„æ–°ç½‘ç»œç»“æ„ã€‚</p><p>æœ¬æ–‡ç ”ç©¶è¿˜æœªä½¿ç”¨å…¶ä»–ä¿¡æ¯ç†è®ºçš„ä¿¡æ¯è¡¨ç¤ºæ–¹æ³•æ‰“å¼€äº†ä¸€æ‰‡é—¨ã€‚åˆ›å»ºæ–‡æœ¬çš„æ•°å­—è¡¨ç¤ºã€‚å¿…é¡»æ¦‚è¿°è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³æ–‡æœ¬çš„è¿™ç§ç´§å‡‘çš„æ•°å­—è¡¨ç¤ºå½¢å¼ä¸é™äº CNN æˆ–ç¥ç»ç½‘ç»œé¢†åŸŸã€‚è¯„ä¼°å®ƒä»¬çš„å½±å“ä½œä¸ºå…¶ä»–åˆ†ç±»ç®—æ³•çš„é¢„å¤„ç†æ­¥éª¤ï¼ˆç¨ä½œä¿®æ”¹åï¼‰å¯èƒ½ä¼šå¾ˆæœ‰è¶£ã€‚</p><h2 id="references"><a class="markdownIt-Anchor" href="#references"></a> REFERENCES</h2><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>F. Sebastiani, â€œMachine learning in automated text categorization,â€ ACM Computing Surveys, vol. 34, no. 1, pp. 1â€“47, Mar. 2002. [Online]. Available: <a href="http://doi.acm.org/10.1145/505282.505283">http://doi.acm.org/10.1145/505282.505283</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a> <a href="#fnref1:1" class="footnote-backref">â†©ï¸</a> <a href="#fnref1:2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>R. Kosala and H. Blockeel, â€œWeb mining research: a survey,â€ SIGKDD Explor. Newsl., vol. 2, no. 1, pp. 1â€“15, June 2000. [Online]. Available: <a href="http://dx.doi.org/10.1145/360402.360406">http://dx.doi.org/10.1145/360402.360406</a> <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p>X. Zhang, J. Zhao, and Y. LeCun, â€œCharacter-level convolutional networks for text classification,â€ in Advances in neural information processing systems, 2015, pp. 649â€“657. <a href="#fnref3" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:1" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:2" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:3" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:4" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:5" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:6" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:7" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:8" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:9" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:10" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:11" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:12" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:13" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:14" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:15" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:16" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:17" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:18" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:19" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:20" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:21" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:22" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:23" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:24" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:25" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:26" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:27" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:28" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:29" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:30" class="footnote-backref">â†©ï¸</a> <a href="#fnref3:31" class="footnote-backref">â†©ï¸</a></p></li><li id="fn4" class="footnote-item"><p>I. Goodfellow, Y. Bengio, and A. Courville, Deep Learning. MIT Press, 2016, <a href="http://www.deeplearningbook.org">http://www.deeplearningbook.org</a>. <a href="#fnref4" class="footnote-backref">â†©ï¸</a></p></li><li id="fn5" class="footnote-item"><p>Y. LeCun, L. Bottou, Y. Bengio, and P. Haffner, â€œGradient-based learning applied to document recognition,â€ in Proceedings of the IEEE, 1998, pp. 2278â€“2324. <a href="#fnref5" class="footnote-backref">â†©ï¸</a> <a href="#fnref5:1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn6" class="footnote-item"><p>J. Bergstra, O. Breuleux, F. Bastien, P. Lamblin, R. Pascanu, G. Des-jardins, J. Turian, D. Warde-Farley, and Y. Bengio, â€œTheano: a CPU and GPU math expression compiler,â€ in Proceedings of the Python for Scientific Computing Conference (SciPy), Jun. 2010, oral Presentation. <a href="#fnref6" class="footnote-backref">â†©ï¸</a> <a href="#fnref6:1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn7" class="footnote-item"><p>M. Abadi, A. Agarwal, P. Barham, E. Brevdo, Z. Chen, C. Citro, G. S. Corrado, A. Davis, J. Dean, M. Devin, S. Ghemawat, I. Goodfellow, A. Harp, G. Irving, M. Isard, Y. Jia, R. Jozefowicz, L. Kaiser, M. Kudlur, J. Levenberg, D. ManeÌ, R. Monga, S. Moore, D. Murray, C. Olah, M. Schuster, J. Shlens, B. Steiner, I. Sutskever, K. Talwar, P. Tucker, V. Vanhoucke, V. Vasudevan, F. VieÌgas, O. Vinyals, P. Warden, M. Wattenberg, M. Wicke, Y. Yu, and X. Zheng, â€œTensorFlow: Large-scale machine learning on heterogeneous systems,â€ 2015, software available from <a href="http://tensorflow.org">tensorflow.org</a>. [Online]. Available: <a href="https://www.tensorflow.org/">https://www.tensorflow.org/</a> <a href="#fnref7" class="footnote-backref">â†©ï¸</a></p></li><li id="fn8" class="footnote-item"><p>F. Chollet et al., â€œKeras,â€ <a href="https://github.com/fchollet/keras">https://github.com/fchollet/keras</a>, 2015. <a href="#fnref8" class="footnote-backref">â†©ï¸</a> <a href="#fnref8:1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn9" class="footnote-item"><p>S. Mittal and J. S. Vetter, â€œA survey of CPU-GPU heterogeneous computing techniques,â€ ACM Computing Surveys, vol. 47, no. 4, pp. 69:1â€“69:35, Jul. 2015. [Online]. Available: <a href="http://doi.acm.org/10.1145/2788396">http://doi.acm.org/10.1145/2788396</a> <a href="#fnref9" class="footnote-backref">â†©ï¸</a></p></li><li id="fn10" class="footnote-item"><p>A. Krizhevsky, I. Sutskever, and G. E. Hinton, â€œImagenet classification with deep convolutional neural networks,â€ in Advances in Neural Information Processing Systems (NIPS), 2012, pp. 1097â€“1105. <a href="#fnref10" class="footnote-backref">â†©ï¸</a> <a href="#fnref10:1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn11" class="footnote-item"><p>G. Salton and M. McGill, Introduction to Modern Information Retrieval. New York, NY, USA: McGraw-Hill, 1983. <a href="#fnref11" class="footnote-backref">â†©ï¸</a> <a href="#fnref11:1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn12" class="footnote-item"><p>T. Mikolov, I. Sutskever, K. Chen, G. S. Corrado, and J. Dean, â€œDistributed representations of words and phrases and their compositionality,â€ in Advances in Neural Information Processing Systems (NIPS), 2013, pp. 3111â€“3119. <a href="#fnref12" class="footnote-backref">â†©ï¸</a> <a href="#fnref12:1" class="footnote-backref">â†©ï¸</a> <a href="#fnref12:2" class="footnote-backref">â†©ï¸</a> <a href="#fnref12:3" class="footnote-backref">â†©ï¸</a> <a href="#fnref12:4" class="footnote-backref">â†©ï¸</a> <a href="#fnref12:5" class="footnote-backref">â†©ï¸</a> <a href="#fnref12:6" class="footnote-backref">â†©ï¸</a></p></li><li id="fn13" class="footnote-item"><p>Y. Xiao and K. Cho, â€œEfficient character-level document classification by combining convolution and recurrent layers,â€ CoRR, vol. abs/1602.00367, 2016. [Online]. Available: <a href="http://arxiv.org/abs/1602.00367">http://arxiv.org/abs/1602.00367</a> <a href="#fnref13" class="footnote-backref">â†©ï¸</a></p></li><li id="fn14" class="footnote-item"><p>S. Hochreiter and J. Schmidhuber, â€œLong short-term memory,â€ Neural computation, vol. 9, no. 8, pp. 1735â€“1780, 1997. <a href="#fnref14" class="footnote-backref">â†©ï¸</a> <a href="#fnref14:1" class="footnote-backref">â†©ï¸</a> <a href="#fnref14:2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn15" class="footnote-item"><p>P. Blunsom, K. Cho, C. Dyer, and H. SchuÌˆtze, â€œFrom characters to understanding natural language (C2NLU): Robust end-to-end deep learning for NLP (Dagstuhl Seminar 17042),â€ Dagstuhl Reports, vol. 7, no. 1, pp. 129â€“157, 2017. [Online]. Available: <a href="http://drops.dagstuhl.de/opus/volltexte/2017/7248">http://drops.dagstuhl.de/opus/volltexte/2017/7248</a> <a href="#fnref15" class="footnote-backref">â†©ï¸</a></p></li><li id="fn16" class="footnote-item"><p>E. Silva de Moura, G. Navarro, N. Ziviani, and R. Baeza-Yates, â€œFast and flexible word searching on compressed text,â€ ACM Trans. Inf. Syst., vol. 18, no. 2, pp. 113â€“139, Apr. 2000. [Online]. Available: <a href="http://doi.acm.org/10.1145/348751.348754">http://doi.acm.org/10.1145/348751.348754</a> <a href="#fnref16" class="footnote-backref">â†©ï¸</a> <a href="#fnref16:1" class="footnote-backref">â†©ï¸</a> <a href="#fnref16:2" class="footnote-backref">â†©ï¸</a> <a href="#fnref16:3" class="footnote-backref">â†©ï¸</a></p></li><li id="fn17" class="footnote-item"><p>S. Chetlur, C. Woolley, P. Vandermersch, J. Cohen, J. Tran, B. Catanzaro, and E. Shelhamer, â€œcudnn: Efficient primitives for deep learning,â€ CoRR, vol. abs/1410.0759, 2014. [Online]. Available: <a href="http://arxiv.org/abs/1410.0759">http://arxiv.org/abs/1410.0759</a> <a href="#fnref17" class="footnote-backref">â†©ï¸</a></p></li><li id="fn18" class="footnote-item"><p>D. Harris and S. Harris, Digital design and computer architecture, 2nd ed. San Francisco, CA, USA: Morgan Kaufmann, 2012. <a href="#fnref18" class="footnote-backref">â†©ï¸</a></p></li><li id="fn19" class="footnote-item"><p>C. C. Aggarwal and C. X. Zhai, â€œA survey of text classification algorithms,â€ in Mining Text Data, C. C. Aggarwal and C. X. Zhai, Eds. Springer US, 2012, pp. 163â€“222. [Online]. Available: <a href="http://dx.doi.org/10.1007/978-1-4614-3223-4">http://dx.doi.org/10.1007/978-1-4614-3223-4</a> 6 <a href="#fnref19" class="footnote-backref">â†©ï¸</a></p></li><li id="fn20" class="footnote-item"><p>N. Brisaboa, E. Iglesias, G. Navarro, and J. ParamaÌ, â€œAn efficient compression code for text databases,â€ Advances in Information Retrieval, pp. 78â€“78, 2003. <a href="#fnref20" class="footnote-backref">â†©ï¸</a> <a href="#fnref20:1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn21" class="footnote-item"><p>Y. Kim, â€œConvolutional neural networks for sentence classification,â€ CoRR, vol. abs/1408.5882, 2014. [Online]. Available: <a href="http://arxiv.org/abs/1408.5882">http://arxiv.org/abs/1408.5882</a> <a href="#fnref21" class="footnote-backref">â†©ï¸</a></p></li><li id="fn22" class="footnote-item"><p>Y. Zhang and B. C. Wallace, â€œA sensitivity analysis of (and practitionersâ€™ guide to) convolutional neural networks for sentence classification,â€ CoRR, vol. abs/1510.03820, 2015. [Online]. Available: <a href="http://arxiv.org/abs/1510.03820">http://arxiv.org/abs/1510.03820</a> <a href="#fnref22" class="footnote-backref">â†©ï¸</a> <a href="#fnref22:1" class="footnote-backref">â†©ï¸</a> <a href="#fnref22:2" class="footnote-backref">â†©ï¸</a> <a href="#fnref22:3" class="footnote-backref">â†©ï¸</a></p></li><li id="fn23" class="footnote-item"><p>X. Zhang and Y. LeCun, â€œText understanding from scratch,â€ arXiv preprint arXiv:1502.01710, 2015. <a href="#fnref23" class="footnote-backref">â†©ï¸</a></p></li><li id="fn24" class="footnote-item"><p>N. Srivastava, G. Hinton, A. Krizhevsky, I. Sutskever, and R. Salakhutdinov, â€œDropout: A simple way to prevent neural networks from overfitting,â€ Journal of Machine Learning Research, vol. 15, pp. 1929â€“1958, 2014. [Online]. Available: <a href="http://jmlr.org/papers/v15/srivastava14a.html">http://jmlr.org/papers/v15/srivastava14a.html</a> <a href="#fnref24" class="footnote-backref">â†©ï¸</a></p></li><li id="fn25" class="footnote-item"><p>J. Lehmann, R. Isele, M. Jakob, A. Jentzsch, D. Kontokostas, P. N. Mendes, S. Hellmann, M. Morsey, P. van Kleef, S. Auer, and C. Bizer, â€œDBpedia - a large-scale, multilingual knowledge base extracted from wikipedia,â€ Semantic Web Journal, vol. 6, no. 2, pp. 167â€“195, 2015. [Online]. Available: <a href="http://jens-lehmann.org/files/2015/swj">http://jens-lehmann.org/files/2015/swj</a> dbpedia.pdf <a href="#fnref25" class="footnote-backref">â†©ï¸</a></p></li><li id="fn26" class="footnote-item"><p>J. McAuley and J. Leskovec, â€œHidden factors and hidden topics: Understanding rating dimensions with review text,â€ in Proceedings of the 7th ACM Conference on Recommender Systems, ser. RecSys â€™13. New York, NY, USA: ACM, 2013, pp. 165â€“172. [Online]. Available:<a href="http://doi.acm.org/10.1145/2507157.2507163">http://doi.acm.org/10.1145/2507157.2507163</a> <a href="#fnref26" class="footnote-backref">â†©ï¸</a> <a href="#fnref26:1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æ–‡çŒ®ç¿»è¯‘ï¼šé«˜æ•ˆçš„ç´§å‡‘ç¼–ç å­—ç¬¦çº§æ·±å±‚æ–‡æœ¬åˆ†ç±»&lt;br /&gt;
authors: Wemerson Marinho, Luis MartÄ±Ì, Nayat Sanchez-Pi&lt;br /&gt;
åŸæ–‡: &lt;a href=&quot;https://ieeexplore.ieee.org/document/8489139&quot;&gt;A Compact Encoding for Efficient Character-level Deep Text Classification&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;abstract&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#abstract&quot;&gt;&lt;/a&gt; Abstract&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°çš„æ–‡æœ¬åˆ°å¼ é‡çš„è¡¨ç¤ºæ–¹å¼ï¼Œå®ƒä¾é ä¿¡æ¯å‹ç¼©æŠ€æœ¯ä¸ºæœ€å¸¸ç”¨çš„å­—ç¬¦åˆ†é…è¾ƒçŸ­çš„ç¼–ç ã€‚è¿™ç§è¡¨ç¤ºæ–¹å¼ä¸è¯­è¨€æ— å…³ï¼Œä¸éœ€è¦è¿›è¡Œé¢„è®­ç»ƒå¹¶èƒ½å¤Ÿäº§ç”Ÿæ²¡æœ‰ä¿¡æ¯æŸå¤±çš„ç¼–ç ã€‚å®ƒæä¾›äº†å¯¹æ–‡æœ¬å½¢æ€çš„å……åˆ†æè¿°ï¼Œä¾‹å¦‚ï¼Œå®ƒèƒ½å¤Ÿç”¨æ¥è¡¨ç¤ºå‰ç¼€ï¼Œåç¼€å’Œå˜å½¢ç›¸ä¼¼çš„å‘é‡ï¼Œç”šè‡³èƒ½å¤Ÿè¡¨ç¤ºè®­ç»ƒé›†ä¸­æ²¡æœ‰çš„å•è¯ã€‚é€šå¸¸ï¼Œç”±äºå®ƒç´§å‡‘è€Œç¨€ç–ï¼Œå› æ­¤éå¸¸é€‚åˆä½¿ç”¨å¼ é‡å¤„ç†åº“æ¥åŠ å¿«è®­ç»ƒæ—¶é—´ã€‚ä½œä¸ºæœ¬æ–‡çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬è¯æ˜äº†å½“ä¸å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ç»“åˆç”¨äºå­—ç¬¦çº§åˆ«çš„æ–‡æœ¬åˆ†ç±»æ—¶ï¼Œè¯¥æŠ€æœ¯ç‰¹åˆ«æœ‰æ•ˆã€‚æˆ‘ä»¬å°† CNN çš„ä¸¤ä¸ªå˜ä½“ä¸æœ¬æ–‡çš„ç¼–ç æ–¹å¼ç»“åˆä½¿ç”¨ã€‚å®éªŒç»“æœè¡¨æ˜ï¼Œå®ƒæå¤§åœ°å‡å°‘äº†è¦ä¼˜åŒ–çš„å‚æ•°æ•°é‡ï¼Œä»è€Œä»…åœ¨ one-hot ç¼–ç è¡¨ç¤ºæ‰€èŠ±è´¹çš„æ—¶é—´çš„ä¸€å°éƒ¨åˆ†ä¸­å°±äº§ç”Ÿäº†å…·æœ‰ç«äº‰åŠ›çš„åˆ†ç±»ç²¾åº¦ï¼Œä»è€Œåº”ç”¨äºå•†ä¸šç¡¬ä»¶ä¸­æ¥è®­ç»ƒæ¨¡å‹ã€‚&lt;/p&gt;
&lt;p&gt;Index Terms â€“ text classification, character level convolutional neural networks, encoding of words&lt;/p&gt;</summary>
    
    
    
    <category term="dissertation" scheme="http://rovo98.github.io/categories/dissertation/"/>
    
    
    <category term="paper translation" scheme="http://rovo98.github.io/tags/paper-translation/"/>
    
  </entry>
  
  <entry>
    <title>Character-level Convolutional Networks for Text Classification</title>
    <link href="http://rovo98.github.io/posts/1b531d86/"/>
    <id>http://rovo98.github.io/posts/1b531d86/</id>
    <published>2020-01-12T16:00:00.000Z</published>
    <updated>2021-09-09T14:11:36.760Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ–‡çŒ®ç¿»è¯‘ï¼šæ–‡æœ¬åˆ†ç±»å­—ç¬¦çº§åˆ«å·ç§¯ç½‘ç»œ<br />authors: Xiang Zhang, Junbo Zhao, Yann LeCun<br />åŸæ–‡: <a href="https://arxiv.org/abs/1509.01626">Character-level Convolutional Networks for Text Classification</a></p></blockquote><h2 id="abstract"><a class="markdownIt-Anchor" href="#abstract"></a> Abstract</h2><p>æœ¬æ–‡æä¾›äº†ä½¿ç”¨å­—ç¬¦çº§å·ç§¯ç½‘ç»œï¼ˆConvNetsï¼‰è¿›è¡Œæ–‡æœ¬åˆ†ç±»çš„å®è¯ç ”ç©¶ã€‚æˆ‘ä»¬æ„å»ºäº†å‡ ä¸ªå¤§å‹æ•°æ®é›†ï¼Œä»¥è¡¨æ˜å­—ç¬¦çº§å·ç§¯ç½‘ç»œå¯ä»¥è¾¾åˆ°æœ€æ–°æ°´å¹³æˆ–ç«äº‰ç»“æœã€‚å¯ä»¥ä¸ä¼ ç»Ÿæ¨¡å‹ï¼ˆä¾‹å¦‚è¯è¢‹BoWï¼Œn-grams å…¶ TFIDF å˜ä½“ï¼‰ä»¥åŠæ·±åº¦å­¦ä¹ æ¨¡å‹ï¼ˆä¾‹å¦‚åŸºäºå•è¯çš„ ConvNets å’Œé€’å½’ç¥ç»ç½‘ç»œï¼‰è¿›è¡Œæ¯”è¾ƒã€‚</p><span id="more"></span><h2 id="1-introduction"><a class="markdownIt-Anchor" href="#1-introduction"></a> 1. Introduction</h2><p>æ–‡æœ¬åˆ†ç±»æ˜¯è‡ªç„¶è¯­è¨€å¤„ç†çš„ç»å…¸ç ”ç©¶é—®é¢˜ï¼Œå…¶ä¸­éœ€è¦ä¸ºè‡ªç”±æ–‡æœ¬æ–‡æ¡£åˆ†é…é¢„å®šä¹‰çš„ç±»åˆ«ã€‚æ–‡æœ¬åˆ†ç±»ç ”ç©¶çš„èŒƒå›´ä»è®¾è®¡æœ€ä½³ç‰¹å¾åˆ°é€‰æ‹©æœ€ä½³çš„æœºå™¨å­¦ä¹ åˆ†ç±»å™¨ã€‚è¿„ä»Šä¸ºæ­¢ï¼Œå‡ ä¹æ‰€æœ‰çš„æ–‡æœ¬åˆ†ç±»æŠ€æœ¯éƒ½æ˜¯åŸºäºå•è¯çš„ï¼Œå…¶ä¸­ä¸€äº›æœ‰åºçš„å•è¯ç»„åˆï¼ˆä¾‹å¦‚ n-gramï¼‰çš„ç®€å•ç»Ÿè®¡é€šå¸¸è¡¨ç°æœ€ä½³<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œè®¸å¤šç ”ç©¶äººå‘˜å‘ç°å·ç§¯ç½‘ç»œï¼ˆConvNetsï¼‰<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup><sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>éå¸¸é€‚åˆç”¨äºä»åŸå§‹ä¿¡æ¯ä¸­æå–ä¿¡æ¯ï¼Œå› è€Œå·ç§¯ç½‘ç»œä»è®¡ç®—æœºè§†è§‰é¢†åŸŸè¢«æ‰©å±•åˆ°è¯­éŸ³è¯†åˆ«ç­‰é¢†åŸŸã€‚ç‰¹åˆ«åœ°ï¼Œæ·±åº¦å­¦ä¹ ç ”ç©¶ä¸­æ—©æœŸä½¿ç”¨çš„æ—¶å»¶ç½‘ç»œæœ¬è´¨ä¸Šæ˜¯å¯¹åºåˆ—æ•°æ®è¿›è¡Œå»ºæ¨¡çš„å·ç§¯ç½‘ç»œã€‚<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup><sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup>ã€‚</p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æ¢ç´¢å°†æ–‡æœ¬è§†ä¸ºä¸€ç§å­—ç¬¦çº§åˆ«çš„åŸå§‹ä¿¡å·ï¼Œå¹¶å¯¹å…¶åº”ç”¨æ—¶é—´ï¼ˆä¸€ç»´ï¼‰å·ç§¯ç½‘ç»œ ConvNetsã€‚æœ¬æ–‡ä»…ä½¿ç”¨åˆ†ç±»ä»»åŠ¡ä½œä¸ºä¾‹è¯ï¼Œè¯´æ˜ ConvNets ç†è§£æ–‡æœ¬çš„èƒ½åŠ›ã€‚ä»ä»¥å¾€çš„ç ”ç©¶ï¼Œæˆ‘ä»¬çŸ¥é“ ConvNets é€šå¸¸éœ€è¦å¤§è§„æ¨¡çš„æ•°æ®é›†æ‰èƒ½å¾ˆå¥½åœ°å·¥ä½œï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿæ„å»ºäº†å‡ ä¸ªè¿™æ ·çš„æ•°æ®é›†ã€‚å¹¶æä¾›äº†ä¼ ç»Ÿæ¨¡å‹å’Œå…¶ä»–æ·±åº¦å­¦ä¹ æ¨¡å‹çš„ä¸€ç»„æ¯”è¾ƒã€‚</p><p>å·²æœ‰æ–‡çŒ®æ¢ç´¢äº†å°†å·ç§¯ç½‘ç»œåº”ç”¨äºæ–‡æœ¬åˆ†ç±»æˆ–æ•´ä¸ªè‡ªç„¶è¯­è¨€å¤„ç†ä¸­ï¼Œå¹¶å·²ç»è¯æ˜ï¼ŒConvNets å¯ä»¥ç›´æ¥åº”ç”¨äºåˆ†å¸ƒ<sup class="footnote-ref"><a href="#fn6" id="fnref6">[6]</a></sup><sup class="footnote-ref"><a href="#fn7" id="fnref7">[7]</a></sup>æˆ–ç¦»æ•£<sup class="footnote-ref"><a href="#fn8" id="fnref8">[8]</a></sup>çš„è¯åµŒå…¥ï¼ˆWord embeddingï¼‰ä¸­ï¼Œè€Œæ— éœ€äº†è§£è¯­è¨€çš„è¯­æ³•æˆ–è¯­ä¹‰ç»“æ„ã€‚è¿™äº›æ–¹æ³•å·²è¢«è¯æ˜ä¸ä¼ ç»Ÿæ¨¡å‹ç›¸æ¯”å…·æœ‰ç«äº‰åŠ›ã€‚</p><p>ç›®å‰å·²æœ‰ä¸€äº›ä½¿ç”¨å­—ç¬¦çº§åˆ«ç‰¹å¾è¿›è¡Œè‡ªç„¶è¯­è¨€å¤„ç†çš„ç›¸å…³ç ”ç©¶å·¥ä½œã€‚å…¶ä¸­åŒ…å«ä½¿ç”¨å¸¦æœ‰çº¿æ€§åˆ†ç±»å™¨çš„å­—ç¬¦çº§åˆ« n-gram<sup class="footnote-ref"><a href="#fn9" id="fnref9">[9]</a></sup>,ä»¥åŠå°†å­—ç¬¦çº§åˆ«ç‰¹å¾åˆå¹¶åˆ° ConvNets<sup class="footnote-ref"><a href="#fn10" id="fnref10">[10]</a></sup><sup class="footnote-ref"><a href="#fn11" id="fnref11">[11]</a></sup>ã€‚è¿™äº› ConvNet æ–¹æ³•ä½¿ç”¨å•è¯ä½œä¸ºåŸºç¡€ï¼Œåœ¨å•è¯<sup class="footnote-ref"><a href="#fn10" id="fnref10:1">[10:1]</a></sup>æˆ–å•è¯ n-gram<sup class="footnote-ref"><a href="#fn11" id="fnref11:1">[11:1]</a></sup> çš„åˆ†å¸ƒå¼è¡¨ç¤ºä¸Šæå–å­—ç¬¦çº§åˆ«ç‰¹å¾ï¼Œå¯¹è¯æ€§æ ‡è®°å’Œä¿¡æ¯æ£€ç´¢è¿›è¡Œæ”¹è¿›ã€‚</p><p>æœ¬æ–‡æ˜¯é¦–æ¬¡ä»…åœ¨å­—ç¬¦çº§åˆ«ä¸Šåº”ç”¨ ConvNets çš„æ–‡ç« ã€‚æˆ‘ä»¬è¯æ˜ï¼Œåœ¨å¤§è§„æ¨¡æ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒæ—¶ï¼Œé™¤äº†ä»¥å‰çš„ç ”ç©¶å¾—å‡ºçš„ï¼Œå³ ConvNets ä¸éœ€è¦è¯­è¨€çš„è¯­æ³•æˆ–è¯­ä¹‰ç»“æ„æ–¹é¢çš„çŸ¥è¯†å¤–ï¼Œæ·±å±‚ ConvNets ä¹Ÿæ˜¯ä¸éœ€è¦å•è¯çš„ç›¸å…³çš„çŸ¥è¯†çš„ã€‚è¿™ç§å·¥ç¨‹ä¸Šçš„ç®€åŒ–å¯¹äºå¯ä»¥é€‚ç”¨äºä¸åŒè¯­è¨€çš„å•ä¸ªç³»ç»Ÿè€Œè¨€è‡³å…³é‡è¦ï¼Œå› ä¸ºå­—ç¬¦å§‹ç»ˆæ˜¯æ–‡æœ¬å¿…è¦çš„æ„æˆå…ƒç´ ï¼Œä¸ç®¡æ˜¯å¦å°†æ–‡æœ¬åˆ†å‰²æˆå•è¯ã€‚ä»…å¤„ç†å­—ç¬¦è¿˜å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼šå¯ä»¥è‡ªç„¶åœ°å­¦ä¹ è¯¸å¦‚æ‹¼å†™é”™è¯¯å’Œè¡¨æƒ…ç¬¦å·ä¹‹ç±»çš„å¼‚å¸¸å­—ç¬¦ç»„åˆã€‚</p><h2 id="2-character-level-convolutional-networks"><a class="markdownIt-Anchor" href="#2-character-level-convolutional-networks"></a> 2. Character-level Convolutional Networks</h2><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç»ä»‹ç»æ–‡æœ¬åˆ†ç±»çš„å­—ç¬¦çº§åˆ« ConvNets çš„è®¾è®¡ã€‚è¯¥è®¾è®¡æ˜¯æ¨¡å—åŒ–çš„ï¼Œå¹¶é€šè¿‡åå‘ä¼ æ’­<sup class="footnote-ref"><a href="#fn12" id="fnref12">[12]</a></sup>è®¡ç®—æ¢¯åº¦æ¥æ‰§è¡Œä¼˜åŒ–ã€‚</p><h3 id="21-key-modules"><a class="markdownIt-Anchor" href="#21-key-modules"></a> 2.1 Key Modules</h3><p>ä¸»è¦ç»„ä»¶æ˜¯æ—¶é—´å·ç§¯æ¨¡å—ï¼Œå®ƒä»…è®¡ç®—ä¸€ç»´å·ç§¯ã€‚å‡è®¾æœ‰ä¸€ä¸ªç¦»æ•£è¾“å…¥å‡½æ•°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>âˆˆ</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>l</mi><mo stretchy="false">]</mo><mo>â†’</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">g(x)\in[1,l]\to \mathbb{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span>å’Œä¸€ä¸ªç¦»æ•£æ ¸å‡½æ•°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>âˆˆ</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>k</mi><mo stretchy="false">]</mo><mo>â†’</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">f(x)\in[1,k]\to\mathbb{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span>ã€‚æ­¥é•¿ï¼ˆstrideï¼‰ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>ä¹‹é—´çš„å·ç§¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>âˆˆ</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mi>l</mi><mo>âˆ’</mo><mi>k</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>d</mi><mo stretchy="false">]</mo><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo>â†’</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">h(y)\in[1,[(l-k)/d]+1]\to\mathbb{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">d</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span> å®šä¹‰å¦‚ä¸‹</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>âˆ‘</mo><mrow><mi>x</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>â‹…</mo><mi>g</mi><mo stretchy="false">(</mo><mi>y</mi><mo>â‹…</mo><mi>d</mi><mo>âˆ’</mo><mi>x</mi><mo>+</mo><mi>c</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(y) = \sum^k_{x=1}f(x)\cdot g(y\cdot d-x+c)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1032260000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361130000000003em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mclose">)</span></span></span></span></span></p><p>å…¶ä¸­<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mo>=</mo><mi>k</mi><mo>âˆ’</mo><mi>d</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">c=k-d+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>æ˜¯ä¸€ä¸ªåç½®å¸¸æ•°ã€‚å°±åƒåœ¨è®¡ç®—æœºè§†è§‰ä¸Šçš„ä¼ ç»Ÿå·ç§¯ç½‘ç»œä¸€æ ·ï¼Œè¯¥æ¨¡å—ç”±ä¸€ç»„è¿™æ ·çš„å†…æ ¸å‡½æ•°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>f</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>m</mi><mspace width="1em"/><mi>a</mi><mi>n</mi><mi>d</mi><mspace width="1em"/><mi>j</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_{ij}(x)(i=1,2,...,m\quad and\quad j=1,2,...,n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> æ¥è¿›è¡Œå‚æ•°åŒ–ï¼Œé€šå¸¸ç§°ä¸ºæƒé‡ï¼ˆweightsï¼‰ï¼Œä»¥åŠä¸€ç»„è¾“å…¥ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>g</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g_i(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span> å’Œè¾“å‡º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>h</mi><mi>j</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h_j(y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>ã€‚æˆ‘ä»¬ç§°æ¯ä¸ª<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>g</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">g_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¸ºè¾“å…¥ç‰¹å¾ï¼Œæ¯ä¸ª<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>h</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">h_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸ºè¾“å‡ºç‰¹å¾ï¼Œç”¨ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> è¡¨ç¤ºè¾“å…¥ç‰¹å¾çš„å¤§å°ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> è¡¨ç¤ºè¾“å‡ºç‰¹å¾çš„å¤§å°ã€‚é€šè¿‡åœ¨ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>g</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g_i(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>f</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_{ij}(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span> ä¹‹é—´å·ç§¯åœ¨ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> ä¸Šçš„æ€»å’Œæ¥è¡¨ç¤ºè¾“å‡º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>h</mi><mi>j</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h_j(y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>ã€‚</p><p>å¸®åŠ©æˆ‘ä»¬è®­ç»ƒæ›´æ·±å±‚æ¨¡å‹çš„ä¸€ä¸ªå…³é”®æ¨¡å—æ˜¯æ—¶é—´æœ€å¤§æ± åŒ–ï¼ˆtemporal max-poolingï¼Œä¸€ç»´æœ€å¤§æ± åŒ–ï¼‰ã€‚å®ƒæ˜¯è®¡ç®—æœºè§†è§‰<sup class="footnote-ref"><a href="#fn13" id="fnref13">[13]</a></sup>ä¸­ä½¿ç”¨çš„æœ€å¤§æ± åŒ–æ¨¡å—çš„ä¸€ç»´ç‰ˆæœ¬ã€‚ç»™å®šä¸€ä¸ªç¦»æ•£è¾“å…¥å‡½æ•° <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>âˆˆ</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>l</mi><mo stretchy="false">]</mo><mo>â†’</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">g(x)\in [1,l]\to \mathbb{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span>ï¼Œ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span> çš„ max-pooling å‡½æ•° <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>âˆˆ</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mi>l</mi><mo>âˆ’</mo><mi>k</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>d</mi><mo stretchy="false">]</mo><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo>â†’</mo><mi mathvariant="double-struck">R</mi></mrow><annotation encoding="application/x-tex">h(y)\in [1,[(l-k)/d]+1]\to \mathbb{R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">d</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span></span></span></span></span> å®šä¹‰å¦‚ä¸‹</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><msubsup><mi>x</mi><mrow><mi>x</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></msubsup><mi>g</mi><mo stretchy="false">(</mo><mi>y</mi><mo>â‹…</mo><mi>d</mi><mo>âˆ’</mo><mi>x</mi><mo>+</mo><mi>c</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(y) = max_{x=1}^k g(y\cdot d -x +c)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1491079999999998em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mclose">)</span></span></span></span></span></p><p>å…¶ä¸­ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mo>=</mo><mi>k</mi><mo>âˆ’</mo><mi>d</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">c=k-d+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> æ˜¯ä¸€ä¸ªåç½®å¸¸æ•°ã€‚è¿™æ ·çš„æ± åŒ–æ¨¡å—èƒ½ä½¿æˆ‘ä»¬è®­ç»ƒè¶…è¿‡ 6 å±‚çš„ ConvNets æ¨¡å‹ï¼Œè€Œå…¶ä»–çš„å±‚å‡ä¼šå¤±è´¥ï¼Œ<sup class="footnote-ref"><a href="#fn14" id="fnref14">[14]</a></sup>ä¸­çš„åˆ†æå¯èƒ½å¯¹æ­¤æœ‰æ‰€å¯å‘ã€‚</p><p>åœ¨æ¨¡å‹ä¸­ä½¿ç”¨çš„éçº¿æ€§ä¿®æ­£å™¨é˜ˆå€¼å‡½æ•° <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">h(x) = max\{0,x\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mclose">}</span></span></span></span>ï¼Œè¿™è®©æˆ‘ä»¬æ¨¡å‹ä¸­çš„å·ç§¯å±‚èƒ½ä¸ä¿®æ­£çº¿æ€§å•å…ƒç±»ä¼¼ï¼ˆReLUsï¼‰<sup class="footnote-ref"><a href="#fn15" id="fnref15">[15]</a></sup>ã€‚ç®—æ³•ä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆSGDï¼‰ï¼Œå…¶æœ€å°æ‰¹é‡ä¸º 128ï¼Œä½¿ç”¨åŠ¨é‡ï¼ˆmomentumï¼‰ä¸º 0.9ï¼Œåˆå§‹æ­¥é•¿ä¸º 0.01ï¼Œæ¯ 3 ä¸ª epoch å‡åŠ 10 æ¬¡ã€‚æ¯ä¸ª epoch éƒ½é‡‡ç”¨å›ºå®šæ•°é‡çš„éšæœºè®­ç»ƒæ ·æœ¬ï¼Œè¿™äº›æ ·æœ¬åœ¨å„ä¸ªç±»åˆ«ä¸Šä½¿ç”¨å‡åŒ€é‡‡æ ·ã€‚ç¨åå°†è¯¦ç»†ç»™å‡ºæ¯ä¸ªæ•°æ®é›†ä½¿ç”¨çš„æ ·æœ¬æ•°ã€‚æ¨¡å‹ä½¿ç”¨ Torch 7<sup class="footnote-ref"><a href="#fn16" id="fnref16">[16]</a></sup>å®ç°ã€‚</p><h3 id="22-character-quantization"><a class="markdownIt-Anchor" href="#22-character-quantization"></a> 2.2 Character quantization</h3><p>æˆ‘ä»¬çš„æ¨¡å‹æ¥æ”¶ä¸€ä¸ªç”±ç¼–ç åå­—ç¬¦å½¢æˆçš„åºåˆ—ä½œä¸ºè¾“å…¥ã€‚é€šè¿‡ä¸ºè¾“å…¥çš„è¯­è¨€è§„å®šå­—æ¯è¡¨ï¼ˆalphabetï¼‰ï¼Œç„¶åä½¿ç”¨å­—ç¬¦çš„ one-hot ç¼–ç æ¥é‡åŒ–æ¯ä¸ªå­—ç¬¦ã€‚ç„¶åå°†å­—ç¬¦åºåˆ—è½¬æ¢ä¸ºè¿™æ ·çš„åºåˆ—ï¼Œä¸€ä¸ªå¤§å°ä¸ºå›ºå®šé•¿åº¦<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">l_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„å‘é‡ã€‚åºåˆ—ä¸­è¶…è¿‡é•¿åº¦<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">l_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„æ‰€æœ‰å­—ç¬¦éƒ½ä¼šè¢«å¿½ç•¥ï¼Œç©ºå­—ç¬¦æˆ–ä¸åœ¨å­—æ¯è¡¨ä¸­å­—ç¬¦ç”¨ 0 å‘é‡è¿›è¡Œé‡åŒ–è¡¨ç¤ºã€‚å­—ç¬¦é‡åŒ–çš„é¡ºåºä¸å­—ç¬¦è¯»å–çš„é¡ºåºæ˜¯ç›¸åçš„ï¼Œå› æ­¤æœ€æ–°è¯»å–çš„å­—ç¬¦å§‹ç»ˆå¤„äºè¾“å‡ºçš„å¤´éƒ¨ï¼Œä»è€Œä½¿å…¨è¿æ¥å±‚æ›´æ˜“äºå°†æƒé‡ä¸æœ€æ–°è¯»å–çš„å­—ç¬¦ç›¸å…³è”ã€‚</p><p>æˆ‘ä»¬æ‰€æœ‰æ¨¡å‹ä½¿ç”¨çš„å­—ç¬¦è¡¨åŒ…å« 70 ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­åŒ…å« 26 ä¸ªè‹±æ–‡å­—æ¯ï¼Œ10 ä¸ªæ•°å­—ï¼Œ33 ä¸ªå…¶ä»–å­—ç¬¦å’Œæ¢è¡Œç¬¦ã€‚å¦‚ä¸‹ï¼š</p><p><img data-src="alphabet.png" alt="" /></p><p>ä¹‹åï¼Œæˆ‘ä»¬è¿˜ä¸ä½¿ç”¨äº†ä¸åŒå­—æ¯è¡¨çš„æ¨¡å‹è¿›è¡Œå¯¹æ¯”ï¼Œåœ¨è¿™äº›æ¨¡å‹çš„å­—æ¯è¡¨ä¸­åŒºåˆ†å¤§å†™å’Œå°å†™å­—æ¯ã€‚</p><h3 id="23-model-design"><a class="markdownIt-Anchor" href="#23-model-design"></a> 2.3 Model Design</h3><p>æˆ‘ä»¬è®¾è®¡ä¸¤ä¸ªå·ç§¯ç¥ç»ç½‘ç»œâ€”â€”ä¸€ä¸ªå¤§çš„å’Œä¸€ä¸ªå°çš„ã€‚å®ƒä»¬éƒ½æœ‰ 9 å±‚ï¼Œå…¶ä¸­ 6 å±‚å·ç§¯å±‚å’Œ 3 å±‚å…¨è¿æ¥å±‚ã€‚è§å›¾ Figure 1ã€‚</p><p><img data-src="figure-1.png" alt="" /></p><p>å› ä¸ºæˆ‘ä»¬å­—ç¬¦é‡åŒ–çš„æ–¹æ³•ï¼Œæ¨¡å‹è¾“å…¥çš„ç‰¹å¾ï¼ˆfeatureï¼‰å›ºå®šä¸º 70ï¼Œå¹¶ä¸”è¾“å…¥ç‰¹å¾é•¿åº¦ï¼ˆlengthï¼‰ä¸º 1014ã€‚ä¼¼ä¹1014ä¸ªå­—ç¬¦å·²ç»å¯ä»¥æ•è·å¤§å¤šæ•°æ„Ÿå…´è¶£çš„æ–‡æœ¬ã€‚æˆ‘ä»¬è¿˜åœ¨ 3 ä¸ªå…¨è¿æ¥å±‚ä¹‹é—´æ’å…¥ä¸¤ä¸ª dropout å±‚<sup class="footnote-ref"><a href="#fn17" id="fnref17">[17]</a></sup>æ¥è¿›è¡Œæ­£åˆ™åŒ–ã€‚å®ƒä»¬çš„ dropout rate ä¸º 0.5ã€‚Table 1åˆ—å‡ºäº†å·ç§¯å±‚çš„é…ç½®ï¼ŒTable 2åˆ—å‡ºäº†å…¨è¿æ¥å±‚çš„é…ç½®ã€‚</p><p><img data-src="table-1.png" alt="" /></p><p>æˆ‘ä»¬ä½¿ç”¨é«˜æ–¯åˆ†å¸ƒæ¥åˆå§‹åŒ–æƒé‡ã€‚å¤§æ¨¡å‹åˆå§‹åŒ–ä½¿ç”¨çš„å‡å€¼å’Œæ ‡å‡†å·®ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>0.02</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0,0.02)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">2</span><span class="mclose">)</span></span></span></span>ï¼Œå°æ¨¡å‹åˆå§‹åŒ–ä½¿ç”¨çš„å‡å€¼å’Œæ ‡å‡†å·®ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>0.05</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0,0.05)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">5</span><span class="mclose">)</span></span></span></span>ã€‚</p><p><img data-src="table-2.png" alt="" /></p><p>å¯¹äºä¸åŒçš„é—®é¢˜ï¼Œæ¨¡å‹çš„è¾“å…¥çš„é•¿åº¦å¯èƒ½ä¸åŒï¼ˆä¾‹å¦‚æˆ‘ä»¬çš„æ¨¡å‹ä½¿ç”¨ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mn>0</mn></msub><mo>=</mo><mn>1014</mn></mrow><annotation encoding="application/x-tex">l_0=1014</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mord">4</span></span></span></span>ï¼‰ï¼Œåœ¨æˆ‘ä»¬æ¨¡å‹çš„è®¾è®¡ä¸­ï¼Œå¾ˆå®¹æ˜“çŸ¥é“ï¼Œç»™å®šè¾“å…¥é•¿åº¦<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">l_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œæœ€åä¸€ä¸ªå·ç§¯å±‚ä¹‹åï¼ˆæ‰€æœ‰å…¨è¿æ¥å±‚ä¹‹å‰ï¼‰çš„çš„è¾“å‡ºå¸§é•¿åº¦ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mn>6</mn></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>l</mi><mn>0</mn></msub><mo>âˆ’</mo><mn>96</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>27</mn></mrow><annotation encoding="application/x-tex">l_6=(l_0-96)/27</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.01968em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">9</span><span class="mord">6</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span><span class="mord">7</span></span></span></span>ã€‚è¯¥æ•°å­—ä¹˜ä»¥ç¬¬ 6 å±‚çš„å¸§å¤§å°å°†å¾—å‡ºç¬¬ä¸€ä¸ªå…¨è¿æ¥å±‚çš„è¾“å…¥ç»´åº¦ã€‚</p><h3 id="24-data-augmentation-using-thesaurus"><a class="markdownIt-Anchor" href="#24-data-augmentation-using-thesaurus"></a> 2.4 Data Augmentation using Thesaurus</h3><p>è®¸å¤šç ”ç©¶äººå‘˜å‘ç°ï¼Œé€‚å½“ä½¿ç”¨æ•°æ®å¢å¼ºæŠ€æœ¯å¯¹äºæ§åˆ¶æ·±åº¦å­¦ä¹ çš„æ³›åŒ–é”™è¯¯å¾ˆæœ‰ä½œç”¨ã€‚å½“æˆ‘ä»¬æ‰¾åˆ°æ¨¡å‹å…·æœ‰é€‚å½“çš„ä¸å˜å±æ€§æ—¶ï¼Œè¿™äº›æŠ€æœ¯é€šå¸¸æ•ˆæœå¾ˆå¥½ã€‚å°±æ–‡æœ¬è€Œè¨€ï¼Œä½¿ç”¨å›¾åƒæˆ–è¯­è¨€è¯†åˆ«ä¸­è¿›è¡Œä¿¡å·è½¬æ¢æ¥å¢å¼ºæ•°æ®æ˜¯ä¸åˆç†çš„ï¼Œå› ä¸ºå­—ç¬¦çš„ç¡®åˆ‡é¡ºåºå¯èƒ½ä¼šå½¢æˆä¸¥æ ¼çš„å¥æ³•å’Œè¯­ä¹‰ã€‚å› æ­¤ï¼Œè¿›è¡Œæ•°æ®å¢å¼ºçš„æœ€ä½³æ–¹æ³•æ˜¯ä½¿ç”¨äººå·¥æªè¯ï¼Œä½†è¿™æ˜¯ä¸ç°å®çš„ä¸”æ˜‚è´µçš„ï¼Œå› ä¸ºæˆ‘ä»¬æ•°æ®é›†ä¸­çš„æ ·æœ¬é‡é€šå¸¸éå¸¸å¤§ã€‚å› æ­¤ï¼Œå¯¹æˆ‘ä»¬è€Œè¨€ï¼Œæ•°æ®å¢å¼ºä¸­æœ€è‡ªç„¶çš„é€‰æ‹©æ˜¯ä½¿ç”¨åŒä¹‰è¯æ¥æ›¿æ¢å•è¯æˆ–çŸ­è¯­ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨è‹±æ–‡åŒä¹‰è¯æ¥è¿›è¡Œæ•°æ®å¢å¼ºå®éªŒï¼Œè¯¥è¯åº“æ˜¯ä» LibreOffice é¡¹ç›®ä¸­ä½¿ç”¨çš„ mytheas ç»„ä»¶ä¸­è·å¾—çš„ã€‚è¯¥è¯åº“åˆæ˜¯ä» Word-Net<sup class="footnote-ref"><a href="#fn18" id="fnref18">[18]</a></sup>ä¸­è·å–çš„ï¼Œå…¶ä¸­å•è¯æˆ–çŸ­è¯­çš„æ¯ä¸ªåŒä¹‰è¯éƒ½æŒ‰ç…§ä¸æœ€å¸¸è§çš„å«ä¹‰çš„è¯­ä¹‰æ¥è¿‘åº¦æ¥è¿›è¡Œæ’åºã€‚ä¸ºäº†ç¡®å®šè¦æ›¿æ¢çš„å•è¯æ•°ï¼Œæˆ‘ä»¬ä»ç»™å®šçš„æ–‡æœ¬ä¸­æå–æ‰€æœ‰å¯æ›¿æ¢çš„å•è¯ï¼Œç„¶åéšæœºé€‰æ‹© <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span> ä¸ªè¦æ›¿æ¢çš„å•è¯æ¥æ›¿æ¢ã€‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span> çš„æ¦‚ç‡ç”±å‚æ•°ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span> çš„å‡ ä½•åˆ†å¸ƒç¡®å®šï¼Œå…¶ä¸­ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo stretchy="false">[</mo><mi>r</mi><mo stretchy="false">]</mo><mo>âˆ¼</mo><msup><mi>p</mi><mi>r</mi></msup></mrow><annotation encoding="application/x-tex">P[r]\thicksim p^r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">âˆ¼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.858832em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span></span></span></span>ã€‚ç»™å®šå•è¯çš„åŒä¹‰æ¬¡çš„ç´¢å¼• <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>ä¹Ÿç”±å¦ä¸€ç§å‡ ä½•åˆ†å¸ƒæ¥ç¡®å®šï¼Œå…¶ä¸­ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo stretchy="false">[</mo><mi>s</mi><mo stretchy="false">]</mo><mo>âˆ¼</mo><msup><mi>q</mi><mi>s</mi></msup></mrow><annotation encoding="application/x-tex">P[s]\thicksim q^s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">[</span><span class="mord mathdefault">s</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">âˆ¼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.858832em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span></span></span></span></span></span></span>ã€‚è¿™æ ·ï¼Œå½“åŒä¹‰è¯åç¦»æœ€å¸¸è§çš„å«ä¹‰æ—¶ï¼Œå…¶è¢«é€‰ä¸­çš„å¯èƒ½æ€§å°±ä¼šå˜å°ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è¯¥æ•°æ®å¢å¼ºæŠ€æœ¯ï¼Œå…¶ä¸­ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mo>=</mo><mn>0.5</mn><mo separator="true">,</mo><mi>q</mi><mo>=</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">p=0.5, q=0.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span></span></span></span>ã€‚</p><h2 id="3-comparison-models"><a class="markdownIt-Anchor" href="#3-comparison-models"></a> 3. Comparison Models</h2><p>ä¸ºäº†å…¬å¹³åœ°æ¯”è¾ƒç«äº‰çš„æ¨¡å‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¼ ç»Ÿå’Œæ·±åº¦å­¦ä¹ æ–¹æ³•è¿›è¡Œäº†ä¸€ç³»åˆ—å®éªŒã€‚æˆ‘ä»¬å°½åŠ›é€‰æ‹©å¯ä»¥æä¾›å¯æ¯”ä¸”å…·æœ‰ç«äº‰åŠ›çš„ç»“æœçš„æ¨¡å‹ï¼Œå¹¶ä¸”åœ¨ä¸è¿›è¡Œä»»ä½•æ¨¡å‹é€‰æ‹©çš„æƒ…å†µä¸‹ï¼Œå¦‚å®åœ°æŠ¥å‘Šå®éªŒç»“æœã€‚</p><p><strong>Bag-of-words and its TFIDF.</strong> å¯¹äºæ¯ä¸€ä¸ªæ•°æ®é›†ï¼Œbag-of-words æ¨¡å‹é€šè¿‡é€‰æ‹©è®­ç»ƒé›†ä¸­æœ€é¢‘ç¹çš„ 50,000 ä¸ªå•è¯æ¥æ„é€ æ¨¡å‹ã€‚å¯¹äºå¸¸è§„çš„ bag-of-wordæ–¹æ³•ï¼Œæˆ‘ä»¬ç”¨æ¯ä¸ªå•è¯çš„è®¡æ•°ä½œä¸ºç‰¹å¾ã€‚å¯¹äº TFIDFï¼ˆterm-frequency inverse-document-frequencyï¼‰<sup class="footnote-ref"><a href="#fn19" id="fnref19">[19]</a></sup>ç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä½¿ç”¨å•è¯çš„è®¡æ•°ä½œä¸ºè¯é¢‘ã€‚é€†æ–‡æ¡£é¢‘ç‡æ˜¯æ ·æœ¬æ€»æ•°ä¸è®­ç»ƒæ ·æœ¬å­é›†ä¸­æ ·æœ¬æ•°çš„é™¤æ•°çš„å¯¹æ•°ã€‚ç„¶åé€šè¿‡é™¤ä»¥æœ€å¤§ç‰¹å¾æ•°å€¼æ¥è¿›è¡Œæ­£åˆ™åŒ–ã€‚</p><p><strong>Bag-of-ngrams and its TFIDF.</strong> bag-of-ngrams æ¨¡å‹é€šè¿‡ä»æ¯ä¸€ä¸ªæ•°æ®é›†ä¸­çš„è®­ç»ƒé›†ä¸­é€‰æ‹© 500,000 ä¸ªæœ€é¢‘ç¹ n-grams ï¼ˆæœ€å¤š5-gramsï¼‰æ¥æ„å»ºã€‚ç‰¹å¾çš„è®¡ç®—æ–¹å¼ä¸ bag-of-words æ¨¡å‹ä¸€æ ·ã€‚</p><p><strong>Bag-of-means on word embedding.</strong> æˆ‘ä»¬ä¹Ÿæœ‰ä¸€ä¸ªå®éªŒæ¨¡å‹ä»æ¯ä¸ªæ•°æ®é›†çš„è®­ç»ƒå­é›†çš„ word2vec<sup class="footnote-ref"><a href="#fn20" id="fnref20">[20]</a></sup>ä¸Šåº”ç”¨ k å‡å€¼ï¼Œç„¶åå°†è¿™äº›å­¦ä¹ çš„æ–¹æ³•ç”¨ä½œèšç±»è¯çš„ä»£è¡¨ã€‚æˆ‘ä»¬è€ƒè™‘äº†åœ¨è®­ç»ƒå­é›†ä¸­å‡ºç°è¶…è¿‡ 5 æ¬¡çš„æ‰€æœ‰å•è¯ã€‚åµŒå…¥çš„ç»´æ•°ä¸º 300ã€‚bag-of-means ç‰¹å¾çš„è®¡ç®—æ–¹å¼ä¸ bag-of-words æ¨¡å‹ä¸­çš„æ–¹å¼ä¸€æ ·ã€‚å‡å€¼æ•°ä¸º 5000ã€‚</p><h3 id="31-deep-learning-methods"><a class="markdownIt-Anchor" href="#31-deep-learning-methods"></a> 3.1 Deep Learning Methods</h3><p>æœ€è¿‘ï¼Œæ·±åº¦å­¦ä¹ æ–¹æ³•ä¸€ç›´å¼€å§‹åº”ç”¨äºæ–‡æœ¬åˆ†ç±»ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸¤ç§ç®€å•ä¸”å…·æœ‰ä»£è¡¨æ€§çš„æ¨¡å‹è¿›è¡Œæ¯”è¾ƒã€‚å…¶ä¸­ä¸€ç§æ˜¯åŸºäºå•è¯çš„ ConvNetsï¼Œå¦ä¸€ç§æ˜¯ç®€å•çš„é•¿æœŸçŸ­æœŸè®°å¿†ç½‘ç»œæ¨¡å‹ï¼ˆLSTMï¼‰[^11]ã€‚</p><p><strong>Wrod-based ConvNets.</strong> åœ¨æœ‰å…³åŸºäºå•è¯çš„ ConvNets ç”¨äºæ–‡æœ¬åˆ†ç±»çš„å¤§é‡æœ€æ–°ç ”ç©¶ä¸­ï¼ŒåŒºåˆ«ä¹‹ä¸€æ˜¯é€‰æ‹©ä½¿ç”¨é¢„è®­ç»ƒçš„æˆ–ç«¯åˆ°ç«¯çš„å­¦ä¹ çš„å•è¯è¡¨ç¤ºå½¢å¼ã€‚æˆ‘ä»¬ä½¿ç”¨é¢„è®­ç»ƒçš„ word2vec<sup class="footnote-ref"><a href="#fn20" id="fnref20:1">[20:1]</a></sup>åµŒå…¥<sup class="footnote-ref"><a href="#fn7" id="fnref7:1">[7:1]</a></sup>å’ŒæŸ¥æ‰¾è¡¨<sup class="footnote-ref"><a href="#fn21" id="fnref21">[21]</a></sup>è¿›è¡Œæ¯”è¾ƒã€‚åœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼ŒåµŒå…¥å¤§å°å‡ä¸º 300ï¼Œä¸ bag-of-means æ¨¡å‹ç›¸åŒã€‚ä¸ºäº†ç¡®ä¿å…¬å¹³åœ°è¿›è¡Œæ¯”è¾ƒï¼Œæ¯ç§æƒ…å†µä¸‹çš„æ¨¡å‹åœ¨å±‚æ•°å’Œæ¯å±‚è¾“å‡ºå¤§å°æ–¹é¢å‡ä¸å­—ç¬¦çº§åˆ« ConvNets ç›¸åŒã€‚è¿˜è¿›è¡Œäº†åŒä¹‰è¯æ›¿æ¢æ•°æ®å¢å¼ºã€‚</p><p><strong>Long-short term memory.</strong> æˆ‘ä»¬è¿˜æä¾›äº†ä¸ RNN ç½‘ç»œæ¨¡å‹ï¼ˆå³é•¿æœŸçŸ­æœŸè®°å¿†ç½‘ç»œï¼ŒLSTM[^11]ï¼‰çš„æ¯”è¾ƒã€‚è¯¥ LSTM æ¨¡å‹æ˜¯åŸºäºå•è¯çš„ï¼Œä¸ä¸Šæ–‡çš„æ¨¡å‹ä¸€æ ·ï¼Œä½¿ç”¨å¤§å°ä¸º 300 çš„é¢„è®­ç»ƒ word2vec åµŒå…¥ã€‚é€šè¿‡å–æ‰€æœ‰çš„ LSTM å•å…ƒçš„è¾“å‡ºå¹³å‡å€¼å½¢æˆä¸€ä¸ªç‰¹å¾å‘é‡ï¼Œç„¶åå¯¹è¯¥ç‰¹å¾å‘é‡ä½¿ç”¨å¤šé¡¹é€»è¾‘å›å½’æ¥æ„å»ºæ¨¡å‹ã€‚æ¨¡å‹è¾“å‡ºçš„ç»´åº¦ä¸º 512ã€‚æœ¬æ–‡ä½¿ç”¨çš„ LSTM å˜ä½“æ˜¯å¸¸è§çš„ â€œvanillaâ€ ç»“æ„<sup class="footnote-ref"><a href="#fn22" id="fnref22">[22]</a></sup><sup class="footnote-ref"><a href="#fn23" id="fnref23">[23]</a></sup>ã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨äº†æ¢¯åº¦æ­£åˆ™ï¼Œå–å€¼ä¸º 5ã€‚è§ Figure 2ã€‚</p><p><img data-src="figure-2.png" alt="" /></p><h3 id="32-choice-of-alphabet"><a class="markdownIt-Anchor" href="#32-choice-of-alphabet"></a> 3.2 Choice of Alphabet</h3><p>å¯¹äºè‹±æ–‡å­—æ¯è¡¨ï¼Œä¸€ä¸ªæ˜æ˜¾çš„é€‰æ‹©æ•°æ˜¯å¦åŒºåˆ†å¤§å°å†™å­—æ¯ã€‚æœ¬æ–‡ç»™å‡ºäº†é€‰æ‹©çš„ç›¸å…³å®éªŒç»“æœï¼Œç»“æœè¡¨æ˜ï¼Œå½“è€ƒè™‘åŒºåˆ†å¤§å°å†™æ—¶ï¼Œé€šå¸¸ï¼ˆä½†å¹¶éæ€»æ˜¯ï¼‰ä¼šå¾—åˆ°æ¯”è¾ƒå·®çš„ç»“æœã€‚ä¸€ç§å¯èƒ½çš„è§£é‡Šæ˜¯è¯­ä¹‰ä¸ä¼šéšå­—æ¯å¤§å°å†™å‘ç”Ÿæ”¹å˜ï¼Œå› æ­¤æ­£åˆ™åŒ–å¿…ç„¶æ˜¯å­˜åœ¨å¥½å¤„çš„ã€‚</p><h2 id="4-large-scale-datasets-and-results"><a class="markdownIt-Anchor" href="#4-large-scale-datasets-and-results"></a> 4. Large-scale Datasets and Results</h2><p>ä»¥å‰åœ¨ä¸åŒé¢†åŸŸå¯¹ ConvNets è¿›è¡Œçš„ç ”ç©¶è¡¨æ˜ï¼Œå®ƒä»¬é€šå¸¸ä¸å¤§è§„æ¨¡çš„æ•°æ®é›†é…åˆè¿›è¡Œè®­ç»ƒã€‚ç‰¹åˆ«æ˜¯å½“æ¨¡å‹ä½¿ç”¨ä½çº§åŸå§‹ç‰¹å¾è¡¨ç¤ºçš„æ—¶å€™ï¼ˆæœ¬æ–‡ä¸­ä½¿ç”¨çš„å­—ç¬¦çº§åˆ«ï¼‰ã€‚ç„¶è€Œï¼Œå¤§å¤šæ•°ç”¨äºæ–‡æœ¬åˆ†ç±»çš„å¼€æ”¾æ•°æ®é›†éƒ½éå¸¸å°ï¼Œå¹¶ä¸”å¤§è§„æ¨¡çš„æ•°æ®é›†é€šå¸¸è¢«åˆ’åˆ†æˆè¾ƒå°çš„è®­ç»ƒé›†ä»¥åŠæµ‹è¯•é›†<sup class="footnote-ref"><a href="#fn24" id="fnref24">[24]</a></sup>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨å®ƒä»¬ï¼Œè€Œè‡ªå·±æ„å»ºå‡ ä¸ªå¤§è§„æ¨¡æ•°æ®é›†ï¼ŒèŒƒå›´ä»æ•°åä¸‡åˆ°æ•°ç™¾ä¸‡ä¸ªæ ·æœ¬ï¼Œè§ Table 3ã€‚</p><p><img data-src="table-3.png" alt="" /></p><p><strong>AGâ€™s new corpus.</strong>ï¼ˆAG æ–°é—»è¯­æ–™ï¼‰æˆ‘ä»¬é€šè¿‡ç½‘ç»œ<sup class="footnote-ref"><a href="#fn13" id="fnref13:1">[13:1]</a></sup>è·å–äº† AG æ–°é—»æ–‡ç« è¯­æ–™åº“ã€‚å®ƒåŒ…å«æ¥è‡ª 2000 å¤šä¸ªæ–°é—»æ¥æºçš„ 496,835 ä¸ªåˆ†ç±»çš„æ–°é—»æ–‡ç« ã€‚æˆ‘ä»¬ä»…ä»æ ‡é¢˜å’Œæè¿°å­—æ®µä¸­é€‰å–è¯¥è¯­æ–™åº“ä¸­æœ€å¤šçš„ 4 ä¸ªç±»åˆ«æ¥æ„å»ºæ•°æ®é›†ã€‚æ¯ä¸ªç±»åˆ«çš„è®­ç»ƒæ ·æœ¬æ•°æ®é‡ä¸º 30,000ï¼Œæµ‹è¯•æ•°é‡ä¸º 1900ã€‚</p><p><strong>Sogouâ€™s new corpus.</strong> è¯¥æ•°æ®é›†æ˜¯ SogouuCA å’Œ SogouCS æ–°é—»è¯­æ–™åº“çš„ç»„åˆ<sup class="footnote-ref"><a href="#fn25" id="fnref25">[25]</a></sup>ï¼Œæ€»å…±åŒ…å«å„ç§ä¸»é¢˜ä¸­çš„ 2,909,551 è°ƒæ–°é—»æ–‡ç« ã€‚ç„¶åï¼Œé€šè¿‡æ‰‹åŠ¨åˆ†ç±»æ–°é—»çš„é¢†åŸŸåï¼Œæˆ‘ä»¬ä½¿ç”¨æ–°é—»çš„ URL æ ‡è®°æ–°é—»ã€‚è¿™ä½¿æˆ‘ä»¬è·å¾—äº†å¤§é‡å¸¦æœ‰å…¶ç±»åˆ«æ ‡ç­¾çš„æ–°é—»æ–‡ç« ã€‚ç±»åˆ«å¾ˆå¤šï¼Œä½†å¤§å¤šæ•°åŒ…å«å¾ˆå°‘çš„æ–‡ç« ã€‚æˆ‘ä»¬é€‰æ‹© 5 ä¸ªç±»åˆ«-â€œä½“è‚²â€ï¼Œâ€œé‡‘èâ€ï¼Œâ€œå¨±ä¹â€ï¼Œâ€œæ±½è½¦â€å’Œâ€œæŠ€æœ¯â€ã€‚æ¯ä¸ªç­çº§é€‰æ‹©çš„è®­ç»ƒæ ·æœ¬æ•°é‡ä¸º 90,000ï¼Œæµ‹è¯•é›†ä¸º 12,000ã€‚å°½ç®¡è¿™æ˜¯ä¸­æ–‡æ•°æ®é›†ï¼Œæˆ‘ä»¬ä½¿ç”¨ pypinyin åŒ…é›†åˆ jieba åˆ†è¯æ¥ç”Ÿæˆæ‹¼éŸ³ã€‚ç„¶åå°†è‹±æ–‡æ¨¡å‹åº”ç”¨äºæ­¤æ•°æ®é›†åˆ™æ— éœ€è¿›è¡Œä»»ä½•æ›´æ”¹ã€‚å…¶ä¸­ä½¿ç”¨æ ‡é¢˜å’Œå†…å®¹å­—æ®µã€‚</p><p><img data-src="table-4.png" alt="" /></p><p><strong>DBPedia ontology dataset.</strong> DBpedia æ˜¯ä¸€ä¸ªä¼—åŒ…ç¤¾åŒºï¼Œæ—¨åœ¨ä» Wikipedia ä¸­æå–ç»“æ„åŒ–ä¿¡æ¯<sup class="footnote-ref"><a href="#fn26" id="fnref26">[26]</a></sup>ã€‚é€šè¿‡ä» DBPedia 2014ä¸­é€‰æ‹© 14 ä¸ªä¸é‡å çš„ç±»æ¥æ„å»º DBPedia æœ¬ä½“æ•°æ®é›†ã€‚ä»è¿™ 14 ä¸ªç±»åˆ«ä¸­çš„æ¯ä¸€ä¸ªç±»ä¸­ï¼Œæˆ‘ä»¬éšæœºé€‰æ‹© 40,000 ä¸ªè®­ç»ƒæ ·æœ¬å’Œ 5,000 ä¸ªæµ‹è¯•æ ·æœ¬ã€‚æˆ‘ä»¬ç”¨äºæ­¤æ•°æ®é›†çš„å­—æ®µåŒ…å«æ¯ä¸ª Wikipedia æ–‡ç« çš„æ ‡é¢˜å’Œæ‘˜è¦ã€‚</p><p><strong>Yelp reviews.</strong> Yelp è¯„è®ºæ•°æ®é›†æ¥è‡ª 2015 å¹´çš„ Yelp æ•°æ®é›†æŒ‘æˆ˜èµ›ã€‚è¯¥æ•°æ®é›†åŒ…å« 1,569,264 ä¸ªå…·æœ‰è¯„è®ºæ–‡æœ¬çš„æ ·æœ¬ã€‚ä»è¯¥æ•°æ®é›†æ„å»ºäº†ä¸¤ä¸ªåˆ†ç±»ä»»åŠ¡â€”â€”ä¸€ä¸ªé¢„æµ‹ç”¨æˆ·ç»™å®šçš„æ’æ˜Ÿæ€»æ•°ï¼Œå¦ä¸€ä¸ªé€šè¿‡è€ƒè™‘æ’æ˜Ÿ 1 å’Œ 2 ä¸ºè´Ÿï¼Œæ’æ˜Ÿ 3 å’Œ 4 æ­£ï¼Œæ¥é¢„æµ‹ææ€§æ ‡ç­¾ã€‚å®Œæ•´çš„æ•°æ®é›†åœ¨æ¯é¢—æ’æ˜Ÿä¸­å…·æœ‰ 130,000 ä¸ªè®­ç»ƒæ ·æœ¬å’Œ 10,000 ä¸ªæµ‹è¯•æ ·æœ¬ï¼Œè€Œææ€§æ•°æ®é›†åœ¨æ¯ä¸ªææ€§ä¸­å…·æœ‰ 280,000 ä¸ªè®­ç»ƒæ ·æœ¬å’Œ 19,000 ä¸ªæµ‹è¯•æ ·æœ¬ã€‚</p><p><strong>Amazon reviews.</strong>  æˆ‘ä»¬ä»æ–¯å¦ç¦ç½‘ç»œåˆ†æé¡¹ç›® ï¼ˆSNAPï¼‰è·å¾—äº† Amazon è¯„è®ºæ•°æ®é›†ï¼Œè¯¥æ•°æ®é›†æ¨ªè·¨ 18 å¹´ï¼Œæ¥è‡ª 2,643,053 ä¸ªäº§å“çš„ 6,43,669 ä¸ªç”¨æˆ·ä¸­çš„ 34,686,770 æ¡è¯„è®º<sup class="footnote-ref"><a href="#fn27" id="fnref27">[27]</a></sup>ã€‚ä¸ Yelp è¯„è®ºæ•°æ®é›†ç›¸ä¼¼ï¼Œæˆ‘ä»¬ä¹Ÿæ„å»ºäº† 2 ä¸ªæ•°æ®é›†â€”â€”ä¸€ä¸ªå®Œæ•´åˆ†æ•°é¢„æµ‹å’Œå¦ä¸€ä¸ªææ€§é¢„æµ‹ã€‚å®Œæ•´çš„æ•°æ®é›†åŒ…å«æ¯ä¸ªç±»åˆ«ä¸­çš„ 600,000 ä¸ªè®­ç»ƒæ ·æœ¬å’Œ 130,000 ä¸ªæµ‹è¯•æ ·æœ¬ï¼Œè€Œææ€§æ•°æ®é›†åˆ™åŒ…å« 1,800,000 ä¸ªè®­ç»ƒæ ·æœ¬å’Œ 200,00 ä¸ªæµ‹è¯•æ ·æœ¬ã€‚</p><p>Table 4åˆ—å‡ºäº†æˆ‘ä»¬ä»è¿™äº›æ•°æ®é›†ä¸­è·å¾—çš„æ‰€æœ‰é€‚ç”¨ä¸æ¨¡å‹çš„æµ‹è¯•é”™è¯¯ã€‚è¯·æ³¨æ„ï¼Œç”±äºæˆ‘ä»¬æ²¡æœ‰ä¸­æ–‡è¯åº“ï¼Œå› æ­¤ä½¿ç”¨æœç‹—æ•°æ®é›†å¹¶æ²¡æœ‰ä½¿ç”¨æ•°æ®å¢å¼ºã€‚æˆ‘ä»¬å°†æœ€ä½³ç»“æœæ ‡è®°ä¸ºè“è‰²ï¼Œå°†è¾ƒå·®ç»“æœæ ‡è®°ä¸ºçº¢è‰²ã€‚</p><h2 id="5-discussion"><a class="markdownIt-Anchor" href="#5-discussion"></a> 5. Discussion</h2><p><img data-src="figure-3.png" alt="" /></p><p>ä¸ºäº†æ›´å¥½åœ°äº†è§£ Table 4 ä¸­çš„ç»“æœï¼Œæˆ‘ä»¬åœ¨æœ¬èŠ‚ä¸­æä¾›äº†ä¸€äº›ç»éªŒåˆ†æã€‚ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬çš„åˆ†æï¼Œæˆ‘ä»¬åœ¨Figure 3 ä¸­æä¾›äº†ç›¸å¯¹äºæ¯”è¾ƒæ¨¡å‹çš„ç›¸å¯¹è¯¯å·®ã€‚</p><p>è¿™äº›å›¾çš„æ¯ä¸€ä¸ªéƒ½æ˜¯é€šè¿‡æ¯”è¾ƒæ¨¡å‹å’Œå­—ç¬¦çº§åˆ« ConvNets æ¨¡å‹çš„è¯¯å·®ä¹‹é—´çš„å·®æ¥è®¡ç®—çš„ï¼Œç„¶åé™¤ä»¥æ¯”è¾ƒæ¨¡å‹è¯¯å·®ã€‚å›¾ä¸­çš„æ‰€æœ‰ ConvNets éƒ½æ˜¯å¸¦æœ‰è¯åº“æ•°æ®å¢å¼ºçš„å¤§å‹æ¨¡å‹ã€‚</p><p><strong>å­—ç¬¦çº§åˆ« ConvNets æ˜¯ä¸€ä¸ªé«˜æ•ˆçš„æ–¹æ³•</strong>ã€‚æˆ‘ä»¬å®éªŒä¸­çš„æœ€é‡è¦çš„ç»“è®ºæ˜¯ï¼Œå­—ç¬¦çº§åˆ«çš„ ConvNets å¯ä»¥ä¸éœ€è¦å•è¯çš„æƒ…å†µä¸‹è¿›è¡Œæ–‡æœ¬åˆ†æã€‚è¿™æœ‰åŠ›åœ°è¯æ˜äº†ï¼Œè¯­è¨€ä¹Ÿå¯ä»¥è¢«è§†ä¸ºä¸ä»»ä½•å…¶ä»–ç§ç±»ç±»ä¼¼çš„ä¿¡å·ã€‚</p><p>**æ•°æ®é›†å¤§å°åœ¨ä¼ ç»Ÿæ¨¡å‹ä¸ ConvNets æ¨¡å‹ä¹‹é—´é€šå¸¸å·®å¼‚æ˜æ˜¾ã€‚**ä» Figure 3 ä¸­å¯ä»¥æ˜æ˜¾çœ‹å‡ºï¼Œè¾ƒå¤§çš„æ•°æ®é›†å¾€å¾€è¡¨ç°æ›´å¥½ã€‚åƒ n-grams TFIDF è¿™æ ·çš„ä¼ ç»Ÿæ–¹æ³•èè‹’æ˜¯å¤šè¾¾å‡ åä¸‡ä¸ªæ ·æœ¬è§„æ¨¡æ•°æ®é›†çš„å¼ºå¤§å€™é€‰è€…ï¼Œè€Œå­—ç¬¦çº§åˆ« ConvNets åªæœ‰åœ¨æ•°æ®é›†è§„æ¨¡åˆ°è¾¾å‡ ç™¾ä¸‡ä¸ªæ ·æœ¬è§„æ¨¡æ—¶ï¼Œæˆ‘ä»¬æ‰èƒ½çœ‹åˆ°å®ƒè¾ƒå¥½çš„è¡¨ç°ã€‚</p><p>**ConvNets å¯ä»¥å¾ˆå¥½åœ°å¤„ç†ç”¨æˆ·ç”Ÿæˆçš„æ•°æ®ã€‚**ç”¨æˆ·ç”Ÿæˆæ•°æ®çš„æ–‡å­—ç¼–æ’ç¨‹åº¦ä¸åŒã€‚ä¾‹å¦‚ï¼Œåœ¨æˆ‘ä»¬çš„ç™¾ä¸‡ä¸ªæ•°æ®é›†å²ï¼Œäºšé©¬é€Šè¯„è®ºæ•°æ®é›†ä¸­å¾€å¾€æ˜¯åŸå§‹çš„ç”¨æˆ·è¾“å…¥ï¼Œè€Œç”¨æˆ·å¯èƒ½ä¼šæ ¼å¤–æ³¨æ„ä»–ä»¬åœ¨ Yahoo! ä¸Šçš„å†™çš„è¯„è®ºå›ç­”ã€‚æ¯”è¾ƒåŸºäºå•è¯çš„æ·±åº¦æ¨¡å‹ï¼ˆFigure 3, c,d,eï¼‰çš„å›¾è¡¨è¡¨æ˜ï¼Œå­—ç¬¦çº§åˆ« ConvNets å¯ä»¥æ›´å¥½åœ°å¤„ç†è¾ƒå°‘ç¼–æ’çš„ç”¨æˆ·ç”Ÿæˆçš„æ–‡æœ¬ã€‚æ­¤å±æ€§è¡¨æ˜ ConvNets å¯ä»¥å¯¹ç°å®æƒ…å†µå…·æœ‰æ›´å¥½çš„é€‚ç”¨æ€§ã€‚ä½†æ˜¯ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„åˆ†ææ¥éªŒè¯ ConvNets ç¡®å®æ“…é•¿äºè¯†åˆ«é¢å¤–çš„å­—ç¬¦ç»„åˆï¼ˆä¾‹å¦‚æ‹¼å†™é”™è¯¯å’Œè¡¨æƒ…ç¬¦å·ï¼‰çš„å‡è®¾ï¼Œå› ä¸ºä»…æˆ‘ä»¬çš„å®éªŒå¹¶æœªæ˜¾ç¤ºä»»ä½•æ˜ç¡®çš„è¯æ®ã€‚</p><p><strong>æ ¹æ®å­—æ¯è¡¨çš„é€‰æ‹©æœ‰ä¼šä¸åŒçš„ç»“æœã€‚</strong> Figure 3è¡¨æ˜ï¼Œä½¿ç”¨åŒºåˆ†å­—æ¯å¤§å°å†™çš„å­—æ¯è¡¨ï¼Œå¯èƒ½ä¼šæœ‰ä¸åŒçš„ç»“æœã€‚å¯¹äºç™¾ä¸‡è§„æ¨¡çš„æ•°æ®é›†ï¼Œé€šå¸¸ä¸åšè¿™ç§åŒºåˆ†ä¼šæ›´å¥½ã€‚ä¸€ç§å¯èƒ½çš„è§£é‡Šæ˜¯å­˜åœ¨æ­£åˆ™åŒ–æ•ˆåº”ï¼Œä½†è¿™æ˜¯æœ‰å¾…éªŒè¯çš„ã€‚</p><p>**ä»»åŠ¡çš„è¯­ä¹‰å¯èƒ½å¹¶ä¸é‡è¦ã€‚**æˆ‘ä»¬çš„æ•°æ®é›†åŒ…æ‹¬ä¸¤ç§ä»»åŠ¡ï¼šæƒ…æ„Ÿåˆ†æï¼ˆYelp å’Œ Amazon è¯„è®ºï¼‰å’Œä¸»é¢˜åˆ†ç±»ï¼ˆæ‰€æœ‰å…¶ä»–ä»»åŠ¡ï¼‰ã€‚ä»»åŠ¡è¯­ä¹‰ä¸Šçš„è¿™ç§äºŒåˆ†æ³•ä¼¼ä¹åœ¨å†³å®šå“ªç§æ–¹æ³•æ›´å¥½æ—¶ä¸èµ·ä½œç”¨ã€‚</p><p>**Bag-of-means æ˜¯å¯¹ word2vec çš„æ»¥ç”¨<sup class="footnote-ref"><a href="#fn28" id="fnref28">[28]</a></sup>ã€‚**ä» Table 4 å’Œ Figure 3a ä¸­å¯ä»¥è§‚å¯Ÿåˆ°æœ€æ˜æ˜¾çš„äº‹å®ä¹‹ä¸€æ˜¯ï¼Œbag-of-means æ¨¡å‹åœ¨æ¯ç§æƒ…å†µä¸‹çš„æ€§èƒ½è¾ƒå·®ã€‚ä¸ä¼ ç»Ÿæ¨¡å‹ç›¸æ¯”ï¼Œè¿™è¡¨æ˜åˆ†å¸ƒå¼å•è¯è¡¨ç¤ºçš„è¿™ç§ç®€å•ä½¿ç”¨å¯èƒ½æ— æ³•ä¸ºæˆ‘ä»¬æä¾›æ–‡æœ¬åˆ†ç±»çš„ä¼˜åŠ¿ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬çš„å®éªŒå¹¶ä¸ä»£è¡¨ä»»ä½•å…¶ä»–è¯­è¨€å¤„ç†ä»»åŠ¡æˆ–ä»¥ä»»ä½•å…¶ä»–æ–¹å¼ä½¿ç”¨ word2vecã€‚</p><p>**å¤©ä¸‹æ²¡æœ‰å…è´¹çš„åˆé¤ã€‚**æˆ‘ä»¬çš„å®éªŒå†æ¬¡éªŒè¯äº†æ²¡æœ‰ä¸€ä¸ªé€‚ç”¨äºæ‰€æœ‰æ•°æ®é›†çš„æœºå™¨å­¦ä¹ æ¨¡å‹ã€‚æœ¬èŠ‚ä¸­è®¨è®ºçš„å› ç´ éƒ½å¯ä»¥åœ¨å†³å®šå“ªç§æ–¹æ³•æœ€åˆé€‚æŸäº›ç‰¹å®šåº”ç”¨çš„è¿‡ç¨‹ä¸­å‘æŒ¥ä½œç”¨ã€‚</p><h2 id="6-conclusion-and-outlook"><a class="markdownIt-Anchor" href="#6-conclusion-and-outlook"></a> 6. Conclusion and Outlook</h2><p>æœ¬æ–‡æä¾›äº†é’ˆå¯¹æ–‡æœ¬åˆ†ç±»çš„å­—ç¬¦çº§åˆ«åˆ†ç±»å·ç§¯ç½‘ç»œçš„å®è¯ç ”ç©¶ã€‚æˆ‘ä»¬ä½¿ç”¨äº†å‡ ä¸ªå¤§å‹æ•°æ®é›†ï¼Œå¹¶ä½¿ç”¨è®¸å¤šä¼ ç»Ÿæ¨¡å‹å’Œæ·±åº¦å­¦ä¹ æ¨¡å‹è¿›è¡Œäº†æ¯”è¾ƒã€‚ä¸€æ–¹é¢ï¼Œåˆ†æè¡¨æ˜å­—ç¬¦çº§åˆ«çš„ ConvNet æ˜¯ä¸€ç§æœ‰æ•ˆçš„æ–¹æ³•ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬çš„æ¨¡å‹åœ¨æ¯”è¾ƒå®éªŒä¸­çš„è¡¨ç°æ•ˆæœå–å†³äºè®¸å¤šå› ç´ ï¼Œä¾‹å¦‚æ•°æ®é›†çš„å¤§å°ï¼Œæ–‡æœ¬æ˜¯å¦ç»è¿‡æ•´ç†ä»¥åŠå­—æ¯è¡¨çš„é€‰æ‹©ã€‚</p><p>å°†æ¥ï¼Œæˆ‘ä»¬å¸Œæœ›å°†å­—ç¬¦çº§åˆ«çš„ ConvNets åº”ç”¨åˆ°æ›´å¹¿æ³›çš„è¯­è¨€å¤„ç†ä»»åŠ¡ä¸­ï¼Œå°¤å…¶æ˜¯åœ¨éœ€è¦ç»“æ„åŒ–è¾“å‡ºçš„åº”ç”¨åœºæ™¯ä¸­ã€‚</p><h2 id="acknowledgement"><a class="markdownIt-Anchor" href="#acknowledgement"></a> Acknowledgement</h2><p>æˆ‘ä»¬è¡·å¿ƒæ„Ÿè°¢ NVIDIA Corporation çš„æèµ ï¼Œå…¶ä¸­åŒ…æ‹¬æèµ äº†2 ä¸ªç”¨äºè¯¥ç ”ç©¶çš„ Tesla K40 GPUã€‚ æˆ‘ä»¬éå¸¸æ„Ÿè°¢ <a href="http://Amazon.com">Amazon.com</a> Inc æ”¯æŒç”¨äºè¿™é¡¹ç ”ç©¶çš„ AWS in Education Research è¡¥åŠ©é‡‘ã€‚</p><h2 id="references"><a class="markdownIt-Anchor" href="#references"></a> References</h2><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>T. Joachims. Text categorization with suport vector machines: Learning with many relevant features. In Proceedings of the 10th European Conference on Machine Learning, pages 137â€“142. Springer-Verlag, 1998. <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>Y. LeCun, B. Boser, J. S. Denker, D. Henderson, R. E. Howard, W. Hubbard, and L. D. Jackel. Backpropagation applied to handwritten zip code recognition. Neural Computation, 1(4):541â€“551, Winter 1989. <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p>Y. LeCun, L. Bottou, Y. Bengio, and P. Haffner. Gradient-based learning applied to document recognition. Proceedings of the IEEE, 86(11):2278â€“2324, November 1998. <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li><li id="fn4" class="footnote-item"><p>L. Bottou, F. Fogelman SoulieÌ, P. Blanchet, and J. Lienard. Experiments with time delay networks and dynamic time warping for speaker independent isolated digit recognition. In Proceedings of EuroSpeech 89, volume 2, pages 537â€“540, Paris, France, 1989. <a href="#fnref4" class="footnote-backref">â†©ï¸</a></p></li><li id="fn5" class="footnote-item"><p>A. Waibel, T. Hanazawa, G. Hinton, K. Shikano, and K. J. Lang. Phoneme recognition using time-delay neural networks. Acoustics, Speech and Signal Processing, IEEE Transactions on, 37(3):328â€“339, 1989. <a href="#fnref5" class="footnote-backref">â†©ï¸</a></p></li><li id="fn6" class="footnote-item"><p>C. dos Santos and M. Gatti. Deep convolutional neural networks for sentiment analysis of short texts. In Proceedings of COLING 2014, the 25th International Conference on Computational Linguistics: Technical Papers, pages 69â€“78, Dublin, Ireland, August 2014. Dublin City University and Association for Computational Linguistics. <a href="#fnref6" class="footnote-backref">â†©ï¸</a></p></li><li id="fn7" class="footnote-item"><p>Y. Kim. Convolutional neural networks for sentence classification. In Proceedings of the 2014 Conference on Empirical Methods in Natural Language Processing (EMNLP), pages 1746â€“1751, Doha, Qatar, October 2014. Association for Computational Linguistics. <a href="#fnref7" class="footnote-backref">â†©ï¸</a> <a href="#fnref7:1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn8" class="footnote-item"><p>R. Johnson and T. Zhang. Effective use of word order for text categorization with convolutional neural networks. CoRR, abs/1412.1058, 2014. <a href="#fnref8" class="footnote-backref">â†©ï¸</a></p></li><li id="fn9" class="footnote-item"><p>I. Kanaris, K. Kanaris, I. Houvardas, and E. Stamatatos. Words versus character n-grams for anti-spam filtering. International Journal on Artificial Intelligence Tools, 16(06):1047â€“1067, 2007. <a href="#fnref9" class="footnote-backref">â†©ï¸</a></p></li><li id="fn10" class="footnote-item"><p>C. D. Santos and B. Zadrozny. Learning character-level representations for part-of-speech tagging. In Proceedings of the 31st International Conference on Machine Learning (ICML-14), pages 1818â€“1826, 2014. <a href="#fnref10" class="footnote-backref">â†©ï¸</a> <a href="#fnref10:1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn11" class="footnote-item"><p>Y. Shen, X. He, J. Gao, L. Deng, and G. Mesnil. A latent semantic model with convolutional-pooling structure for information retrieval. In Proceedings of the 23rd ACM International Conference on Conference on Information and Knowledge Management, pages 101â€“110. ACM, 2014. <a href="#fnref11" class="footnote-backref">â†©ï¸</a> <a href="#fnref11:1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn12" class="footnote-item"><p>D. Rumelhart, G. Hintont, and R. Williams. Learning representations by back-propagating errors. Nature, 323(6088):533â€“536, 1986. <a href="#fnref12" class="footnote-backref">â†©ï¸</a></p></li><li id="fn13" class="footnote-item"><p>Y.-L. Boureau, F. Bach, Y. LeCun, and J. Ponce. Learning mid-level features for recognition. In Computer Vision and Pattern Recognition (CVPR), 2010 IEEE Conference on, pages 2559â€“2566. IEEE, 2010. <a href="#fnref13" class="footnote-backref">â†©ï¸</a> <a href="#fnref13:1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn14" class="footnote-item"><p>Y.-L. Boureau, J. Ponce, and Y. LeCun. A theoretical analysis of feature pooling in visual recognition. In Proceedings of the 27th International Conference on Machine Learning (ICML-10), pages 111â€“118, 2010. <a href="#fnref14" class="footnote-backref">â†©ï¸</a></p></li><li id="fn15" class="footnote-item"><p>V. Nair and G. E. Hinton. Rectified linear units improve restricted boltzmann machines. In Proceedings of the 27th International Conference on Machine Learning (ICML-10), pages 807â€“814, 2010. <a href="#fnref15" class="footnote-backref">â†©ï¸</a></p></li><li id="fn16" class="footnote-item"><p>R. Collobert, K. Kavukcuoglu, and C. Farabet. Torch7: A matlab-like environment for machine learning. In BigLearn, NIPS Workshop, number EPFL-CONF-192376, 2011. <a href="#fnref16" class="footnote-backref">â†©ï¸</a></p></li><li id="fn17" class="footnote-item"><p>G. E. Hinton, N. Srivastava, A. Krizhevsky, I. Sutskever, and R. R. Salakhutdinov. Improving neural networks by preventing co-adaptation of feature detectors. arXiv preprint arXiv:1207.0580, 2012. <a href="#fnref17" class="footnote-backref">â†©ï¸</a></p></li><li id="fn18" class="footnote-item"><p>C. Fellbaum. Wordnet and wordnets. In K. Brown, editor, Encyclopedia of Language and Linguistics, pages 665â€“670, Oxford, 2005. Elsevier. <a href="#fnref18" class="footnote-backref">â†©ï¸</a></p></li><li id="fn19" class="footnote-item"><p>K. S. Jones. A statistical interpretation of term specificity and its application in retrieval. Journal of Documentation, 28(1):11â€“21, 1972. <a href="#fnref19" class="footnote-backref">â†©ï¸</a></p></li><li id="fn20" class="footnote-item"><p>T. Mikolov, I. Sutskever, K. Chen, G. S. Corrado, and J. Dean. Distributed representations of words and phrases and their compositionality. In C. Burges, L. Bottou, M. Welling, Z. Ghahramani, and K. Weinberger, editors, Advances in Neural Information Processing Systems 26, pages 3111â€“3119. 2013. <a href="#fnref20" class="footnote-backref">â†©ï¸</a> <a href="#fnref20:1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn21" class="footnote-item"><p>R. Collobert, J. Weston, L. Bottou, M. Karlen, K. Kavukcuoglu, and P. Kuksa. Natural language processing (almost) from scratch. J. Mach. Learn. Res., 12:2493â€“2537, Nov. 2011. <a href="#fnref21" class="footnote-backref">â†©ï¸</a></p></li><li id="fn22" class="footnote-item"><p>A. Graves and J. Schmidhuber. Framewise phoneme classification with bidirectional lstm and other neural network architectures. Neural Networks, 18(5):602â€“610, 2005. <a href="#fnref22" class="footnote-backref">â†©ï¸</a></p></li><li id="fn23" class="footnote-item"><p>K. Greff, R. K. Srivastava, J. KoutnÄ±Ìk, B. R. Steunebrink, and J. Schmidhuber. LSTM: A search space odyssey. CoRR, abs/1503.04069, 2015. <a href="#fnref23" class="footnote-backref">â†©ï¸</a></p></li><li id="fn24" class="footnote-item"><p>D. D. Lewis, Y. Yang, T. G. Rose, and F. Li. Rcv1: A new benchmark collection for text categorization research. The Journal of Machine Learning Research, 5:361â€“397, 2004. <a href="#fnref24" class="footnote-backref">â†©ï¸</a></p></li><li id="fn25" class="footnote-item"><p>C. Wang, M. Zhang, S. Ma, and L. Ru. Automatic online news issue construction in web environment. In Proceedings of the 17th International Conference on World Wide Web, WWW â€™08, pages 457â€“466, New York, NY, USA, 2008. ACM. <a href="#fnref25" class="footnote-backref">â†©ï¸</a></p></li><li id="fn26" class="footnote-item"><p>J. Lehmann, R. Isele, M. Jakob, A. Jentzsch, D. Kontokostas, P. N. Mendes, S. Hellmann, M. Morsey, P. van Kleef, S. Auer, and C. Bizer. DBpedia - a large-scale, multilingual knowledge base extracted from wikipedia. Semantic Web Journal, 2014. <a href="#fnref26" class="footnote-backref">â†©ï¸</a></p></li><li id="fn27" class="footnote-item"><p>J. McAuley and J. Leskovec. Hidden factors and hidden topics: Understanding rating dimensions with review text. In Proceedings of the 7th ACM Conference on Recommender Systems, RecSys â€™13, pages 165â€“172, New York, NY, USA, 2013. ACM. <a href="#fnref27" class="footnote-backref">â†©ï¸</a></p></li><li id="fn28" class="footnote-item"><p>G. Lev, B. Klein, and L. Wolf. In defense of word embedding for generic text representation. In C. Biemann, S. Handschuh, A. Freitas, F. Meziane, and E. Mtais, editors, Natural Language Processing and Information Systems, volume 9103 of Lecture Notes in Computer Science, pages 35â€“50. Springer International Publishing, 2015. <a href="#fnref28" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æ–‡çŒ®ç¿»è¯‘ï¼šæ–‡æœ¬åˆ†ç±»å­—ç¬¦çº§åˆ«å·ç§¯ç½‘ç»œ&lt;br /&gt;
authors: Xiang Zhang, Junbo Zhao, Yann LeCun&lt;br /&gt;
åŸæ–‡: &lt;a href=&quot;https://arxiv.org/abs/1509.01626&quot;&gt;Character-level Convolutional Networks for Text Classification&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;abstract&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#abstract&quot;&gt;&lt;/a&gt; Abstract&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡æä¾›äº†ä½¿ç”¨å­—ç¬¦çº§å·ç§¯ç½‘ç»œï¼ˆConvNetsï¼‰è¿›è¡Œæ–‡æœ¬åˆ†ç±»çš„å®è¯ç ”ç©¶ã€‚æˆ‘ä»¬æ„å»ºäº†å‡ ä¸ªå¤§å‹æ•°æ®é›†ï¼Œä»¥è¡¨æ˜å­—ç¬¦çº§å·ç§¯ç½‘ç»œå¯ä»¥è¾¾åˆ°æœ€æ–°æ°´å¹³æˆ–ç«äº‰ç»“æœã€‚å¯ä»¥ä¸ä¼ ç»Ÿæ¨¡å‹ï¼ˆä¾‹å¦‚è¯è¢‹BoWï¼Œn-grams å…¶ TFIDF å˜ä½“ï¼‰ä»¥åŠæ·±åº¦å­¦ä¹ æ¨¡å‹ï¼ˆä¾‹å¦‚åŸºäºå•è¯çš„ ConvNets å’Œé€’å½’ç¥ç»ç½‘ç»œï¼‰è¿›è¡Œæ¯”è¾ƒã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="dissertation" scheme="http://rovo98.github.io/categories/dissertation/"/>
    
    
    <category term="paper translation" scheme="http://rovo98.github.io/tags/paper-translation/"/>
    
  </entry>
  
  <entry>
    <title>A Polynomial Algorithm for Testing Diagnosability of Discrete-Event Systems.</title>
    <link href="http://rovo98.github.io/posts/c598fb85/"/>
    <id>http://rovo98.github.io/posts/c598fb85/</id>
    <published>2020-01-09T16:00:00.000Z</published>
    <updated>2021-09-09T14:11:36.756Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ–‡çŒ®ç¿»è¯‘ï¼šä¸€ä¸ªæµ‹è¯•ç¦»æ•£äº‹ä»¶ç³»ç»Ÿå¯è¯Šæ–­æ€§çš„å¤šé¡¹å¼æ—¶é—´ç®—æ³•<br />authors: Shengbing Jiang, Zhongdong Huang, Vigyan Chandra, and Ratnesh Kumar<br />åŸæ–‡: <a href="https://ieeexplore.ieee.org/document/940942">A polynomial algorithm for testing diagnosability of discrete-event systems</a></p></blockquote><h2 id="abstract"><a class="markdownIt-Anchor" href="#abstract"></a> Abstract</h2><p>â€ƒâ€ƒå¤§å‹å¤æ‚ç³»ç»Ÿä¸­çš„é”™è¯¯è¯Šæ–­æ˜¯ä¸€é¡¹å…³é”®ä»»åŠ¡ã€‚åœ¨ç¦»æ•£äº‹ä»¶ç³»ç»Ÿï¼ˆDESï¼‰é¢†åŸŸï¼ŒSampath ç­‰äººæå‡ºäº†ä¸€ç§åŸºäºè¯­è¨€çš„é”™è¯¯è¯Šæ–­æ–¹æ³•ã€‚ä»–ä»¬ä¸ºDESå¼•å…¥å¯è¯Šæ–­æ€§æ¦‚å¿µå’Œå®šä¹‰ï¼Œå¹¶ä½¿ç”¨æ ¹æ®ç³»ç»Ÿæ„å»ºçš„è¯Šæ–­å™¨æ¥æµ‹è¯•ç³»ç»Ÿçš„å¯è¯Šæ–­æ€§ã€‚è¿™ç§æµ‹è¯•å¯è¯Šæ–­æ€§çš„æ–¹æ³•çš„å¤æ‚åº¦æ˜¯ç³»ç»ŸçŠ¶æ€æ•°çš„æŒ‡æ•°çº§åˆ«çš„ï¼Œå¯¹äºç³»ç»Ÿé”™è¯¯æ•°é‡æ˜¯åŒå€æŒ‡æ•°çº§åˆ«çš„ã€‚æœ¬æ–‡ç»™å‡ºä¸€ç§ä¸æ„å»ºç³»ç»Ÿè¯Šæ–­å™¨çš„å¯è¯Šæ–­æ€§æµ‹è¯•ç®—æ³•ï¼Œå…¶å¤æ‚åº¦åœ¨ç³»ç»ŸçŠ¶æ€æ•°ä¸Šæ˜¯å››é˜¶çš„ï¼Œåœ¨æ•…éšœç±»å‹æ•°ä¸Šæ˜¯çº¿æ€§çš„ã€‚</p><p>Index Terms: Complexity, diagnosability, discrete event system, failure diagnosis.</p><span id="more"></span><h2 id="i-introduction"><a class="markdownIt-Anchor" href="#i-introduction"></a> I. INTRODUCTION</h2><p>â€ƒâ€ƒé”™è¯¯è¯Šæ–­æ˜¯å¤§å‹å¤æ‚ç³»ç»Ÿçš„ä¸€é¡¹å…³é”®ä»»åŠ¡ã€‚è¿™ä¸ªé—®é¢˜åœ¨åŒ…æ‹¬ç¦»æ•£äº‹ä»¶ç³»ç»Ÿ<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup><sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup><sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup><sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup><sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup><sup class="footnote-ref"><a href="#fn6" id="fnref6">[6]</a></sup>åœ¨å†…çš„å„ä¸ªé¢†åŸŸçš„æ–‡çŒ®ä¸­éƒ½å¾—åˆ°äº†ç›¸å½“å¤šçš„å…³æ³¨ã€‚åœ¨<sup class="footnote-ref"><a href="#fn4" id="fnref4:1">[4:1]</a></sup>ä¸­ï¼ŒSampathç­‰äººæå‡ºäº†ä¸€ç§ç¦»æ•£äº‹ä»¶ç³»ç»Ÿçš„é”™è¯¯è¯Šæ–­æ–¹æ³•ã€‚ä»–ä»¬æå‡ºäº†å¯è¯Šæ–­æ€§çš„æ¦‚å¿µï¼Œå¹¶ç»™å‡ºäº†æµ‹è¯•å¯è¯Šæ–­æ€§çš„å……åˆ†å¿…è¦æ¡ä»¶ã€‚ä»–ä»¬å°†æ¡ä»¶è¡¨ç¤ºä¸ºè¯Šæ–­å™¨çš„ä¸€ä¸ªå±æ€§ã€‚ä¸ºäº†æµ‹è¯•ç³»ç»Ÿå¯è¯Šæ–­æ€§ï¼Œé¦–å…ˆéœ€è¦æ„é€ è¯Šæ–­å™¨ã€‚æ„é€ è¯Šæ–­å™¨å’Œæµ‹è¯•å¯è¯Šæ–­æ€§çš„å¤æ‚åº¦æ˜¯ç³»ç»ŸçŠ¶æ€æ•°çš„æŒ‡æ•°çº§åˆ«çš„ï¼Œå¯¹äºé”™è¯¯äº‹ä»¶æ•°æ˜¯åŒå€æŒ‡æ•°çº§åˆ«çš„ã€‚</p><p>â€ƒâ€ƒæ˜¾ç„¶ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¤Ÿä¸æ„å»ºè¯Šæ–­å™¨çš„æƒ…å†µä¸‹ï¼Œæ¥æµ‹è¯•ç›®æ ‡ç³»ç»Ÿçš„å¯è¯Šæ–­æ€§ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å¯ä»¥èŠ‚çœä¸ºä¸å¯è¯Šæ–­ç³»ç»Ÿæ„å»ºè¯Šæ–­å™¨çš„æ—¶é—´ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ç»™å‡ºä¸€ç§æ— éœ€æ„é€ è¯Šæ–­å™¨å³å¯æµ‹è¯•å¯è¯Šæ–­æ€§çš„æ–¹æ³•ã€‚è¯¥æ–¹æ³•çš„å¤æ‚åº¦æ˜¯ç³»ç»ŸçŠ¶æ€æ•°é‡å’Œé”™è¯¯äº‹ä»¶æ•°é‡çš„å¤šé¡¹å¼ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é¦–å…ˆä»‹ç»ç¦»æ•£äº‹ä»¶ç³»ç»Ÿçš„å¯è¯Šæ–­æ€§æ¦‚å¿µï¼Œç„¶åä»‹ç»æˆ‘ä»¬çš„æµ‹è¯•ç®—æ³•ï¼Œæœ€åï¼Œç»™å‡ºä¸€ä¸ªè¯´æ˜æ€§çš„ä¾‹å­ã€‚</p><h2 id="ii-diagnosability"><a class="markdownIt-Anchor" href="#ii-diagnosability"></a> II. DIAGNOSABILITY</h2><p>æˆ‘ä»¬é¦–å…ˆç»™å‡ºç³»ç»Ÿæ¨¡å‹ï¼Œç„¶åä»‹ç»ç”±<sup class="footnote-ref"><a href="#fn4" id="fnref4:2">[4:2]</a></sup>æå‡ºçš„å¯è¯Šæ–­æ€§å®šä¹‰ã€‚</p><h3 id="a-system-model"><a class="markdownIt-Anchor" href="#a-system-model"></a> A. System model</h3><p>â€ƒâ€ƒä»¤<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi mathvariant="normal">Î£</mi><mo separator="true">,</mo><mi>Î´</mi><mo separator="true">,</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G = (X,\Sigma,\delta,x_0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">Î£</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>æ˜¯å¾…è¯Šæ–­ç³»ç»Ÿçš„æœ‰é™çŠ¶æ€æœºæ¨¡å‹ï¼Œå…¶ä¸­</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span>                         æ˜¯ä¸€ä¸ªçŠ¶æ€æœ‰é™é›†</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î£</span></span></span></span>                          æ˜¯ä¸€ä¸ªäº‹ä»¶æ ‡ç­¾çš„æœ‰é™é›†</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î´</mi><mo>âŠ†</mo><mi>X</mi><mo>Ã—</mo><mi mathvariant="normal">Î£</mi><mo>Ã—</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">\delta\subseteq X\times\Sigma\times X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83041em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âŠ†</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord">Î£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span> æ˜¯çŠ¶æ€è½¬ç§»æœ‰é™é›†</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>âˆˆ</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">x_0\in X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span>                æ˜¯ç³»ç»Ÿçš„åˆå§‹çŠ¶æ€</li></ul><p>æˆ‘ä»¬å‡è®¾æ‰€æœ‰çŠ¶æ€è‡ªåŠ¨æœºæ˜¯å¯è¾¾çš„ï¼ˆaccessibleï¼Œæ‰€æœ‰çŠ¶æ€å¯ä»¥ä»åˆå§‹çŠ¶æ€å‡ºå‘ï¼Œç»è‹¥å¹²è½¬ç§»ååˆ°è¾¾ï¼‰ï¼Œå¦åˆ™æˆ‘ä»¬åªè€ƒè™‘çŠ¶æ€è‡ªåŠ¨æœºä¸­çš„å¯è¾¾éƒ¨åˆ†ã€‚<br />æˆ‘ä»¬ç”¨$$\Sigma<sup>*$$è¡¨ç¤ºåŒ…å«æ‰€æœ‰æœ‰é™é•¿åº¦äº‹ä»¶åºåˆ—çš„é›†åˆï¼Œå…¶ä¸­åŒ…æ‹¬ç©ºåº$$\varepsilon$$ã€‚æŠŠ$$\Sigma</sup><em>$$é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ç§°ä¸ºä¸²ï¼ˆtraceï¼‰ï¼Œç”¨$$\Sigma^</em>$$çš„å­é›†è¡¨ç¤ºè¯­è¨€ï¼ˆlanguageï¼‰ã€‚<br />å¯¹äºä¸€ä¸ªä¸²$$s$$å’Œäº‹ä»¶$$\sigma$$ï¼Œæˆ‘ä»¬ç”¨$$\sigma\in s$$è¡¨ç¤ºäº‹ä»¶$$\sigma$$åŒ…å«äºä¸²$$s$$ä¸­ï¼Œå³ä¸²$$s$$å‘ç”Ÿäº†äº‹ä»¶$$\sigma$$ã€‚ç³»ç»Ÿ$$G$$ä¸­çš„ä¸€ä¸ªè·¯å¾„ï¼ˆpathï¼‰æ˜¯ä¸€ä¸ªçŠ¶æ€è½¬ç§»åºåˆ—$$(x_1,\delta_1,x_2,â€¦,\delta_{n-1},x_n)$$ï¼Œå…¶ä¸­å¯¹äºæ¯ä¸ª$$i\in {1,â€¦,n-1},(x_i,\delta_i,x_{i+1})\in \delta$$ï¼Œå¦‚æœ$$x_n=x_1$$ï¼Œåˆ™è¡¨ç¤ºè¯¥è·¯å¾„æ˜¯ä¸€ä¸ªç¯ï¼ˆcycleï¼‰ã€‚æˆ‘ä»¬ç”¨$$L(G)\subseteq\Sigma^<em>$$æ¥æè¿°ç³»ç»Ÿ$$G$$çš„ç”Ÿæˆè¯­è¨€ï¼Œå³ç³»ç»Ÿ$$G$$ä»åˆå§‹çŠ¶æ€å¼€å§‹èƒ½å¤Ÿæ‰§è¡Œçš„ä¸²çš„é›†åˆã€‚åŒæ—¶å‡è®¾$$L(G)$$æ˜¯å‰ç¼€é—­åˆï¼ˆprefix-closedï¼‰çš„ï¼Œå³$$L(G)=pr(L(G))$$ï¼Œå…¶ä¸­$$pr(L(G))={u|\exists v\in\Sigma^</em>, uv\in L(G)}$$æ˜¯ä¸€ä¸ªç”±æ‰€æœ‰$$L(G)$$ä¸­çš„ä¸²çš„å‰ç¼€ç»„æˆçš„é›†åˆã€‚ç”¨$$\Sigma_o\subseteq\Sigma$$è¡¨ç¤ºç³»ç»Ÿçš„å¯è§‚äº‹ä»¶é›†ï¼Œ$$\Sigma_{uo}=\Sigma - \Sigma_o$$è¡¨ç¤ºä¸å¯è§‚äº‹ä»¶é›†ï¼Œ$$M:\Sigma\to \Sigma_o\cup {\varepsilon}$$è¡¨ç¤ºä¸€ä¸ªè§‚å¯Ÿæ˜ å°„å‡½æ•°ï¼Œ$$F={F_i,i=1,2,â€¦,m}$$è¡¨ç¤ºé”™è¯¯ç±»å‹çš„é›†åˆï¼Œ$$\psi:\Sigma\to F\cup{\emptyset}$$è¡¨ç¤ºä¸€ä¸ªä¸º$$\Sigma$$ä¸­æ¯ä¸ªäº‹ä»¶é”™è¯¯åˆ†é…çš„å‡½æ•°ï¼ˆfailure assignment functionï¼‰ã€‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>çš„å®šä¹‰é€šå¸¸ä»<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î£</span></span></span></span>æ‰©å±•åˆ°$$\Sigma^<em>$$ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi><mo stretchy="false">(</mo><mi>Îµ</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Îµ</mi></mrow><annotation encoding="application/x-tex">M(\varepsilon)=\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault">Îµ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">Îµ</span></span></span></span>ï¼Œå¹¶ä¸”å¯¹äºæ¯ä¸€ä¸ªä¸²$$s\in \Sigma^</em>, \sigma\in\Sigma:M(s\sigma)=M(s)M(\sigma)$$ã€‚</p><p>å¯¹äºæœ¬æ–‡ç ”ç©¶çš„ç³»ç»Ÿï¼Œå’Œ<sup class="footnote-ref"><a href="#fn4" id="fnref4:3">[4:3]</a></sup>ä¸€æ ·ï¼Œæˆ‘ä»¬ä½œå‡ºä»¥ä¸‹å‡è®¾ï¼š</p><ul><li>A1) ç³»ç»Ÿ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>çš„ç”Ÿæˆè¯­è¨€æ˜¯æ´»è¯­è¨€ï¼ˆlive languageï¼‰ã€‚è¿™æ„å‘³ç€ç³»ç»Ÿä¸­çš„æ¯ä¸€ä¸ªçŠ¶æ€å‡å®šä¹‰ç›¸åº”çš„çŠ¶æ€è½¬ç§»ã€‚</li><li>A2) ç³»ç»Ÿ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>ä¸­ä¸å­˜åœ¨ä¸å¯è§‚äº‹ä»¶çš„ç¯ã€‚</li><li>A3) æ‰€æœ‰é”™è¯¯äº‹ä»¶å‡æ˜¯ä¸å¯è§‚çš„ï¼Œå³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ€</mi><mi>Ïƒ</mi><mo>âˆˆ</mo><mi mathvariant="normal">Î£</mi><mo separator="true">,</mo><mi>Ïˆ</mi><mo stretchy="false">(</mo><mi>Ïƒ</mi><mo stretchy="false">)</mo><mi mathvariant="normal">â‰ </mi><mi mathvariant="normal">âˆ…</mi><mo stretchy="false">)</mo><mo>â‡’</mo><mi>M</mi><mo stretchy="false">(</mo><mi>Ïƒ</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Îµ</mi></mrow><annotation encoding="application/x-tex">(\forall\sigma\in\Sigma,\psi(\sigma)\neq\emptyset)\Rightarrow M(\sigma)=\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ€</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Î£</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïˆ</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ…</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‡’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">Îµ</span></span></span></span>ã€‚</li></ul><h3 id="b-diagnosability"><a class="markdownIt-Anchor" href="#b-diagnosability"></a> B. Diagnosability</h3><p>ç¦»æ•£äº‹ä»¶ç³»ç»Ÿçš„å¯è¯Šæ–­æ€§<sup class="footnote-ref"><a href="#fn4" id="fnref4:4">[4:4]</a></sup>å®šä¹‰æè¿°å¦‚ä¸‹ï¼š</p><p><strong>Definition 1:</strong> ä¸€ä¸ªå‰ç¼€å°é—­è¯­è¨€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>å…³äºè§‚å¯Ÿæ˜ å°„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>å’Œé”™è¯¯åˆ†é…å‡½æ•°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ïˆ</mi></mrow><annotation encoding="application/x-tex">\psi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïˆ</span></span></span></span>æ˜¯å¯è¯Šæ–­çš„å½“ï¼š</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ€</mi><msub><mi>F</mi><mi>i</mi></msub><mo>âˆˆ</mo><mi>F</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆƒ</mi><msub><mi>n</mi><mi>i</mi></msub><mo>âˆˆ</mo><mi>N</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ€</mi><mi>s</mi><mo>âˆˆ</mo><mi>L</mi><mo separator="true">,</mo><mi>Ïˆ</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>f</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>F</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ€</mi><mi>v</mi><mo>=</mo><mi>s</mi><mi>t</mi><mo>âˆˆ</mo><mi>L</mi><mo separator="true">,</mo><mo stretchy="false">âˆ¥</mo><mi>t</mi><mo stretchy="false">âˆ¥</mo><mo>â‰¥</mo><msub><mi>n</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>â‡’</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ€</mi><mi>w</mi><mo>âˆˆ</mo><mi>L</mi><mo separator="true">,</mo><mi>M</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mo>=</mo><mi>M</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆƒ</mi><mi>u</mi><mo>âˆˆ</mo><mi>p</mi><mi>r</mi><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>w</mi><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>Ïˆ</mi><mo stretchy="false">(</mo><msub><mi>u</mi><mi>f</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>F</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\forall F_i\in F)(\exists n_i\in N)(\forall s\in L, \psi(s_f)=F_i) \\(\forall v = st \in L, \lVert t\rVert \ge n_i) \\\Rightarrow(\forall w\in L, M(w)=M(v))(\exists u\in pr(\{w\}),\psi(u_f)=F_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ€</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">âˆƒ</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">âˆ€</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïˆ</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ€</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.65418em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">âˆ¥</span><span class="mord mathdefault">t</span><span class="mclose">âˆ¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">â‡’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ€</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">âˆƒ</span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mclose">}</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïˆ</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>å…¶ä¸­<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">s_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>u</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">u_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>åˆ†åˆ«è¡¨ç¤ºä¸²<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>å’Œä¸²<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span></span></span></span>çš„æœ€åä¸€ä¸ªäº‹ä»¶ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mi>r</mi><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mi>w</mi><mo stretchy="false">}</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">pr(\{w\})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mclose">}</span><span class="mclose">)</span></span></span></span>æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span>æ‰€æœ‰å‰ç¼€ç»„æˆçš„é›†åˆã€‚å¦‚æœç³»ç»Ÿ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>çš„ç”Ÿæˆè¯­è¨€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(G)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span></span></span></span>æ˜¯å¯è¯Šæ–­çš„ï¼Œåˆ™è¯¥ç³»ç»Ÿæ˜¯å¯è¯Šæ–­çš„ã€‚</p><p>æ ¹æ®ä¸Šé¢å®šä¹‰ï¼Œè‹¥<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>ä¸­ä¸€ä¸ªä»¥<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">F_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>é”™è¯¯äº‹ä»¶ç»“å°¾çš„ä¸²ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span>æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>çš„ä»»æ„ä¸€ä¸ªå……åˆ†é•¿åç¼€ï¼Œåˆ™ä»»æ„ä¸€ä¸ª<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>ä¸­ä¸<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span>æ‹¥æœ‰ç›¸åŒè§‚å¯Ÿåºåˆ—çš„çš„ä¸²<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span>ï¼Œå³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mo>=</mo><mi>M</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">M(w)=M(v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span>ï¼Œä¸²<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span>ä¸­ä¸€å®šåŒ…å«é”™è¯¯äº‹ä»¶<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">F_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p><h2 id="iii-algorithm"><a class="markdownIt-Anchor" href="#iii-algorithm"></a> III. ALGORITHM</h2><p>æˆ‘ä»¬ç°åœ¨å±•ç¤ºæµ‹è¯•å¯è¯Šæ–­æ€§çš„ç®—æ³•ã€‚</p><p><strong>Algorithm 1:</strong> å¯¹äºç»™å®šç³»ç»Ÿ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi mathvariant="normal">Î£</mi><mo separator="true">,</mo><mi>Î´</mi><mo separator="true">,</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G=(X,\Sigma, \delta, x_0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">Î£</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œä¸€ä¸ªè§‚å¯Ÿæ˜ å°„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>å’Œä¸€ä¸ªé”™è¯¯åˆ†é…å‡½æ•°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ïˆ</mi></mrow><annotation encoding="application/x-tex">\psi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïˆ</span></span></span></span>ï¼Œåšä»¥ä¸‹æ“ä½œï¼š</p><ul><li><ol><li>è·å–ä¸€ä¸ªéç¡®å®šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆnondeterministic finite-state machineï¼‰<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>X</mi><mi>o</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub><mo separator="true">,</mo><msub><mi>Î´</mi><mi>o</mi></msub><mo separator="true">,</mo><msubsup><mi>x</mi><mn>0</mn><mi>o</mi></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G_o = (X_o,\Sigma_o,\delta_o,x^o_0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œå…¶ä¸­è¯­è¨€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><msub><mi>G</mi><mi>o</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>M</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(G_o)=M(L(G))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>ï¼š</li></ol><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>X</mi><mi>o</mi></msub><mo>=</mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ£</mi><mi>x</mi><mo>âˆˆ</mo><msub><mi>X</mi><mn>1</mn></msub><mo>âˆª</mo><mo stretchy="false">{</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">}</mo><mo separator="true">,</mo><mi>f</mi><mo>âŠ†</mo><mi>F</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">X_o = \{(x,f)|x\in X_1\cup\{x_0\},f\subseteq F\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mord">âˆ£</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆª</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âŠ†</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mclose">}</span></span></span></span>æ˜¯è‡ªåŠ¨æœºçš„æœ‰é™çŠ¶æ€é›†ï¼Œå…¶ä¸­<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mo>=</mo><mo stretchy="false">{</mo><mi>x</mi><mo>âˆˆ</mo><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆƒ</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mo mathvariant="normal">â€²</mo></msup><mo separator="true">,</mo><mi>Ïƒ</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>âˆˆ</mo><mi>Î´</mi><mi mathvariant="normal">ä¸”</mi><mi>M</mi><mo stretchy="false">(</mo><mi>Ïƒ</mi><mo stretchy="false">)</mo><mi mathvariant="normal">â‰ </mi><mi>Îµ</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">X_1=\{x\in X|\exists(x&#x27;,\sigma,x)\in\delta ä¸” M(\sigma)\neq\varepsilon\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mord">âˆƒ</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="mord cjk_fallback">ä¸”</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">Îµ</span><span class="mclose">}</span></span></span></span>æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>èƒ½é€šè¿‡å¯è§‚åºåˆ—è½¬ç§»åˆ°è¾¾çš„çŠ¶æ€ç»„æˆçš„é›†åˆï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span>æ˜¯ä¸€ä¸ªä»<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">x_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>åˆ°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>çš„è·¯å¾„çš„é”™è¯¯ç±»å‹ã€‚</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯å¯è§‚äº‹ä»¶é›†ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„äº‹ä»¶æ ‡ç­¾é›†åˆã€‚</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Î´</mi><mi>o</mi></msub><mo>âŠ†</mo><msub><mi>X</mi><mi>o</mi></msub><mo>Ã—</mo><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub><mo>Ã—</mo><msub><mi>X</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">\delta_o\subseteq X_o\times\Sigma_o\times X_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âŠ†</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯çŠ¶æ€è½¬ç§»é›†ã€‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>Î´</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msup><mi>x</mi><mo mathvariant="normal">â€²</mo></msup><mo separator="true">,</mo><msup><mi>f</mi><mo mathvariant="normal">â€²</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>âˆˆ</mo><msub><mi>Î´</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">((x,f),\delta,(x&#x27;,f&#x27;))\in \delta_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å½“ä¸”ä»…å½“å¯¹äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ€</mi><mi>i</mi><mo>âˆˆ</mo><mo stretchy="false">{</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mi>M</mi><mo stretchy="false">(</mo><msub><mi>Ïƒ</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>Îµ</mi><mo separator="true">,</mo><mi>M</mi><mo stretchy="false">(</mo><mi>Ïƒ</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">\forall i \in \{1,2,...,n\}, M(\sigma_i)=\varepsilon, M(\sigma)=\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord">âˆ€</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">Îµ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span></span></span></span>ä¸”<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>f</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><mo stretchy="false">{</mo><mi>Ïˆ</mi><mo stretchy="false">(</mo><msub><mi>Ïƒ</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ£</mi><mi>Ïˆ</mi><mo stretchy="false">(</mo><msub><mi>Ïƒ</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">â‰ </mi><mi mathvariant="normal">âˆ…</mi><mo separator="true">,</mo><mn>1</mn><mo>â‰¤</mo><mi>i</mi><mo>â‰¤</mo><mi>n</mi><mo stretchy="false">}</mo><mo>âˆª</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">f&#x27;=\{\psi(\sigma_i)|\psi(\sigma_i)\neq\emptyset, 1\leq i\leq n\}\cup f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.946332em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïˆ</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïˆ</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.94444em;vertical-align:-0.19444em;"></span><span class="mord">âˆ…</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79549em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆª</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span>ï¼Œç³»ç»Ÿ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>ä¸­å­˜åœ¨è¿™æ ·ä¸€ä¸ªè·¯å¾„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo separator="true">,</mo><mi>Ïƒ</mi><mo separator="true">,</mo><msup><mi>x</mi><mo mathvariant="normal">â€²</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>n</mi><mo>â‰¥</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,\sigma_1,x_1,...,\sigma_n,x_n,\sigma,x&#x27;)(n\geq 0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span>ã€‚</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>x</mi><mn>0</mn><mi>o</mi></msubsup><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">âˆ…</mi><mo stretchy="false">)</mo><mo>âˆˆ</mo><msub><mi>X</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">x^o_0=(x_0,\emptyset)\in X_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9125em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">âˆ…</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„åˆå§‹çŠ¶æ€ã€‚</li></ul></li><li><ol start="2"><li>è®¡ç®—<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>G</mi><mi>o</mi></msub><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><msub><mi>G</mi><mi>o</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G_d=(G_o||G_o)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œå³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸å…¶è‡ªèº«çš„ä¸¥æ ¼ç»„åˆï¼ˆcompositionï¼‰è®¡ç®—ã€‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>X</mi><mi>d</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub><mo separator="true">,</mo><msub><mi>Î´</mi><mi>d</mi></msub><mo separator="true">,</mo><msubsup><mi>x</mi><mn>0</mn><mi>d</mi></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G_o=(X_d,\Sigma_o,\delta_d,x^d_0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œå…¶ä¸­</li></ol><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>X</mi><mi>d</mi></msub><mo>=</mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mn>1</mn><mi>o</mi></msubsup><mo separator="true">,</mo><msubsup><mi>x</mi><mn>2</mn><mi>o</mi></msubsup><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ£</mi><msubsup><mi>x</mi><mn>1</mn><mi>o</mi></msubsup><mo separator="true">,</mo><msubsup><mi>x</mi><mn>2</mn><mi>o</mi></msubsup><mo>âˆˆ</mo><msub><mi>X</mi><mi>o</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">X_d=\{(x^o_1,x^o_2)|x^o_1,x^o_2\in X_o\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> æ˜¯çŠ¶æ€é›†ï¼›</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„äº‹ä»¶æ ‡ç­¾é›†ï¼›</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Î´</mi><mi>d</mi></msub><mo>âŠ†</mo><msub><mi>X</mi><mi>d</mi></msub><mo>Ã—</mo><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub><mo>Ã—</mo><msub><mi>X</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">\delta_d\subseteq X_d\times\Sigma_o\times X_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âŠ†</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯çŠ¶æ€è½¬ç§»é›†ã€‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mn>1</mn><mi>o</mi></msubsup><mo separator="true">,</mo><msubsup><mi>x</mi><mn>2</mn><mi>o</mi></msubsup><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>Î´</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>y</mi><mn>1</mn><mi>o</mi></msubsup><mo separator="true">,</mo><msubsup><mi>y</mi><mn>2</mn><mi>o</mi></msubsup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>âˆˆ</mo><msub><mi>Î´</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">((x^o_1,x^o_2),\delta,(y^o_1,y^o_2))\in \delta_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å½“ä¸”ä»…å½“<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msubsup><mi>x</mi><mn>1</mn><mi>o</mi></msubsup><mo separator="true">,</mo><mi>Ïƒ</mi><mo separator="true">,</mo><msubsup><mi>y</mi><mn>2</mn><mi>o</mi></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x^o_1,\sigma, y^o_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msubsup><mi>x</mi><mn>2</mn><mi>o</mi></msubsup><mo separator="true">,</mo><mi>Ïƒ</mi><mo separator="true">,</mo><msubsup><mi>y</mi><mn>2</mn><mi>o</mi></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x^o_2,\sigma,y^o_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.4518920000000004em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>å‡åŒ…å«äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Î´</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">\delta_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­ï¼›</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>x</mi><mn>0</mn><mi>d</mi></msubsup></mrow><annotation encoding="application/x-tex">x^d_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.097216em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„åˆå§‹çŠ¶æ€ã€‚</li></ul></li><li><ol start="3"><li>æ£€æŸ¥<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­æ˜¯å¦å­˜åœ¨è¿™æ ·ä¸€ä¸ªç¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>n</mi><mo>â‰¥</mo><mn>1</mn><mo separator="true">,</mo><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>i</mi><mn>1</mn></msubsup><mo separator="true">,</mo><msubsup><mi>f</mi><mi>i</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup><mo separator="true">,</mo><msubsup><mi>f</mi><mi>i</mi><mn>2</mn></msubsup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">cl = (x_1,\sigma_1,x_2, ..., x_n, \sigma_n, x_1), n\geq 1, x_i = ((x^1_i, f^1_i),(x^2_i,f^2_i)), i = 1, 2, ..., n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.072772em;vertical-align:-0.258664em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>, ä½¿å¾— <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>f</mi><mn>1</mn><mn>1</mn></msubsup><mi mathvariant="normal">â‰ </mi><msubsup><mi>f</mi><mn>1</mn><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">f^1_1\neq f^2_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0622159999999998em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4518920000000004em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0622159999999998em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4518920000000004em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span></span>ã€‚å¦‚æœå­˜åœ¨ï¼Œåˆ™è¾“å‡ºè¯¥ç³»ç»Ÿæ˜¯ä¸å¯è¯Šæ–­çš„ï¼Œæœ€åè¿™ä¸€æ­¥éª¤å¯ä»¥å…ˆæ ‡è¯†<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­çš„çŠ¶æ€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msup><mi>x</mi><mn>1</mn></msup><mo separator="true">,</mo><msup><mi>f</mi><mn>1</mn></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>f</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">((x^1,f^1),(x^2,f^2))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>ï¼Œå…¶ä¸­<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>f</mi><mn>1</mn></msup><mi mathvariant="normal">â‰ </mi><msup><mi>f</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">f^1\neq f^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>ï¼Œç„¶ååˆ é™¤å…¶ä»–æ‰€æœ‰çŠ¶æ€ä»¥åŠç›¸å…³çš„è½¬ç§»ï¼Œåˆ¤æ–­å‰©ä½™çš„å›¾ä¸­æ˜¯å¦å­˜åœ¨ç¯å³å¯å¾—åˆ°ç»“æœã€‚</li></ol></li></ul><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»™å‡ºä¸¤ä¸ªå®šç†ï¼Œå±•ç¤º<strong>Algorithm 1</strong> ä¸­çŠ¶æ€æœº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„ä¸€äº›å±æ€§ã€‚è¿™é‡Œçœç•¥äº†è¯æ˜ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ç›´æ¥éµå¾ª<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„å®šä¹‰å¾—åˆ°ã€‚</p><p><strong>Lemma 1:</strong> å¯¹äºçŠ¶æ€æœº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼š</p><ul><li><ol><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><msub><mi>G</mi><mi>o</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>M</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(G_o) = M(L(G))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>ï¼›</li></ol></li><li><ol start="2"><li>å¯¹äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­æ¯ä¸€ä¸ªä½œä¸ºç¯çš„è·¯å¾„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">tr</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>ï¼š</li></ol></li></ul><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mi>r</mi><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">âˆ…</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>0</mn></msub><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>f</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>f</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mspace linebreak="newline"></mspace><msub><mi>Ïƒ</mi><mi>k</mi></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>f</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mi>n</mi></msub><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>f</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">tr = ((x_0,\emptyset), \sigma_0, (x_1,f_1), ..., (x_k,f_k), \\\sigma_k, ..., (x_n,f_n), \sigma_n, (x_k,f_k))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">âˆ…</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span></p><p>æˆ‘ä»¬æœ‰</p><ul><li>å¯¹äºä»»æ„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>âˆˆ</mo><mo stretchy="false">{</mo><mi>k</mi><mo separator="true">,</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">}</mo><mo separator="true">;</mo><msub><mi>f</mi><mi>i</mi></msub><mo>=</mo><msub><mi>f</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">i, j\in \{k,k+1,...,n\}; f_i=f_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">}</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>ï¼›</li><li><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆƒ</mi><mi>u</mi><msup><mi>v</mi><mo>âˆ—</mo></msup><mo>âˆˆ</mo><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mi mathvariant="normal">ä½¿</mi><mi mathvariant="normal">å¾—</mi><mi>M</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>Ïƒ</mi><mn>0</mn></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>Ïƒ</mi><mrow><mi>k</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><mi>M</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>Ïƒ</mi><mi>k</mi></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>Î´</mi><mi>n</mi></msub><mo separator="true">;</mo><mspace linebreak="newline"></mspace><mo stretchy="false">{</mo><mi>Ïˆ</mi><mo stretchy="false">(</mo><mi>Ïƒ</mi><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ£</mi><mi>Ïƒ</mi><mo>âˆˆ</mo><mi>u</mi><mo separator="true">,</mo><mi>Ïˆ</mi><mo stretchy="false">(</mo><mi>Ïƒ</mi><mo stretchy="false">)</mo><mi mathvariant="normal">â‰ </mi><mi mathvariant="normal">âˆ…</mi><mo stretchy="false">}</mo><mo>=</mo><msub><mi>f</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\exists uv^*\in L(G) ä½¿å¾— M(u) = \sigma_0...\sigma_{k-1},M(v)=\sigma_k...\delta_n; \\ \{\psi(\sigma)|\sigma\in u, \psi(\sigma)\neq\emptyset\}=f_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.777796em;vertical-align:-0.0391em;"></span><span class="mord">âˆƒ</span><span class="mord mathdefault">u</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mord cjk_fallback">ä½¿</span><span class="mord cjk_fallback">å¾—</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïˆ</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose">)</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïˆ</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ…</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p></li></ul><p><strong>Lemma 2:</strong> å¯¹äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­æ¯ä¸€ä¸ªä½œä¸ºç¯çš„è·¯å¾„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">tr</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>ï¼š$$tr = (x^d_0, \sigma_0,x_1,â€¦,x_k,\sigma_k,â€¦,x_n,\sigma_n,x_k) \<br />x_i = ((x<sup>1_i,f</sup>1_i),(x<sup>2_i,f</sup>2_i)), i = 1, 2, â€¦, n$$æœ‰ï¼š</p><ul><li><ol><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­å­˜åœ¨ä¸¤ä¸ªä½œä¸ºç¯çš„è·¯å¾„ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><msub><mi>r</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">tr_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">tr_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼š</li></ol></li></ul><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><msub><mi>r</mi><mn>1</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">âˆ…</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>0</mn></msub><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mn>1</mn><mn>1</mn></msubsup><mo separator="true">,</mo><msubsup><mi>f</mi><mn>1</mn><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>k</mi><mn>1</mn></msubsup><mo separator="true">,</mo><msubsup><mi>f</mi><mi>k</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo separator="true">,</mo><mspace linebreak="newline"></mspace><msub><mi>Ïƒ</mi><mi>k</mi></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>n</mi><mn>1</mn></msubsup><mo separator="true">,</mo><msubsup><mi>f</mi><mi>n</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mi>n</mi></msub><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>k</mi><mn>1</mn></msubsup><mo separator="true">,</mo><msubsup><mi>f</mi><mi>k</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mi>t</mi><msub><mi>r</mi><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">âˆ…</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>0</mn></msub><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mn>1</mn><mn>2</mn></msubsup><mo separator="true">,</mo><msubsup><mi>f</mi><mn>1</mn><mn>2</mn></msubsup><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>k</mi><mn>2</mn></msubsup><mo separator="true">,</mo><msubsup><mi>f</mi><mi>k</mi><mn>2</mn></msubsup><mo stretchy="false">)</mo><mo separator="true">,</mo><mspace linebreak="newline"></mspace><msub><mi>Ïƒ</mi><mi>k</mi></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>n</mi><mn>2</mn></msubsup><mo separator="true">,</mo><msubsup><mi>f</mi><mi>n</mi><mn>2</mn></msubsup><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mi>n</mi></msub><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>k</mi><mn>2</mn></msubsup><mo separator="true">,</mo><msubsup><mi>f</mi><mi>k</mi><mn>2</mn></msubsup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">tr_1 = ((x_0,\emptyset), \sigma_0, (x^1_1,f^1_1),...,(x^1_k,f^1_k),\\\sigma_k, ..., (x^1_n,f^1_n),\sigma_n, (x^1_k,f^1_k))\\tr_2 = ((x_0,\emptyset), \sigma_0, (x^2_1,f^2_1),...,(x^2_k,f^2_k),\\\sigma_k, ..., (x^2_n, f^2_n), \sigma_n, (x^2_k, f^2_k)).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">âˆ…</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">âˆ…</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span></p><ul><li><ol start="2"><li>å¯¹äºä»»æ„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>âˆˆ</mo><mo stretchy="false">{</mo><mi>k</mi><mo separator="true">,</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">i, j \in\{k, k+1, ..., n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">}</span></span></span></span>, æœ‰<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msubsup><mi>f</mi><mi>i</mi><mn>1</mn></msubsup><mo>=</mo><msubsup><mi>f</mi><mi>j</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo>âˆ§</mo><mo stretchy="false">(</mo><msubsup><mi>f</mi><mi>i</mi><mn>2</mn></msubsup><mo>=</mo><msubsup><mi>f</mi><mi>j</mi><mn>2</mn></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(f^1_i=f^1_j) \land (f^2_i=f^2_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.072772em;vertical-align:-0.258664em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.20888em;vertical-align:-0.394772em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.072772em;vertical-align:-0.258664em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.20888em;vertical-align:-0.394772em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ã€‚</li></ol></li></ul><p>æ¥ç€ï¼Œæˆ‘ä»¬å†æä¾›ä¸€ä¸ªå®šç†ç¡®ä¿<strong>Algorithm 1</strong>çš„æ­£ç¡®æ€§ã€‚</p><p><strong>Theorem 1</strong>: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span> æ˜¯å¯è¯Šæ–­çš„å½“ä¸”ä»…å½“<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­çš„æ¯ä¸€ä¸ªç¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">cl</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span></span>ï¼š</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mspace width="2em"/><mi>n</mi><mo>â‰¥</mo><mn>1</mn><mspace linebreak="newline"></mspace><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>i</mi><mn>1</mn></msubsup><mo separator="true">,</mo><msup><mi>f</mi><mn>1</mn></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup><mo separator="true">,</mo><msup><mi>f</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mspace width="2em"/><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">cl = (x_1,\sigma_1,x_2,...,x_n,\sigma_n,x_1),\qquad n\geq 1 \\x_i = ((x^1_i,f^1), (x^2_i,f^2)),\qquad i=1,2,...,n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span></span></p><p>æˆ‘ä»¬æœ‰<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>f</mi><mn>1</mn></msup><mo>=</mo><msup><mi>f</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">f^1=f^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>ã€‚</p><p><strong>Proof</strong>: å¯¹äºå¿…è¦æ€§ï¼Œå‡è®¾<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>æ˜¯å¯è¯Šæ–­çš„ï¼Œä½†$$G_d$$ä¸­å­˜åœ¨ä¸€ä¸ªç¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">cl</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span></span>ï¼Œ$$cl=(x_k,\sigma_k,x_{k+1},â€¦,x_n,\sigma_n,x_K), n\geq k, x_i=((x<sup>1_i,f</sup>1),(x<sup>2_i,f</sup>2)), i = k, k+1,â€¦,x_n$$ä½¿å¾—<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>f</mi><mn>1</mn></msup><mi mathvariant="normal">â‰ </mi><msup><mi>f</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">f^1\neq f^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>ã€‚å› ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯å¯è¾¾çš„ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­å­˜åœ¨ä¸€ä¸ªä»¥ç¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">cl</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span></span>ç»“å°¾çš„è·¯å¾„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">tr</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>ï¼Œå³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mi>r</mi><mo>=</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mn>0</mn><mi>d</mi></msubsup><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mi>k</mi></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">tr = (x^d_0,\sigma_0,x_1,...,x_k,\sigma_k,...,x_n,\sigma_n,x_k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ã€‚æ®<strong>Lemma 2</strong>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­å­˜åœ¨ä¸¤ä¸ªè·¯å¾„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><msub><mi>r</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">tr_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><msub><mi>r</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">tr_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼š</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><msub><mi>r</mi><mn>1</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">âˆ…</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>0</mn></msub><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mn>1</mn><mn>1</mn></msubsup><mo separator="true">,</mo><msubsup><mi>f</mi><mn>1</mn><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>k</mi><mn>1</mn></msubsup><mo separator="true">,</mo><msup><mi>f</mi><mn>1</mn></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><mspace linebreak="newline"></mspace><msub><mi>Ïƒ</mi><mi>k</mi></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>n</mi><mn>1</mn></msubsup><mo separator="true">,</mo><msup><mi>f</mi><mn>1</mn></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mi>n</mi></msub><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>k</mi><mn>1</mn></msubsup><mo separator="true">,</mo><msup><mi>f</mi><mn>1</mn></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mi>t</mi><msub><mi>r</mi><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">âˆ…</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>0</mn></msub><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mn>1</mn><mn>2</mn></msubsup><mo separator="true">,</mo><msubsup><mi>f</mi><mn>1</mn><mn>2</mn></msubsup><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>k</mi><mn>2</mn></msubsup><mo separator="true">,</mo><msup><mi>f</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><mspace linebreak="newline"></mspace><msub><mi>Ïƒ</mi><mi>k</mi></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>n</mi><mn>2</mn></msubsup><mo separator="true">,</mo><msup><mi>f</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mi>n</mi></msub><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>k</mi><mn>2</mn></msubsup><mo separator="true">,</mo><msup><mi>f</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex">tr_1 = ((x_0,\emptyset),\sigma_0,(x^1_1,f^1_1),...,(x^1_k,f^1),\\\sigma_k,...,(x^1_n,f^1),\sigma_n,(x^1_k,f^1))\\tr_2 = ((x_0,\emptyset),\sigma_0,(x^2_1,f^2_1),...,(x^2_k,f^2),\\\sigma_k,...,(x^2_n,f^2),\sigma_n,(x^2_k,f^2))\\</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">âˆ…</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">âˆ…</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span><span class="mspace newline"></span></span></span></span></p><p>æ›´å¤šåœ°ï¼Œæ ¹æ®<strong>Lemma 1</strong>ï¼Œæˆ‘ä»¬å¯å¾—$$\exists u_1v^<em><em>1\in L(G)$$ä½¿å¾—$$M(u_1)=M(u_2) = \sigma_0â€¦\sigma</em>{k-1}, M(v_1)=M(v_2)=\sigma_kâ€¦\sigma_n$$ å¹¶ä¸”$${\psi(\sigma)|\sigma\in u_i, \psi(\sigma)\neq \emptyset}={\psi(\sigma)|\sigma\in u_iv_i,\psi(\sigma)\neq \emptyset}=f^i, i = 1,2$$ã€‚å› ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>f</mi><mn>1</mn></msup><mi mathvariant="normal">â‰ </mi><msup><mi>f</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">f^1\neq f^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>ï¼Œæˆ‘ä»¬å‡è®¾<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>k</mi></msub><mo>âˆˆ</mo><msup><mi>f</mi><mn>1</mn></msup><mo>âˆ’</mo><msup><mi>f</mi><mn>2</mn></msup><mi mathvariant="normal">â‰ </mi><mi mathvariant="normal">âˆ…</mi></mrow><annotation encoding="application/x-tex">F_k\in f^1 - f^2\neq \emptyset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">âˆ…</span></span></span></span>ã€‚ç„¶å<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆƒ</mi><mi>s</mi><mo>âˆˆ</mo><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\exists s\in L(G)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord">âˆƒ</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span></span></span></span>ä½¿å¾— <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ïˆ</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>f</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>F</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\psi(s_f)=F_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïˆ</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ä¸”å¯¹äºæŸäº›$$t\in \Sigma^</em>; u_1\in st$$ã€‚å¯¹äºä»»æ„æ•´æ•°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>n</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">n_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©å¦ä¸€ä¸ªæ•´æ•°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span></span>ï¼Œä½¿å¾—<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">âˆ¥</mo><mi>t</mi><msubsup><mi>v</mi><mn>1</mn><mi>l</mi></msubsup><mo stretchy="false">âˆ¥</mo><mo>&gt;</mo><msub><mi>n</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\lVert tv^l_1\rVert &gt;n_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mopen">âˆ¥</span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4518920000000004em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mclose">âˆ¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚<br />åˆ™æœ‰<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi><mo stretchy="false">(</mo><msub><mi>u</mi><mn>2</mn></msub><mo separator="true">,</mo><msubsup><mi>v</mi><mn>2</mn><mi>l</mi></msubsup><mo stretchy="false">)</mo><mo>=</mo><mi>M</mi><mo stretchy="false">(</mo><mi>s</mi><mi>t</mi><msubsup><mi>v</mi><mn>1</mn><mi>l</mi></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">M(u_2,v^l_2)=M(stv^l_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4518920000000004em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4518920000000004em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>å¹¶ä¸”$${\psi(\sigma)|\sigma\in u_2v_2, \psi(\sigma)\neq \emptyset}=f^2$$ï¼Œè¿™æ„å‘³ç€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>u</mi><mn>2</mn></msub><msubsup><mi>v</mi><mn>2</mn><mi>l</mi></msubsup></mrow><annotation encoding="application/x-tex">u_2v^l_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.097216em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4518920000000004em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span></span>ä¸­ä¸åŒ…å«ä»»ä½•ç±»å‹ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">F_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å¯¹åº”çš„é”™è¯¯äº‹ä»¶ã€‚å› æ­¤ï¼Œæ ¹æ®å¯è¯Šæ–­æ€§çš„å®šä¹‰ï¼Œç³»ç»Ÿ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>æ˜¯ä¸å¯è¯Šæ–­çš„ã€‚ä¸å‡è®¾çŸ›ç›¾ï¼Œæ‰€ä»¥å¿…è¦æ€§æˆç«‹ã€‚</p><p>å¯¹äºå……åˆ†æ€§ï¼Œå‡è®¾<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­çš„æ¯ä¸€ä¸ªç¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">cl</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>n</mi><mo>â‰¥</mo><mn>1</mn><mo separator="true">,</mo><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>i</mi><mn>1</mn></msubsup><mo separator="true">,</mo><msup><mi>f</mi><mn>1</mn></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup><mo separator="true">,</mo><msup><mi>f</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">cl = (x_1,\sigma_1,x_2,...,x_n,\sigma_n,x_1), n\geq 1, x_i=((x^1_i,f^1),(x^2_i,f^2)), i = 1, 2, ..., n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.072772em;vertical-align:-0.258664em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span></span></span></span>, æˆ‘ä»¬æœ‰<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>f</mi><mn>1</mn></msup><mo>=</mo><msup><mi>f</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">f^1=f^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>ã€‚<br />æ ¹æ®<strong>Lemma 2</strong>çš„ç¬¬äºŒå¥ï¼Œæˆ‘ä»¬çŸ¥é“è¯¥å‡è®¾æ„å‘³ç€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ€</mi><mi>x</mi><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msup><mi>x</mi><mn>1</mn></msup><mo separator="true">,</mo><msup><mi>f</mi><mn>1</mn></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>f</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>âˆˆ</mo><msub><mi>X</mi><mi>d</mi></msub><mo separator="true">,</mo><mi>i</mi><mi>f</mi><msup><mi>f</mi><mn>1</mn></msup><mi mathvariant="normal">â‰ </mi><msup><mi>f</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\forall x = ((x^1,f^1),(x^2,f^2)) \in X_d, if f^1\neq f^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">âˆ€</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>ä¸åŒ…å«äºä¸€ä¸ªå¾ªç¯ä¸­ã€‚æ›´è¿›ä¸€æ­¥åœ°ï¼Œå¯¹äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>i</mi><mn>1</mn></msubsup><mo separator="true">,</mo><msubsup><mi>f</mi><mi>i</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup><mo separator="true">,</mo><msup><mi>f</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>1</mn><mo>â‰¤</mo><mi>i</mi><mo>â‰¥</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">x_i=(x^1_i,f^1_i),(x^2_i,f^2), 1 \leq i\geq k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.072772em;vertical-align:-0.258664em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79549em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­çš„ä»»æ„çŠ¶æ€åºåˆ—<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_1,x_2,...,x_k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œå¦‚æœå¯¹äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ€</mi><mi>i</mi><mo>âˆˆ</mo><mo stretchy="false">{</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>k</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\forall i\in \{1,2,...,k\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord">âˆ€</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">}</span></span></span></span>æœ‰<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>f</mi><mi>i</mi><mn>1</mn></msubsup><mi mathvariant="normal">â‰ </mi><msubsup><mi>f</mi><mi>i</mi><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">f^1_i\neq f^2_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.072772em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.072772em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œåˆ™çŠ¶æ€åºåˆ—çš„é•¿åº¦é™åˆ¶åœ¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çŠ¶æ€æ•°ä¹‹å†…ï¼Œå³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>â‰¤</mo><mi mathvariant="normal">âˆ£</mi><msub><mi>X</mi><mi>d</mi></msub><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">k\leq |X_d|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83041em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span></span></span></span>ã€‚</p><p>ç°åœ¨ï¼Œä»¤<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(G)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span></span></span></span>ä¸­ä»¥<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">F_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ç±»å‹é”™è¯¯äº‹ä»¶ç»“å°¾çš„ä¸²ï¼Œå³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ïˆ</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>f</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>F</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\psi(s_f)=F_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïˆ</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œæˆ‘ä»¬ç§°å¯¹äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">âˆ¥</mo><mi>t</mi><mo stretchy="false">âˆ¥</mo><mo>&gt;</mo><mi mathvariant="normal">âˆ£</mi><msub><mi>X</mi><mi>d</mi></msub><mi mathvariant="normal">âˆ£</mi><mo>Ã—</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="normal">âˆ€</mi><mi>w</mi><mo>âˆˆ</mo><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>M</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mo>=</mo><mi>M</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lVert t\rVert &gt; |X_d|\times(|X|-1), \forall w\in L(G), M(w)=M(v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">âˆ¥</span><span class="mord mathdefault">t</span><span class="mclose">âˆ¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">âˆ€</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span>ï¼Œ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ€</mi><mi>v</mi><mo>=</mo><mi>s</mi><mi>t</mi><mo>âˆˆ</mo><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\forall v=st\in L(G)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">âˆ€</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.65418em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span></span></span></span>, åˆ™<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span>ä¸­åŒ…å«<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">F_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ç±»å‹çš„é”™è¯¯äº‹ä»¶ã€‚ç»¼ä¸Šï¼Œå¯¹äºä»»ä½•ä»<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>x</mi><mn>0</mn><mi>d</mi></msubsup></mrow><annotation encoding="application/x-tex">x^d_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.097216em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span></span>å‡ºå‘é€šè¿‡æ‰§è¡Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">M(s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mclose">)</span></span></span></span>åˆ°è¾¾çš„çŠ¶æ€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>âˆˆ</mo><msub><mi>X</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">x\in X_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œæœ‰å¯¹äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­ä»»æ„ä»<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>å¼€å§‹çš„çŠ¶æ€åºåˆ—ï¼Œä¸€ä¸ªçŠ¶æ€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msup><mi>y</mi><mn>1</mn></msup><mo separator="true">,</mo><msup><mi>f</mi><mn>1</mn></msup><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msup><mi>y</mi><mn>2</mn></msup><mo separator="true">,</mo><msup><mi>f</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>âˆˆ</mo><msub><mi>X</mi><mi>d</mi></msub><mo separator="true">,</mo><mo>âˆ§</mo><msup><mi>f</mi><mn>1</mn></msup><mo>=</mo><msup><mi>f</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">y = ((y^1,f^1),(y^2,f^2))\in X_d, \land f^1=f^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">âˆ§</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>å¯ä»¥åœ¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ£</mi><msub><mi>X</mi><mi>d</mi></msub><mi mathvariant="normal">âˆ£</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">|X_d|-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>æ­¥ä¹‹å†…åˆ°è¾¾ã€‚è¿™æ„å‘³ç€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ€</mi><mi>v</mi><mo>=</mo><mi>s</mi><mi>t</mi><mo>âˆˆ</mo><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>âˆ§</mo><mo stretchy="false">âˆ¥</mo><mi>M</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo stretchy="false">âˆ¥</mo><mo>&gt;</mo><mi mathvariant="normal">âˆ£</mi><msub><mi>X</mi><mi>d</mi></msub><mi mathvariant="normal">âˆ£</mi><mo separator="true">,</mo><mi mathvariant="normal">âˆ€</mi><mi>w</mi><mo>âˆˆ</mo><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>âˆ§</mo><mi>M</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mo>=</mo><mi>M</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\forall v = st \in L(G) \land \lVert M(t)\rVert &gt; |X_d|, \forall w \in L(G) \land M(w)=M(v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">âˆ€</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.65418em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">âˆ¥</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mclose">âˆ¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">âˆ€</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span>ä¸­å¿…å®šåŒ…å«<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">F_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ç±»å‹çš„é”™è¯¯äº‹ä»¶ã€‚è¿›ä¸€æ­¥å‡è®¾<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>ä¸­ä¸å­˜åœ¨ä¸å¯è§‚ç¯ï¼Œä»»ä½•<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">M(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span>ä¸­çš„å¯è§‚äº‹ä»¶æœ€å¤šå¯åœ¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">|X|-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ä¸ªä¸å¯è§‚äº‹ä»¶ä¹‹åè¢«è·Ÿè¸ªåˆ°ã€‚å› æ­¤ï¼Œå¯¹äºä¸Šé¢çš„ä¸²<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">âˆ¥</mo><mi>t</mi><mo stretchy="false">âˆ¥</mo><mo>â‰¤</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mo stretchy="false">âˆ¥</mo><mi>M</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo stretchy="false">âˆ¥</mo><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>Ã—</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lVert t\rVert \leq ((\lVert M(t)\rVert + 1) \times (|X|-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">âˆ¥</span><span class="mord mathdefault">t</span><span class="mclose">âˆ¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mopen">âˆ¥</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mclose">âˆ¥</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>ï¼Œå³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">âˆ¥</mo><mi>M</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo stretchy="false">âˆ¥</mo><mo>â‰¥</mo><mo stretchy="false">âˆ¥</mo><mi>t</mi><mo stretchy="false">âˆ¥</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\lVert M(t)\rVert \geq \lVert t\rVert / (|X|-1)-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">âˆ¥</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mclose">âˆ¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">âˆ¥</span><span class="mord mathdefault">t</span><span class="mclose">âˆ¥</span><span class="mord">/</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ã€‚æ‰€ä»¥å¦‚æœ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">âˆ¥</mo><mi>t</mi><mo stretchy="false">âˆ¥</mo><mo>&gt;</mo><mi mathvariant="normal">âˆ£</mi><msub><mi>X</mi><mi>d</mi></msub><mi mathvariant="normal">âˆ£</mi><mo>Ã—</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lVert t\rVert &gt; |X_d|\times(|X|-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">âˆ¥</span><span class="mord mathdefault">t</span><span class="mclose">âˆ¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">âˆ¥</mo><mi>M</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo stretchy="false">âˆ¥</mo><mo>â‰¥</mo><mo stretchy="false">âˆ¥</mo><mi>t</mi><mo stretchy="false">âˆ¥</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo>âˆ’</mo><mn>1</mn><mo>&gt;</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><msub><mi>X</mi><mi>d</mi></msub><mi mathvariant="normal">âˆ£</mi><mo>Ã—</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo>âˆ’</mo><mn>1</mn><mo>=</mo><mi mathvariant="normal">âˆ£</mi><msub><mi>X</mi><mi>d</mi></msub><mi mathvariant="normal">âˆ£</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\lVert M(t)\rVert\geq \lVert t\rVert/(|X|-1)-1 &gt; (|X_d|\times(|X|-1))/(|X|-1)-1 = |X_d|-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">âˆ¥</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mclose">âˆ¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">âˆ¥</span><span class="mord mathdefault">t</span><span class="mclose">âˆ¥</span><span class="mord">/</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord">/</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼Œç¡®ç«‹æˆ‘ä»¬çš„ä¸»å¼ ï¼ˆæ³¨æ„ï¼Œæˆ‘ä»¬éšå¼åœ°å‡è®¾<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">|X|&gt;1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼›å¦åˆ™å¦‚æœ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">|X|=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼Œæ ¹æ®ä¸å­˜åœ¨ä¸å¯è§‚ç¯çš„å‡è®¾ï¼Œå°†ä¸å­˜åœ¨ä»»ä½•ä½¿ç”¨é”™è¯¯æ ‡ç­¾çš„è½¬ç§»ï¼Œç³»ç»Ÿæ˜¾ç„¶æ˜¯å¯è¯Šæ–­çš„ï¼‰ã€‚æ ¹æ®<strong>Lemma 1</strong>ï¼Œç³»ç»Ÿ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>æ˜¯å¯è¯Šæ–­çš„ï¼Œå……åˆ†æ€§ä¹Ÿè¯æ˜å®Œæ¯•ã€‚</p><p><strong>Remark 1</strong>: æ ¹æ®<strong>Algorithm 1</strong>ï¼Œæˆ‘ä»¬çŸ¥é“<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­çš„çŠ¶æ€æ•°æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mi>X</mi><mi mathvariant="normal">âˆ£</mi><mo>Ã—</mo><msup><mn>2</mn><mrow><mi mathvariant="normal">âˆ£</mi><mi>F</mi><mi mathvariant="normal">âˆ£</mi></mrow></msup></mrow><annotation encoding="application/x-tex">|X|\times 2^{|F|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ£</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span><span class="mord mtight">âˆ£</span></span></span></span></span></span></span></span></span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­çš„è½¬ç§»æ•°æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mi>X</mi><msup><mi mathvariant="normal">âˆ£</mi><mn>2</mn></msup><mo>Ã—</mo><msup><mn>2</mn><mrow><mn>2</mn><mi mathvariant="normal">âˆ£</mi><mi>F</mi><mi mathvariant="normal">âˆ£</mi></mrow></msup><mo>Ã—</mo><mi mathvariant="normal">âˆ£</mi><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">|X|^2\times 2^{2|F|}\times|\Sigma_o|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9713299999999999em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">âˆ£</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span><span class="mord mtight">âˆ£</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span></span></span></span>ã€‚å› ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub><mo>=</mo><msub><mi>G</mi><mi>o</mi></msub><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_d = G_o||G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­çš„çŠ¶æ€æ•°ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mi>X</mi><msup><mi mathvariant="normal">âˆ£</mi><mn>2</mn></msup><mo>Ã—</mo><msup><mn>2</mn><mrow><mn>2</mn><mi mathvariant="normal">âˆ£</mi><mi>F</mi><mi mathvariant="normal">âˆ£</mi></mrow></msup></mrow><annotation encoding="application/x-tex">|X|^2\times 2^{2|F|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">âˆ£</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span><span class="mord mtight">âˆ£</span></span></span></span></span></span></span></span></span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­çš„è½¬ç§»æ•°ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mi>X</mi><msup><mi mathvariant="normal">âˆ£</mi><mn>4</mn></msup><mo>Ã—</mo><msup><mn>2</mn><mrow><mn>4</mn><mi mathvariant="normal">âˆ£</mi><mi>F</mi><mi mathvariant="normal">âˆ£</mi></mrow></msup><mo>Ã—</mo><mi mathvariant="normal">âˆ£</mi><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">|X|^4\times 2^{4|F|}\times|\Sigma_o|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9713299999999999em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mtight">âˆ£</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span><span class="mord mtight">âˆ£</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span></span></span></span>ã€‚</p><p><strong>Algorithm 1</strong>çš„ç¬¬ä¸€æ­¥ï¼Œæ„é€ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>X</mi><msup><mi mathvariant="normal">âˆ£</mi><mn>2</mn></msup><mo>Ã—</mo><msup><mn>2</mn><mrow><mn>2</mn><mi mathvariant="normal">âˆ£</mi><mi>F</mi><mi mathvariant="normal">âˆ£</mi></mrow></msup></mrow><annotation encoding="application/x-tex">O(|X|^2\times 2^{2|F|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">âˆ£</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span><span class="mord mtight">âˆ£</span></span></span></span></span></span></span></span></span></span></span></span>ï¼Œ è€Œ<strong>Algorithm 1</strong>çš„ç¬¬äºŒæ­¥ï¼Œæ„é€ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>X</mi><msup><mi mathvariant="normal">âˆ£</mi><mn>4</mn></msup><mo>Ã—</mo><msup><mn>2</mn><mrow><mn>4</mn><mi mathvariant="normal">âˆ£</mi><mi>F</mi><mi mathvariant="normal">âˆ£</mi></mrow></msup><mo>Ã—</mo><mi mathvariant="normal">âˆ£</mi><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub><mi mathvariant="normal">âˆ£</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(|X|^4\times 2^{4|F|}\times|\Sigma_o|)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9713299999999999em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mtight">âˆ£</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span><span class="mord mtight">âˆ£</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mclose">)</span></span></span></span>ã€‚æ‰§è¡Œ<strong>Algorithm 1</strong>çš„ç¬¬ä¸‰æ­¥ï¼Œå®ƒé€‚å½“åœ°ä¿®å‰ª<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­æ£€æµ‹åˆ°çš„â€œè¿è§„â€ç¯çš„çš„å­˜åœ¨ï¼Œä¸çŠ¶æ€æ•°å’Œè½¬ç§»æ•°æ˜¯å‘ˆçº¿æ€§å…³ç³»çš„ï¼Œå³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>X</mi><msup><mi mathvariant="normal">âˆ£</mi><mn>4</mn></msup><mo>Ã—</mo><msup><mn>2</mn><mrow><mn>4</mn><mi mathvariant="normal">âˆ£</mi><mi>F</mi><mi mathvariant="normal">âˆ£</mi></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(|X|^4\times 2^{4|F|})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mtight">âˆ£</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span><span class="mord mtight">âˆ£</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ã€‚æ³¨æ„å½“ç§»é™¤æ‰€æœ‰ä¸ç¬¦åˆè§„åˆ™çš„ç¯åï¼Œè½¬ç§»æ ‡ç­¾å°†æ˜¯ä¸ç›¸å…³çš„ã€‚</p><p>æ‰€ä»¥<strong>Algorithm 1</strong>çš„å¤æ‚åº¦æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>X</mi><msup><mi mathvariant="normal">âˆ£</mi><mn>4</mn></msup><mo>Ã—</mo><msup><mn>2</mn><mrow><mn>4</mn><mi mathvariant="normal">âˆ£</mi><mi>F</mi><mi mathvariant="normal">âˆ£</mi></mrow></msup><mo>Ã—</mo><mi mathvariant="normal">âˆ£</mi><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub><mi mathvariant="normal">âˆ£</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(|X|^4\times 2^{4|F|}\times|\Sigma_o|)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9713299999999999em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mtight">âˆ£</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span><span class="mord mtight">âˆ£</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mclose">)</span></span></span></span>ï¼Œå®ƒæ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>ä¸­çŠ¶æ€æ•°çš„å¤šé¡¹å¼çº§åˆ«å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>ä¸­é”™è¯¯ç±»å‹æ•°çš„æŒ‡æ•°çº§åˆ«ã€‚</p><p>åœ¨<sup class="footnote-ref"><a href="#fn4" id="fnref4:5">[4:5]</a></sup>ä¸­ï¼Œæä¾›äº†å¦ä¸€ä¸ªå¯è¯Šæ–­æ€§çš„å……åˆ†å¿…è¦æ¡ä»¶ã€‚è¯¥æ¡ä»¶è¢«è¡¨ç¤ºä¸ºç³»ç»Ÿè¯Šæ–­å™¨çš„ä¸€ä¸ªå±æ€§ã€‚æ‰€ä»¥ä¸ºäº†æµ‹è¯•å¯è¯Šæ–­æ€§ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆæ„é€ ç›®æ ‡ç³»ç»Ÿçš„è¯Šæ–­å™¨ï¼Œç„¶åæ£€æŸ¥è¯Šæ–­å™¨çš„å±æ€§ã€‚å…¶ä¸­æ„é€ è¯Šæ–­å™¨å’Œæ£€æŸ¥è¯Šæ–­å™¨å±æ€§çš„å¤æ‚åº¦éƒ½æ˜¯ç³»ç»ŸçŠ¶æ€æ•°çš„æŒ‡æ•°çº§åˆ«å’Œé”™è¯¯ç±»å‹æ•°çš„åŒå€æŒ‡æ•°çº§åˆ«ã€‚åœ¨<strong>Algorithm 1</strong>ä¸­ï¼Œæµ‹è¯•ç³»ç»Ÿçš„å¯è¯Šæ–­æ€§ä¸éœ€è¦æ„é€ è¯Šæ–­å™¨ã€‚</p><p><strong>Remark 2</strong>: æµ‹è¯•å¯è¯Šæ–­æ€§çš„å¤æ‚åº¦å¯¹äºé”™è¯¯ç±»å‹æ•°é‡å¯ä»¥æ˜¯å¤šé¡¹å¼çº§åˆ«çš„ï¼Œå¯¹äºä¸€ä¸ªæ‹¥æœ‰é”™è¯¯ç±»å‹<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mo>=</mo><mo stretchy="false">{</mo><msub><mi>F</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">F = \{F_i, i = 1, 2, ..., m\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span><span class="mclose">}</span></span></span></span>çš„ç³»ç»Ÿæ˜¯å¯è¯Šæ–­çš„ï¼Œå½“ä¸”ä»…å½“ç³»ç»Ÿçš„æ¯ä¸€ä¸ªé”™è¯¯ç±»å‹<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">F_i, i = 1, 2, ...,m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span></span></span></span>éƒ½æ˜¯å¯è¯Šæ–­çš„ã€‚æ¢å¥è¯è¯´ï¼Œå¯¹äºæ¯ä¸ªå•ç‹¬çš„é”™è¯¯ç±»å‹é›†<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><msub><mi>F</mi><mn>1</mn></msub><mo stretchy="false">}</mo><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mo stretchy="false">{</mo><msub><mi>F</mi><mi>m</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{F_1\}, ..., \{F_m\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>åº”ç”¨<strong>Algorithm 1</strong> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> æ¬¡ã€‚å› ä¸ºæ¯ä¸€ä¸ªé”™è¯¯ç±»å‹é›†ä¸­åªåŒ…å«ä¸€ä¸ªé”™è¯¯ç±»å‹ï¼Œæ ¹æ®<strong>Remark 1</strong>ï¼Œå¯çŸ¥æ¯ä¸€æ¬¡æµ‹è¯•çš„å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>X</mi><msup><mi mathvariant="normal">âˆ£</mi><mn>4</mn></msup><mo>Ã—</mo><msup><mn>2</mn><mrow><mn>4</mn><mi mathvariant="normal">âˆ£</mi><mn>1</mn><mi mathvariant="normal">âˆ£</mi></mrow></msup><mo>Ã—</mo><mi mathvariant="normal">âˆ£</mi><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub><mi mathvariant="normal">âˆ£</mi><mo stretchy="false">)</mo><mo>=</mo><mi>O</mi><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>X</mi><msup><mi mathvariant="normal">âˆ£</mi><mn>4</mn></msup><mo>Ã—</mo><mi mathvariant="normal">âˆ£</mi><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub><mi mathvariant="normal">âˆ£</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(|X|^4\times 2^{4|1|}\times|\Sigma_o|) = O(|X|^4\times|\Sigma_o|)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9713299999999999em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mtight">âˆ£</span><span class="mord mtight">1</span><span class="mord mtight">âˆ£</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mclose">)</span></span></span></span>ã€‚å› æ­¤ï¼Œæ€»çš„æµ‹è¯•å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><mi>X</mi><msup><mi mathvariant="normal">âˆ£</mi><mn>4</mn></msup><mo>Ã—</mo><mi mathvariant="normal">âˆ£</mi><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub><mi mathvariant="normal">âˆ£</mi><mo>Ã—</mo><mi mathvariant="normal">âˆ£</mi><mi>F</mi><mi mathvariant="normal">âˆ£</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(|X|^4\times|\Sigma_o|\times|F|)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord">âˆ£</span><span class="mclose">)</span></span></span></span>ã€‚</p><div align="center" style="display: flex; flex-direction:column;">    <img data-src="diagram-of-system-G.png"/>    <span>Fig. 1. Diagram of system G.</span></div><p><strong>Example 1</strong>: è€ƒè™‘ä¸€ä¸ªç³»ç»Ÿ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi mathvariant="normal">Î£</mi><mo separator="true">,</mo><mi>Î´</mi><mo separator="true">,</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G = (X, \Sigma, \delta, x_0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">Î£</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><ul><li><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>=</mo><mo stretchy="false">{</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>4</mn></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">X = \{x_0, x_1, x_2, x_3, x_4\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></span></p></li><li><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î£</mi><mo>=</mo><mo stretchy="false">{</mo><msub><mi>Ïƒ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mrow><mi>u</mi><mi>o</mi></mrow></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>3</mn></mrow></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\Sigma = \{\sigma_1, \sigma_2, \sigma_3, \sigma_{uo}, \sigma_{f1},\sigma_{f2},\sigma_{f3}\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î£</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></span></p></li><li><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mrow><mi>u</mi><mi>o</mi></mrow></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>4</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>4</mn></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>4</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{(x_0,\sigma_1,x_1), (x_1,\sigma_{f1},x_2), (x_1, \sigma_{uo}, x_2), (x_2, \sigma_{f2}, x_3), (x_3, \sigma_2, x_3), (x_2, \sigma_{f1}, x_4), (x_4, \sigma_3, x_4)\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">{</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">}</span></span></span></span></span></p></li></ul><p>å¹¶æ‹¥æœ‰å¯è§‚äº‹ä»¶é›†$$\Sigma_o = {\sigma_1, \sigma_2, \sigma_3}$$ã€‚ç³»ç»Ÿè§å›¾<em>Fig. 1</em>ã€‚ä»¤$$F = {F_1, F_2}$$ä½œä¸ºé”™è¯¯ç±»å‹é›†ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ïˆ</mi></mrow><annotation encoding="application/x-tex">\psi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïˆ</span></span></span></span>æ˜¯ä¸€ä¸ªé”™è¯¯åˆ†é…å‡½æ•°ï¼Œ $$\psi(\sigma_{uo}) = \psi(\sigma_i) = \emptyset, i = 1, 2, 3, \psi(\sigma_{f1}) = F_1, \psi(\sigma_{f2})=F_2$$ã€‚æ ¹æ®<strong>Algorithm 1</strong>çš„ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥ä»<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>æ¥è·å–<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œè§<em>Fig. 2</em>ã€‚<strong>Algorithm 1</strong>çš„ç¬¬äºŒæ­¥ï¼Œè®¡ç®—<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œå…¶è‡ªèº«çš„ä¸¥æ ¼ç»„åˆï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub><mo>=</mo><msub><mi>G</mi><mi>o</mi></msub><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><msub><mi>G</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">G_d = G_o||G_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œè§<em>Fig. 3</em>ã€‚åœ¨<em>Fig. 3</em>ä¸­ï¼Œåœ¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>3</mn></msub><mo separator="true">,</mo><mo stretchy="false">{</mo><msub><mi>F</mi><mn>2</mn></msub><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>3</mn></msub><mo separator="true">,</mo><mo stretchy="false">{</mo><msub><mi>F</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>F</mi><mn>2</mn></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">((x_3,\{F_2\}), (x_3, \{F_1,F_2\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>ä¸Šå­˜åœ¨ä¸€ä¸ªè‡ªç¯ã€‚æ‰€ä»¥ï¼Œæ ¹æ®<strong>Algorithm 1</strong>çš„æœ€åä¸€æ­¥ï¼Œæˆ‘ä»¬çŸ¥é“è¯¥ç³»ç»Ÿ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>æ˜¯ä¸å¯è¯Šæ–­çš„ã€‚</p><div align="center" style="display: flex; flex-direction:column;">    <img data-src="diagram-of-system-G_o.png"/>    <span>Fig. 2. Diagram of system Go.</span></div><div align="center" style="display: flex; flex-direction:column;">    <img data-src="diagram-of-system-G_d.png"/>    <span>Fig. 3. Diagram of system Gd.</span></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬å‡è®¾ä¸åŒºåˆ†é”™è¯¯ç±»å‹<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">F_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">F_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œå³ä»¤<strong>Fig. 3</strong>ä¸­<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mn>2</mn></msub><mo>=</mo><msub><mi>F</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">F_2 = F_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å¹¶åˆ é™¤ä¸€äº›å†—ä½™çš„çŠ¶æ€ï¼Œæˆ‘ä»¬è®¡ç®—ä¿®æ”¹åç³»ç»Ÿå¯¹åº”çš„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œè¿™é‡Œå¿½ç•¥äº†è¯¥ç»“æœã€‚åœ¨ä¿®æ”¹åçš„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>G</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">G_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­ï¼Œä¸å­˜åœ¨ä»»ä½•è¿å<strong>Algorithm 1</strong>ä¸­ç¬¬ä¸‰æ­¥è§„åˆ™çš„ç¯ã€‚å› æ­¤ï¼Œä¿®æ”¹åçš„ç³»ç»Ÿæ˜¯å¯è¯Šæ–­çš„ã€‚</p><h2 id="iv-conclusion"><a class="markdownIt-Anchor" href="#iv-conclusion"></a> IV. CONCLUSION</h2><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæµ‹è¯•ç¦»æ•£äº‹ä»¶ç³»ç»Ÿå¯è¯Šæ–­æ€§çš„ç®—æ³•ã€‚ä¸<sup class="footnote-ref"><a href="#fn4" id="fnref4:6">[4:6]</a></sup>ä¸­çš„æµ‹è¯•æ–¹æ³•ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„ç®—æ³•æ— éœ€ä¸ºå¾…è¯Šæ–­ç³»ç»Ÿæ„é€ è¯Šæ–­å™¨ã€‚æˆ‘ä»¬ç®—æ³•çš„å¤æ‚åº¦æ˜¯ç³»ç»ŸçŠ¶æ€æ•°çš„å››é˜¶å’Œé”™è¯¯ç±»å‹æ•°çš„çº¿æ€§é˜¶ã€‚è€Œ<sup class="footnote-ref"><a href="#fn4" id="fnref4:7">[4:7]</a></sup>ä¸­æµ‹è¯•æ–¹æ³•çš„å¤æ‚åº¦æ˜¯ç³»ç»ŸçŠ¶æ€æ•°çš„æŒ‡æ•°é˜¶å’Œé”™è¯¯ç±»å‹æ•°çš„åŒå€æŒ‡æ•°é˜¶ã€‚</p><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>Chen, Yi-Liang, and Gregory Provan. â€œModeling and diagnosis of timed discrete event systems-a factory automation example.â€ Proceedings of the 1997 American Control Conference (Cat. No. 97CH36041). Vol. 1. IEEE, 1997. <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>L. Holloway and S. Chand, â€œTime templates for discrete event fault monitoring in manufacturing systems,â€ in Proc. 1994 Amer. Control Conf.,1994, pp. 701â€“706. <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p>F. Lin, â€œDiagnosability of discrete-event systems and its applications,â€ J. Discrete Event Dyn. Syst.: Theory Appl., vol. 4, no. 2, pp. 197â€“212, May 1994. <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li><li id="fn4" class="footnote-item"><p>M. Sampath, R. Sengupta, S. Lafortune, K. Sinnamohideen, and D. Teneketzis, â€œDiagnosability of discrete-event systems,â€ IEEE Trans. Automat. Contr., vol. 40, pp. 1555â€“1575, Sept. 1995. <a href="#fnref4" class="footnote-backref">â†©ï¸</a> <a href="#fnref4:1" class="footnote-backref">â†©ï¸</a> <a href="#fnref4:2" class="footnote-backref">â†©ï¸</a> <a href="#fnref4:3" class="footnote-backref">â†©ï¸</a> <a href="#fnref4:4" class="footnote-backref">â†©ï¸</a> <a href="#fnref4:5" class="footnote-backref">â†©ï¸</a> <a href="#fnref4:6" class="footnote-backref">â†©ï¸</a> <a href="#fnref4:7" class="footnote-backref">â†©ï¸</a></p></li><li id="fn5" class="footnote-item"><p>S. H. Zad, R. H. Kwong, and W. M. Wonham, â€œFault diagnosis in timed discrete-event systems,â€ in Proc. 38th IEEE Conf. Decision Control, Phoenix, AZ, Dec. 1999, pp. 1756â€“1761. <a href="#fnref5" class="footnote-backref">â†©ï¸</a></p></li><li id="fn6" class="footnote-item"><p>G. Westerman, R. Kumar, C. Stroud, and J. R. Heath, â€œDiscrete-event systems approach for delay fault analysis in digital circuits,â€ in Proc. 1998 Amer. Control Conf., Philadelphia, PA, 1998. <a href="#fnref6" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æ–‡çŒ®ç¿»è¯‘ï¼šä¸€ä¸ªæµ‹è¯•ç¦»æ•£äº‹ä»¶ç³»ç»Ÿå¯è¯Šæ–­æ€§çš„å¤šé¡¹å¼æ—¶é—´ç®—æ³•&lt;br /&gt;
authors: Shengbing Jiang, Zhongdong Huang, Vigyan Chandra, and Ratnesh Kumar&lt;br /&gt;
åŸæ–‡: &lt;a href=&quot;https://ieeexplore.ieee.org/document/940942&quot;&gt;A polynomial algorithm for testing diagnosability of discrete-event systems&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;abstract&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#abstract&quot;&gt;&lt;/a&gt; Abstract&lt;/h2&gt;
&lt;p&gt;â€ƒâ€ƒå¤§å‹å¤æ‚ç³»ç»Ÿä¸­çš„é”™è¯¯è¯Šæ–­æ˜¯ä¸€é¡¹å…³é”®ä»»åŠ¡ã€‚åœ¨ç¦»æ•£äº‹ä»¶ç³»ç»Ÿï¼ˆDESï¼‰é¢†åŸŸï¼ŒSampath ç­‰äººæå‡ºäº†ä¸€ç§åŸºäºè¯­è¨€çš„é”™è¯¯è¯Šæ–­æ–¹æ³•ã€‚ä»–ä»¬ä¸ºDESå¼•å…¥å¯è¯Šæ–­æ€§æ¦‚å¿µå’Œå®šä¹‰ï¼Œå¹¶ä½¿ç”¨æ ¹æ®ç³»ç»Ÿæ„å»ºçš„è¯Šæ–­å™¨æ¥æµ‹è¯•ç³»ç»Ÿçš„å¯è¯Šæ–­æ€§ã€‚è¿™ç§æµ‹è¯•å¯è¯Šæ–­æ€§çš„æ–¹æ³•çš„å¤æ‚åº¦æ˜¯ç³»ç»ŸçŠ¶æ€æ•°çš„æŒ‡æ•°çº§åˆ«çš„ï¼Œå¯¹äºç³»ç»Ÿé”™è¯¯æ•°é‡æ˜¯åŒå€æŒ‡æ•°çº§åˆ«çš„ã€‚æœ¬æ–‡ç»™å‡ºä¸€ç§ä¸æ„å»ºç³»ç»Ÿè¯Šæ–­å™¨çš„å¯è¯Šæ–­æ€§æµ‹è¯•ç®—æ³•ï¼Œå…¶å¤æ‚åº¦åœ¨ç³»ç»ŸçŠ¶æ€æ•°ä¸Šæ˜¯å››é˜¶çš„ï¼Œåœ¨æ•…éšœç±»å‹æ•°ä¸Šæ˜¯çº¿æ€§çš„ã€‚&lt;/p&gt;
&lt;p&gt;Index Terms: Complexity, diagnosability, discrete event system, failure diagnosis.&lt;/p&gt;</summary>
    
    
    
    <category term="dissertation" scheme="http://rovo98.github.io/categories/dissertation/"/>
    
    
    <category term="paper translation" scheme="http://rovo98.github.io/tags/paper-translation/"/>
    
  </entry>
  
  <entry>
    <title>The Notion of the Diagnosability</title>
    <link href="http://rovo98.github.io/posts/57ea30e/"/>
    <id>http://rovo98.github.io/posts/57ea30e/</id>
    <published>2019-12-28T16:00:00.000Z</published>
    <updated>2022-05-29T15:57:51.277Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ–‡çŒ®å†…å®¹ç¿»è¯‘ï¼šå¯è¯Šæ–­æ€§æ¦‚å¿µ<br />authors: Meera Sampath, Raja Sengupta, StCphane Lafortune, Member, IEEE, Kasim Sinnamohideen, Member, IEEE, and Demosthenis Teneketzis, Member, IEEE<br />åŸæ–‡: <a href="https://ieeexplore.ieee.org/document/412626">Diagnosability of discrete-event systems</a></p></blockquote><span id="more"></span><h2 id="a-the-system-model"><a class="markdownIt-Anchor" href="#a-the-system-model"></a> A. The System Model</h2><p>å¾…è¯Šæ–­ç³»ç»Ÿé€šå¸¸ä½¿ç”¨ä¸€ä¸ª FSM æˆ–ç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰æ¥è¿›è¡Œå»ºæ¨¡ã€‚</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi mathvariant="normal">Î£</mi><mo separator="true">,</mo><mi>Î´</mi><mo separator="true">,</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G = (X, \Sigma, \delta, x_0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">Î£</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>å…¶ä¸­<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span>æ˜¯çŠ¶æ€ç©ºé—´ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î£</span></span></span></span>æ˜¯äº‹ä»¶é›†ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î´</mi></mrow><annotation encoding="application/x-tex">\delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span></span></span></span>æ˜¯ä¸€ä¸ªéƒ¨åˆ†è½¬ç§»å‡½æ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">x_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯ç³»ç»Ÿçš„åˆå§‹çŠ¶æ€ã€‚ç³»ç»Ÿæ¨¡å‹<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>è®°å½•ç³»ç»Ÿæ­£å¸¸å’Œé”™è¯¯è¡Œä¸ºã€‚ç³»ç»Ÿçš„è¡Œä¸ºä½¿ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>ç”Ÿæˆçš„å‰ç¼€é—­åˆè¯­è¨€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(G)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span></span></span></span>æ¥æè¿°<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ã€‚æ­¤åï¼Œæˆ‘ä»¬ä½¿ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>ç›´æ¥è¡¨ç¤º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(G)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mclose">)</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="normal">Î£</mi><mo>âˆ—</mo></msup></mrow><annotation encoding="application/x-tex">\Sigma^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span></span></span></span>çš„å­é›†ï¼Œå…¶ä¸­<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="normal">Î£</mi><mo>âˆ—</mo></msup></mrow><annotation encoding="application/x-tex">\Sigma^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span></span></span></span>æ˜¯äº‹ä»¶é›†çš„ Kleene é—­åŒ…<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>ã€‚</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î£</span></span></span></span>ä¸­ä¸€äº›äº‹ä»¶æ˜¯å¯è§‚çš„ï¼Œå³å®ƒä»¬çš„å‘ç”Ÿæ˜¯è¢«è§‚æµ‹åˆ°çš„ï¼Œå…¶ä»–çš„æ˜¯ä¸å¯è§‚çš„ã€‚å› æ­¤ï¼Œäº‹ä»¶é›†å¯ä»¥åˆ’åˆ†ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î£</mi><mo>=</mo><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub><mo>âˆª</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>u</mi><mi>o</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\Sigma = \Sigma_o\cup\Sigma_{uo}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î£</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆª</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œå…¶ä¸­<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºå¯è§‚äº‹ä»¶é›†ï¼Œè€Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mrow><mi>u</mi><mi>o</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\Sigma_{uo}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºä¸å¯è§‚äº‹ä»¶é›†ã€‚ç³»ç»Ÿä¸­å¯è§‚äº‹ä»¶å¯èƒ½æ˜¯ä»¥ä¸‹æƒ…å†µä¸‹ä¹‹ä¸€ï¼šæ§åˆ¶å™¨å‘å‡ºçš„æŒ‡ä»¤ï¼Œåœ¨æ‰§è¡Œä¸Šè¿°å‘½ä»¤åç«‹å³è¯»å–çš„ä¼ æ„Ÿå™¨è¯»æ•°ä»¥åŠä¼ æ„Ÿå™¨è¯»æ•°çš„å˜åŒ–ã€‚ä¸å¯è§‚äº‹ä»¶å¯ä»¥æ˜¯é”™è¯¯äº‹ä»¶æˆ–å¯¼è‡´ä¼ æ„Ÿå™¨æœªè®°å½•çš„ç³»ç»ŸçŠ¶æ€æ›´æ”¹ï¼ˆè§<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>ï¼‰ã€‚</p><p>ä»¤<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>f</mi></msub><mo>âŠ†</mo><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\Sigma_f\subseteq \Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âŠ†</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î£</span></span></span></span>è¡¨ç¤ºå¾…è¯Šæ–­çš„é”™è¯¯äº‹ä»¶é›†ã€‚ä¸å¤±ä¸€èˆ¬æ€§åœ°ï¼Œæˆ‘ä»¬å‡è®¾<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>f</mi></msub><mo>âŠ†</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>u</mi><mi>o</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\Sigma_f\subseteq\Sigma_{uo}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âŠ†</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œå› ä¸ºä¸€ä¸ªå¯è§‚çš„é”™è¯¯äº‹ä»¶æ˜¾ç„¶æ˜¯å®¹æ˜“è¯Šæ–­çš„ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ ¹æ®ç³»ç»Ÿç”Ÿæˆçš„ä¸²æ¥è¯Šæ–­æ˜¯å¦æœ‰é”™è¯¯äº‹ä»¶çš„å‘ç”Ÿï¼Œå…¶ä¸­ä¸²ä¸­åŒ…å«çš„äº‹ä»¶å‡æ˜¯å¯è§‚çš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†é”™è¯¯äº‹ä»¶é›†åˆ’åˆ†æˆå¤šä¸ªä¸ç›¸äº¤çš„é›†ï¼ˆdisjoint setï¼‰ï¼Œå¯¹åº”è¡¨ç¤ºä¸åŒçš„é”™è¯¯ç±»å‹ã€‚</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>f</mi></msub><mo>=</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub><mo>âˆª</mo><mo>â‹¯</mo><mo>âˆª</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>m</mi></mrow></msub><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\Sigma_f = \Sigma_{f1}\cup\cdots\cup\Sigma_{fm}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆª</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆª</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">.</span></span></span></span></span></p><p>ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î </mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">\Pi_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºè¿™ä¸ªåˆ’åˆ†ã€‚ä½¿ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î </mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">\Pi_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>ä¸»è¦å‡ºäºä»¥ä¸‹è€ƒè™‘ï¼š</p><ul><li><ol><li>ä»ªå™¨ä¸è¶³å¯èƒ½ä¼šå¯¼è‡´æ— æ³•è¯Šæ–­æ¯ä¸ªå¯èƒ½çš„é”™è¯¯ï¼›</li></ol></li><li><ol start="2"><li>æˆ‘ä»¬å¯èƒ½ä¸éœ€è¦å”¯ä¸€æ ‡è¯†æ¯ä¸ªé”™è¯¯äº‹ä»¶çš„å‘ç”Ÿã€‚æˆ‘ä»¬å¯èƒ½åªæ˜¯æƒ³çŸ¥é“ä¸€ç»„é”™è¯¯äº‹ä»¶é›†ä¸­æ˜¯å¦æœ‰ä¸€ä¸ªé”™è¯¯äº‹ä»¶å‘ç”Ÿäº†ï¼Œä¾‹å¦‚ï¼Œå½“ä¸€ç»„é”™è¯¯äº‹ä»¶å¯¹ç³»ç»Ÿçš„å½±å“ç›¸åŒæ—¶ã€‚</li></ol></li></ul><p>æ­¤åï¼Œå½“æˆ‘ä»¬å†™åˆ°â€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">F_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ç±»å‹çš„é”™è¯¯å‘ç”Ÿäº†â€œï¼Œæ„å‘³ç€â€é›†åˆ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\Sigma_{fi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>ä¸­æœ‰é”™è¯¯äº‹ä»¶å‘ç”Ÿäº†â€œã€‚</p><p>æˆ‘ä»¬å‡è®¾ç ”ç©¶çš„ç³»ç»Ÿï¼š</p><ul><li>A1) ç³»ç»Ÿ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>çš„ç”Ÿæˆè¯­è¨€æ˜¯æ´»è¯­è¨€ï¼Œå³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span>ä¸­çš„æ¯ä¸€ä¸ªçŠ¶æ€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>å‡æœ‰å®šä¹‰è½¬ç§»ï¼Œå³ç³»ç»Ÿä¸ä¼šåˆ°è¾¾ä¸€ä¸ªæ²¡æœ‰äº‹ä»¶æ ‡ç­¾çš„ç‚¹ï¼›</li><li>A2) ç³»ç»Ÿ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>ä¸­ä¸å­˜åœ¨ä»»ä½•ç”±ä¸å¯è§‚äº‹ä»¶å½¢æˆçš„ç¯ï¼Œå³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆƒ</mi><msub><mi>n</mi><mi>o</mi></msub><mo>âˆˆ</mo><mrow><mi mathvariant="double-struck">I</mi><mi mathvariant="double-struck">N</mi></mrow></mrow><annotation encoding="application/x-tex">\exists n_o\in \mathbb{IN}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord">âˆƒ</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">I</span><span class="mord mathbb">N</span></span></span></span></span>ä½¿å¾—<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">âˆ€</mi><mi>u</mi><mi>s</mi><mi>t</mi><mo>âˆˆ</mo><mi>L</mi><mo separator="true">,</mo><mi>s</mi><mo>âˆˆ</mo><msubsup><mi mathvariant="normal">Î£</mi><mrow><mi>u</mi><mi>o</mi></mrow><mo>âˆ—</mo></msubsup><mo>â‡’</mo><mo stretchy="false">âˆ¥</mo><mi>s</mi><mo stretchy="false">âˆ¥</mo><mo>â‰¤</mo><msub><mi>n</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">\forall ust\in L, s\in \Sigma^*_{uo}\Rightarrow\lVert s\rVert\leq n_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord">âˆ€</span><span class="mord mathdefault">u</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">L</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.935696em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">o</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‡’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">âˆ¥</span><span class="mord mathdefault">s</span><span class="mclose">âˆ¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œå…¶ä¸­<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">âˆ¥</mo><mi>s</mi><mo stretchy="false">âˆ¥</mo></mrow><annotation encoding="application/x-tex">\lVert s\rVert</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">âˆ¥</span><span class="mord mathdefault">s</span><span class="mclose">âˆ¥</span></span></span></span>è¡¨ç¤ºä¸²<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>çš„é•¿åº¦ã€‚</li></ul><p>é’ˆå¯¹<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>æ˜¯æ´»è¯­è¨€çš„å‡è®¾ä¸»è¦æ˜¯ä¸ºäº†ç ”ç©¶ç®€å•ã€‚ç¨ä½œä¿®æ”¹ï¼Œå½“è¯¥å‡è®¾æ”¾æ¾æ—¶ï¼Œæœ¬æ–‡çš„æ‰€æœ‰ä¸»è¦ç»“æœå‡æˆç«‹ã€‚å‡è®¾2) ç¡®ä¿äº†ç³»ç»Ÿç”Ÿæˆçš„è§‚å¯Ÿå…·å¤‡æŸäº›è§„å¾‹ã€‚ç”±äºé”™è¯¯çš„æ£€æµ‹æ˜¯åŸºäºç³»ç»Ÿçš„å¯è§‚è½¬ç§»ï¼Œæˆ‘ä»¬è¦æ±‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>ä¸äº§ç”Ÿä»»æ„é•¿åº¦çš„ä¸å¯è§‚äº‹ä»¶åºåˆ—ã€‚</p><p>åœ¨<sup class="footnote-ref"><a href="#fn2" id="fnref2:1">[2:1]</a></sup>ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†è®¨è®ºäº†ç”¨äºé”™è¯¯è¯Šæ–­çš„ç¦»æ•£äº‹ä»¶ç³»ç»Ÿå»ºæ¨¡ã€‚å‡è®¾å¾…è¯Šæ–­ç³»ç»ŸåŒ…å«è®¸å¤šä¸åŒçš„ç‰©ç†ç»„ä»¶ä»¥åŠä¸€ç»„ä¼ æ„Ÿå™¨ã€‚æˆ‘ä»¬é¦–å…ˆä¸ºæ¯ä¸ªç‹¬ç«‹çš„ç»„ä»¶æ„å»ºç›¸åº”çš„ FSMã€‚è¿™äº›æ¨¡å‹ä¼šè®°å½•ç›¸åº”ç»„ä»¶çš„æ­£å¸¸å’Œé”™è¯¯è¡Œä¸ºã€‚è€ƒè™‘ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­ï¼Œä¸€ä¸ªç”±æ³µã€é˜€é—¨å’Œæ§åˆ¶å™¨ç»„æˆçš„ç®€å• HVAC ç³»ç»Ÿã€‚Fig. 1æç»˜äº†è¯¥ç³»ç»Ÿç»„ä»¶çš„æ¨¡å‹ã€‚ä»ç»„ä»¶æ¨¡å‹å’Œä¼ æ„Ÿå™¨å›¾å¼€å§‹ï¼Œç„¶åæˆ‘ä»¬ç”Ÿæˆäº†ä¸€ä¸ªå¤åˆæ¨¡å‹ï¼Œè¯¥æ¨¡å‹æ•è·äº†ç»„ä»¶ä¹‹é—´çš„äº¤äº’å¹¶å°†ä¼ æ„Ÿå™¨å›¾çº³å…¥å…¶ä¸­ã€‚è¿™ä¸ªå¤åˆæ¨¡å‹å°±æ˜¯æˆ‘ä»¬æ‰§è¡Œé”™è¯¯è¯Šæ–­çš„ç³»ç»Ÿ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>ã€‚</p><div align="center" style="display: flex; flex-direction:column;">    <img data-src="component-models-for-a-simple-HVAC-system.png"/>    <span>Fig. 1. Component models for a simple HVAC system.</span></div><p>æˆ‘ä»¬åœ¨æœ¬èŠ‚çš„ç³»ç»Ÿæ¨¡å‹ä¸Šæ€»ç»“ä¸€äº›ç¬¦å·å’Œç”Ÿæˆå™¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>G</mi><mo mathvariant="normal">â€²</mo></msup></mrow><annotation encoding="application/x-tex">G&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span>çš„ç»“æ„ï¼Œä»¥ä¾¿ä¹‹åä½¿ç”¨ã€‚</p><p><strong>1) Notation:</strong> ç©ºä¸²ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Îµ</mi></mrow><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">Îµ</span></span></span></span>è¡¨ç¤ºã€‚ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>s</mi><mo stretchy="true">â€¾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{s}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.63056em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">s</span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºä»»æ„ä¸²<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo>âˆˆ</mo><msup><mi mathvariant="normal">Î£</mi><mo>âˆ—</mo></msup></mrow><annotation encoding="application/x-tex">s\in\Sigma^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span></span></span></span>çš„å‰ç¼€é—­åŒ…ã€‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>çš„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>åè¯­è¨€ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi mathvariant="normal">/</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">L/s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mord">/</span><span class="mord mathdefault">s</span></span></span></span>è¡¨ç¤ºï¼Œå³</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi mathvariant="normal">/</mi><mi>s</mi><mo>=</mo><mo stretchy="false">{</mo><mi>t</mi><mo>âˆˆ</mo><msup><mi mathvariant="normal">Î£</mi><mo>âˆ—</mo></msup><mi mathvariant="normal">âˆ£</mi><mi>s</mi><mi>t</mi><mo>âˆˆ</mo><mi>L</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">L/s = \{t\in\Sigma^*|st\in L\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mord">/</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mclose">}</span></span></span></span></span></p><p>æˆ‘ä»¬é€šå¸¸å®šä¹‰æŠ•å½±P: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="normal">Î£</mi><mo>âˆ—</mo></msup><mo>â†’</mo><msubsup><mi mathvariant="normal">Î£</mi><mi>o</mi><mo>âˆ—</mo></msubsup></mrow><annotation encoding="application/x-tex">\Sigma^* \to \Sigma^*_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.935696em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span><sup class="footnote-ref"><a href="#fn1" id="fnref1:1">[1:1]</a></sup>ã€‚</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left right left" columnspacing="0em 1em 0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>Îµ</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>Îµ</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>Ïƒ</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>Ïƒ</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>i</mi><mi>f</mi><mspace width="1em"/><mi>Ïƒ</mi><mo>âˆˆ</mo><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>Ïƒ</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>Îµ</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>i</mi><mi>f</mi><mspace width="1em"/><mi>Ïƒ</mi><mo>âˆˆ</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>u</mi><mi>o</mi></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>s</mi><mi>Ïƒ</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><mi>Ïƒ</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>s</mi><mo>âˆˆ</mo><msup><mi mathvariant="normal">Î£</mi><mo>âˆ—</mo></msup><mo separator="true">,</mo><mi>Ïƒ</mi><mo>âˆˆ</mo><mi mathvariant="normal">Î£</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}P(\varepsilon)&amp; = &amp;\varepsilon \\P(\sigma)&amp; = &amp;\sigma &amp;if\quad \sigma\in\Sigma_o \\P(\sigma)&amp; =&amp; \varepsilon&amp; if\quad \sigma \in \Sigma_{uo}\\P(s\sigma)&amp; = &amp;P(s)P(\sigma) &amp;s\in \Sigma^*, \sigma\in\Sigma.\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6em;vertical-align:-2.7500000000000004em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault">Îµ</span><span class="mclose">)</span></span></span><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose">)</span></span></span><span style="top:-2.4099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose">)</span></span></span><span style="top:-0.9099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.7500000000000004em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span><span style="top:-2.4099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span><span style="top:-0.9099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.7500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">Îµ</span></span></span><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span></span></span><span style="top:-2.4099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">Îµ</span></span></span><span style="top:-0.9099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.7500000000000004em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7500000000000002em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.4099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.9099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.738696em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">Î£</span><span class="mord">.</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.7500000000000004em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>æ¢å¥è¯è¯´ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span>ç®€å•åœ°â€æ¸…é™¤â€œäº†ä¸²ä¸­çš„ä¸å¯è§‚äº‹ä»¶ã€‚é€†æŠ•å½±æ“ä½œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>P</mi><mi>L</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msubsup></mrow><annotation encoding="application/x-tex">P^{-1}_L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.14777em;vertical-align:-0.293531em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.854239em;"><span style="top:-2.4064690000000004em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span><span style="top:-3.1031310000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.293531em;"><span></span></span></span></span></span></span></span></span></span>å®šä¹‰å¦‚ä¸‹ï¼š</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>P</mi><mi>L</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msubsup><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>s</mi><mo>âˆˆ</mo><mi>L</mi><mo>:</mo><mi>P</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mi>y</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">P^{-1}_L(y) = \{s\in L:P(s)=y\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.14777em;vertical-align:-0.28366199999999997em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.416338em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.28366199999999997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">}</span></span></span></span></span></p><p>ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">s_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºä¸²<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>çš„æœ€åä¸€ä¸ªäº‹ä»¶ï¼Œæˆ‘ä»¬å®šä¹‰ï¼š</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î¨</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo>=</mo><mo stretchy="false">{</mo><mi>s</mi><msub><mi>Ïƒ</mi><mi>f</mi></msub><mo>âˆˆ</mo><mi>L</mi><mo>:</mo><msub><mi>Ïƒ</mi><mi>f</mi></msub><mo>âˆˆ</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\Psi(\Sigma_{fi} = \{s\sigma_f\in L:\sigma_f\in \Sigma_{fi}\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord">Î¨</span><span class="mopen">(</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">{</span><span class="mord mathdefault">s</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8252079999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></span></p><p>å³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î¨</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Psi(\Sigma_{fi})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord">Î¨</span><span class="mopen">(</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>è¡¨ç¤º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>ä¸­æ‰€æœ‰ä»¥é”™è¯¯ç±»å‹ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">F_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„é”™è¯¯äº‹ä»¶ç»“å°¾çš„ä¸²çš„é›†åˆã€‚è€ƒè™‘<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ïƒ</mi><mo>âˆˆ</mo><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\sigma\in\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î£</span></span></span></span>ä»¥åŠ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo>âˆˆ</mo><msup><mi mathvariant="normal">Î£</mi><mo>âˆ—</mo></msup></mrow><annotation encoding="application/x-tex">s\in\Sigma^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span></span></span></span>ã€‚æˆ‘ä»¬ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ïƒ</mi><mo>âˆˆ</mo><mi>s</mi></mrow><annotation encoding="application/x-tex">\sigma\in s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>è¡¨ç¤ºä¸²<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>å‘ç”Ÿäº†äº‹ä»¶<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span></span></span></span>ã€‚ç•¥å¾®æ»¥ç”¨ç¬¦å·ï¼Œæˆ‘ä»¬ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo>âˆˆ</mo><mi>s</mi></mrow><annotation encoding="application/x-tex">\Sigma_{fi}\in s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>è¡¨ç¤ºå¯¹äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Ïƒ</mi><mi>f</mi></msub><mo>âˆˆ</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\sigma_f\in\Sigma_{fi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8252079999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>æœ‰<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Ïƒ</mi><mi>f</mi></msub><mo>âˆˆ</mo><mi>s</mi></mrow><annotation encoding="application/x-tex">\sigma_f\in s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8252079999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>ï¼Œæˆ–æ­£å¼åœ°ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>s</mi><mo stretchy="true">â€¾</mo></mover><mo>âˆ©</mo><mi mathvariant="normal">Î¨</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mi mathvariant="normal">â‰ </mi><mi mathvariant="normal">âˆ…</mi></mrow><annotation encoding="application/x-tex">\overline{s}\cap\Psi(\Sigma_{fi})\neq\emptyset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.63056em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">s</span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord">Î¨</span><span class="mopen">(</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">âˆ…</span></span></span></span>ã€‚æˆ‘ä»¬å®šä¹‰</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>X</mi><mi>o</mi></msub><mo>=</mo><mo stretchy="false">{</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">}</mo><mo>âˆª</mo><mo stretchy="false">{</mo><mi>x</mi><mo>âˆˆ</mo><mi>X</mi><mo>:</mo><mi>x</mi><mi mathvariant="normal">ä¸­</mi><mi mathvariant="normal">åŒ…</mi><mi mathvariant="normal">å«</mi><mi mathvariant="normal">ä¸€</mi><mi mathvariant="normal">ä¸ª</mi><mi mathvariant="normal">å¯</mi><mi mathvariant="normal">è§‚</mi><mi mathvariant="normal">äº‹</mi><mi mathvariant="normal">ä»¶</mi><mo stretchy="false">}</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">X_o = \{x_0\}\cup\{x\in X:xä¸­åŒ…å«ä¸€ä¸ªå¯è§‚äº‹ä»¶\}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆª</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mord cjk_fallback">ä¸­</span><span class="mord cjk_fallback">åŒ…</span><span class="mord cjk_fallback">å«</span><span class="mord cjk_fallback">ä¸€</span><span class="mord cjk_fallback">ä¸ª</span><span class="mord cjk_fallback">å¯</span><span class="mord cjk_fallback">è§‚</span><span class="mord cjk_fallback">äº‹</span><span class="mord cjk_fallback">ä»¶</span><span class="mclose">}</span><span class="mord">.</span></span></span></span></span></p><p>ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(G,x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>è¡¨ç¤ºä»<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>ä¸­çŠ¶æ€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>å‡ºå‘äº§ç”Ÿçš„æ‰€æœ‰ä¸²çš„é›†åˆï¼Œæˆ‘ä»¬å®šä¹‰</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mi>o</mi></msub><mo stretchy="false">(</mo><mi>G</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>s</mi><mo>âˆˆ</mo><mi>L</mi><mo stretchy="false">(</mo><mi>G</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo><mi>s</mi><mo>=</mo><mi>u</mi><mi>Ïƒ</mi><mo separator="true">,</mo><mi>u</mi><mo>âˆˆ</mo><msubsup><mi mathvariant="normal">Î£</mi><mrow><mi>u</mi><mi>o</mi></mrow><mo>âˆ—</mo></msubsup><mo separator="true">,</mo><mi>Ïƒ</mi><mo>âˆˆ</mo><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">L_o(G, x) = \{s\in L(G,x):s=u\sigma, u\in \Sigma^*_{uo}, \sigma\in \Sigma_o\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9856959999999999em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7386959999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">o</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></span></p><p>ä»¥åŠ</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mi>Ïƒ</mi></msub><mo stretchy="false">(</mo><mi>G</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>s</mi><mo>âˆˆ</mo><msub><mi>L</mi><mi>o</mi></msub><mo stretchy="false">(</mo><mi>G</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo><msub><mi>s</mi><mi>f</mi></msub><mo>=</mo><mi>Ïƒ</mi><mo stretchy="false">}</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">L_{\sigma}(G,x) = \{s\in L_o(G,x):s_f=\sigma\}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose">}</span><span class="mord">.</span></span></span></span></span></p><p>å…¶ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mi>o</mi></msub><mo stretchy="false">(</mo><mi>G</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L_o(G,x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>è¡¨ç¤ºä»çŠ¶æ€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>å¼€å§‹ä»¥ç¬¬ä¸€ä¸ªå¯è§‚äº‹ä»¶ç»“æŸçš„æ‰€æœ‰ä¸²çš„é›†åˆã€‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mi>Ïƒ</mi></msub><mo stretchy="false">(</mo><mi>G</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L_{\sigma}(G,x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>è¡¨ç¤º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mi>o</mi></msub><mo stretchy="false">(</mo><mi>G</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L_o(G,x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>ä¸­ä»¥ä¸€ä¸ªç‰¹å®šå¯è§‚äº‹ä»¶ç»“æŸçš„ä¸²çš„é›†åˆã€‚</p><p><strong>2) The Generator Gâ€™</strong>: æ¥ä¸‹æ¥çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬éœ€è¦ç‰¹æ®Šæ„é€ ä¸€ä¸ªæ‹¥æœ‰è¯­è¨€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>çš„ç”Ÿæˆå™¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>G</mi><mo mathvariant="normal">â€²</mo></msup></mrow><annotation encoding="application/x-tex">G&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span></p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>t</mi><mo>:</mo><mi>t</mi><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mi mathvariant="normal">å¯¹</mi><mi mathvariant="normal">äº</mi><mi mathvariant="normal">æŸ</mi><mi mathvariant="normal">äº›</mi><mi>s</mi><mo>âˆˆ</mo><mi>L</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">P(L) = \{t:t=P(s) å¯¹äºæŸäº› s\in L\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault">L</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mclose">)</span><span class="mord cjk_fallback">å¯¹</span><span class="mord cjk_fallback">äº</span><span class="mord cjk_fallback">æŸ</span><span class="mord cjk_fallback">äº›</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mclose">}</span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>G</mi><mo mathvariant="normal">â€²</mo></msup></mrow><annotation encoding="application/x-tex">G&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span>é€šå¸¸æ˜¯ä¸ç¡®å®šçš„ï¼ˆnondeterministicï¼‰ï¼Œå¹¶ä¸”å®ƒçš„ç»“æ„å¦‚ä¸‹</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>G</mi><mo mathvariant="normal">â€²</mo></msup><mo>=</mo><mo stretchy="false">(</mo><msub><mi>X</mi><mi>o</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub><mo separator="true">,</mo><msub><mi>Î´</mi><msup><mi>G</mi><mo mathvariant="normal">â€²</mo></msup></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G&#x27; = (X_o, \Sigma_o, \delta_{G&#x27;}, x_0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.801892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>å…¶ä¸­<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>X</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">X_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">x_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å…ˆå‰å·²ç»å®šä¹‰è¿‡äº†ã€‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>G</mi><mo mathvariant="normal">â€²</mo></msup></mrow><annotation encoding="application/x-tex">G&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span>çš„è½¬ç§»å…³ç³»ç”±<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Î´</mi><msup><mi>G</mi><mo mathvariant="normal">â€²</mo></msup></msub><mo>âŠ†</mo><mo stretchy="false">(</mo><msub><mi>X</mi><mi>o</mi></msub><mo>Ã—</mo><mi mathvariant="normal">Î£</mi><mo>Ã—</mo><msub><mi>X</mi><mi>o</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\delta_{G&#x27;}\subseteq (X_o\times\Sigma\times X_o)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âŠ†</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord">Î£</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œå…¶å®šä¹‰å¦‚ä¸‹</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>Ïƒ</mi><mo separator="true">,</mo><msup><mi>x</mi><mo mathvariant="normal">â€²</mo></msup><mo stretchy="false">)</mo><mo>âˆˆ</mo><msub><mi>Î´</mi><msup><mi>G</mi><mo mathvariant="normal">â€²</mo></msup></msub><mspace linebreak="newline"></mspace><mi mathvariant="normal">å¦‚</mi><mi mathvariant="normal">æœ</mi><mi>Î´</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>x</mi><mo mathvariant="normal">â€²</mo></msup><mi mathvariant="normal">å¯¹</mi><mi mathvariant="normal">äº</mi><mi mathvariant="normal">æŸ</mi><mi mathvariant="normal">äº›</mi><mi>s</mi><mo>âˆˆ</mo><msub><mi>L</mi><mi>Ïƒ</mi></msub><mo stretchy="false">(</mo><mi>G</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,\sigma,x&#x27;)\in \delta_{G&#x27;} \\å¦‚æœ \delta(x,s) = x&#x27; å¯¹äºæŸäº› s\in L_{\sigma}(G,x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord cjk_fallback">å¦‚</span><span class="mord cjk_fallback">æœ</span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8409920000000001em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">å¯¹</span><span class="mord cjk_fallback">äº</span><span class="mord cjk_fallback">æŸ</span><span class="mord cjk_fallback">äº›</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span></span></p><p>å¯ä»¥å¾ˆè½»æ˜“åœ°éªŒè¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><msup><mi>G</mi><mo mathvariant="normal">â€²</mo></msup><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(G&#x27;) = P(L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault">L</span><span class="mclose">)</span></span></span></span>. Figs. 4-6 å±•ç¤ºäº†å¦‚æœä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span></span></span></span>ä¸‰ä¸ªä¸åŒç³»ç»Ÿæ„é€ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>G</mi><mo mathvariant="normal">â€²</mo></msup></mrow><annotation encoding="application/x-tex">G&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span>ã€‚</p><div align="center" style="display: flex; flex-direction:column;">    <img data-src="Example-of-a-system-with-an-F1-indeterminate-cycle-in-its-diagnoser-Gd.png"/>    <span>Fig. 4. Example of system with F1 indeterminate cycle in its diagnoser Gd.</span></div><div align="center" style="display: flex; flex-direction:column;">    <img data-src="Example-of-a-system-with-a-cycle-of-F1-uncertain-states-in-its-diagnoser-Gd.png"/>    <span>Fig. 5. Example of system with a cycle of F1-uncertain states in its diagnoser Gd.</span></div><div align="center" style="display: flex; flex-direction:column;">    <img data-src="Another-example-of-a-system-with-an-F1-indeterminate-cycle-in-its-diagnoser.png"/>    <span>Fig. 6. Another example of system with F1 indeterminate cycle in its diagnoser.</span></div><h2 id="b-approaches-to-defining-diagnosability"><a class="markdownIt-Anchor" href="#b-approaches-to-defining-diagnosability"></a> B. Approaches to Defining Diagnosability</h2><p>æˆ‘ä»¬ç°åœ¨å‡†å¤‡å®šä¹‰å¯è¯Šæ–­æ€§çš„æ¦‚å¿µã€‚ä¸€èˆ¬è€Œè¨€ï¼Œä¸€ä¸ªè¯­è¨€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>æ˜¯å¯è¯Šæ–­çš„è‹¥å®ƒèƒ½å¤Ÿåœ¨æœ‰é™ç¡®åˆ‡å»¶è¿Ÿå†…ï¼Œä½¿ç”¨è®°å½•çš„å¯è§‚äº‹ä»¶ä¸²è¯Šæ–­å‡ºä»»æ„é”™è¯¯ç±»å‹çš„å‘ç”Ÿã€‚æˆ‘ä»¬å°†ç»™å‡ºå¯è¯Šæ–­æ€§çš„ä¸¤ç§å®šä¹‰æ–¹å¼ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå®šä¹‰è¦æ¯”ç¬¬äºŒä¸ªå®šä¹‰ä¸¥æ ¼ã€‚æˆ‘ä»¬ä¹‹åå°†å‚è€ƒçš„æ¦‚å¿µæ˜¯å¯è¯Šæ–­æ€§å’ŒI-å¯è¯Šæ–­æ€§ã€‚</p><p><strong>Diagnosability</strong>: é€šå¸¸ï¼Œæˆ‘ä»¬å®šä¹‰å¯è¯Šæ–­æ€§å¦‚ä¸‹ã€‚<br /><strong>Definition 1:</strong> ä¸€ä¸ªå‰ç¼€é—­åˆè¯­è¨€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>å¯¹äºæŠ•å½±<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>ä¸Šçš„é”™è¯¯åˆ’åˆ†<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î </mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">\Pi_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯å¯è¯Šæ–­çš„å½“</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ€</mi><mi>i</mi><mo>âˆˆ</mo><msub><mi mathvariant="normal">Î </mi><mi>f</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆƒ</mi><msub><mi>n</mi><mi>i</mi></msub><mo>âˆˆ</mo><mrow><mi mathvariant="double-struck">I</mi><mi mathvariant="double-struck">N</mi></mrow><mo stretchy="false">)</mo><mo stretchy="false">[</mo><mi mathvariant="normal">âˆ€</mi><mi>s</mi><mo>âˆˆ</mo><mi mathvariant="normal">Î¨</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ€</mi><mi>t</mi><mo>âˆˆ</mo><mi>L</mi><mi mathvariant="normal">/</mi><mi>s</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo stretchy="false">[</mo><mo stretchy="false">âˆ¥</mo><mi>t</mi><mo stretchy="false">âˆ¥</mo><mo>â‰¥</mo><msub><mi>n</mi><mi>i</mi></msub><mo>â‡’</mo><mi>D</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">(\forall i\in \Pi_f)(\exists n_i\in \mathbb{IN})[\forall s\in \Psi(\Sigma_{fi})](\forall t\in L/s) \\[\lVert t\rVert\geq n_i\Rightarrow D]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ€</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">âˆƒ</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbb">I</span><span class="mord mathbb">N</span></span><span class="mclose">)</span><span class="mopen">[</span><span class="mord">âˆ€</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord">Î¨</span><span class="mopen">(</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span><span class="mopen">(</span><span class="mord">âˆ€</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mord">/</span><span class="mord mathdefault">s</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mopen">âˆ¥</span><span class="mord mathdefault">t</span><span class="mclose">âˆ¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‡’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mclose">]</span></span></span></span></span></p><p>å…¶ä¸­è¯Šæ–­æ¡ä»¶D</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi><mo>âˆˆ</mo><msubsup><mi>P</mi><mi>L</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msubsup><mo stretchy="false">[</mo><mi>P</mi><mo stretchy="false">(</mo><mi>s</mi><mi>t</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>â‡’</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo>âˆˆ</mo><mi>w</mi></mrow><annotation encoding="application/x-tex">w \in P^{-1}_L[P(st)]\Rightarrow\Sigma_{fi}\in w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.14777em;vertical-align:-0.28366199999999997em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.416338em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.28366199999999997em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‡’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span></span></span></span></span></p><p>ä¸Šé¢å¯è¯Šæ–­æ€§çš„å®šä¹‰æ„å‘³ç€ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>æ˜¯ä¸€ä¸ªä»¥é”™è¯¯äº‹ä»¶é›†<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\Sigma_{fi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>ä¸­ä¸€ä¸ªé”™è¯¯äº‹ä»¶ç»“å°¾çš„ä¸²ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>çš„å……åˆ†é•¿åç¼€ã€‚è¯Šæ–­æ¡ä»¶Dè¡¨ç¤ºç³»ç»Ÿè¯­è¨€ä¸­ä»»ä½•ä¸€ä¸ªä¸ä¸²<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">st</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span></span></span></span>äº§ç”Ÿç›¸åŒæŠ•å½±åºåˆ—çš„ä¸²å¿…å®šåŒ…å«é”™è¯¯äº‹ä»¶é›†<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\Sigma_{fi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>ä¸­çš„ä¸€ä¸ªé”™è¯¯äº‹ä»¶ã€‚è¿™æ„å‘³ç€ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>çš„æ¯ä¸€ä¸ªè¿ç»­çš„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>éƒ½å¯ä»¥ç”¨äºåœ¨æœ‰é™å»¶è¿Ÿä¹‹å†…ï¼Œåœ¨å…·ä½“æœ€å¤š<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>ä¸ªç³»ç»ŸçŠ¶æ€è½¬ç§»ä¹‹åï¼Œæ¥è¯Šæ–­é”™è¯¯ç±»å‹<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">F_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å¯¹åº”é”™è¯¯äº‹ä»¶çš„å‘ç”Ÿã€‚æ¢å¥è¯è¯´ï¼Œå¯è¯Šæ–­æ€§è¦æ±‚ç³»ç»Ÿæ¯ä¸€ä¸ªé”™è¯¯äº‹ä»¶å‘ç”Ÿåï¼Œå†è®°å½•æ›´å¤šçš„å¯è§‚äº‹ä»¶ï¼Œä»¥ä¾¿ç³»ç»Ÿè¯Šæ–­è¯¥é”™è¯¯äº‹ä»¶çš„å‘ç”Ÿã€‚</p><p>æ¥è‡ªåŒä¸€ä¸ªé”™è¯¯åˆ’åˆ†çš„å¤šé”™è¯¯æƒ…å†µéœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚å½“ä¸€ä¸ªä¸²<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>ä¸­å‘ç”ŸåŒä¸€ä¸ªé”™è¯¯ç±»å‹<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">F_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„å¤šä¸ªé”™è¯¯äº‹ä»¶ï¼Œä¸Šé¢çš„å¯è¯Šæ–­æ€§å®šä¹‰ä¸è¦æ±‚æ¯ä¸€ä¸ªé”™è¯¯äº‹ä»¶çš„å‘ç”Ÿéƒ½è¢«æ£€æµ‹åˆ°ã€‚èƒ½å¤Ÿåœ¨å‘ç”Ÿç¬¬ä¸€ä¸ªé”™è¯¯åçš„æœ‰é™å¤šä¸ªäº‹ä»¶ä¸­å¾—å‡ºä¸²<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span>ä¸­å‘ç”Ÿäº†é”™è¯¯äº‹ä»¶é›†<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\Sigma_{fi}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>ä¸­çš„é”™è¯¯äº‹ä»¶ã€‚åœ¨åé¢çš„éƒ¨åˆ†ä¸­ï¼Œ æˆ‘ä»¬å°†çœ‹åˆ°è¿™ä¸€ç‰¹æ€§æ˜¯å¦‚ä½•åŒºåˆ†å¯èƒ½çš„å¤šä¸ªé”™è¯¯å‘ç”Ÿçš„æƒ…å†µä¸ä»»ä½•åˆ’åˆ†é›†åˆä¸­æ²¡æœ‰å¤šä¸ªé”™è¯¯å‘ç”Ÿçš„æƒ…å†µã€‚</p><p>æˆ‘ä»¬å±•ç¤ºä¸Šé¢å¯è¯Šæ–­æ€§æ¦‚å¿µçš„ä¸€ä¸ªç®€å•ä¾‹å­ã€‚è€ƒè™‘Fig. 2ä¸­è¡¨ç¤ºçš„ç³»ç»Ÿã€‚è¿™é‡Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î±</mi><mo separator="true">,</mo><mi>Î²</mi><mo separator="true">,</mo><mi>Î³</mi></mrow><annotation encoding="application/x-tex">\alpha, \beta, \gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">Î±</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">Î²</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">Î³</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î´</mi></mrow><annotation encoding="application/x-tex">\delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span></span></span></span>æ˜¯å¯è§‚äº‹ä»¶ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Ïƒ</mi><mrow><mi>u</mi><mi>o</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\sigma_{uo}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯ä¸å¯è§‚äº‹ä»¶ï¼Œè€Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>3</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\sigma_{f1},\sigma_{f2},\sigma_{f3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯é”™è¯¯äº‹ä»¶ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">x_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯ç³»ç»Ÿçš„åˆå§‹çŠ¶æ€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ã€‚å¦‚æœé€‰æ‹©é”™è¯¯åˆ’åˆ†<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub><mo>=</mo><mo stretchy="false">{</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\Sigma_{f1}=\{\sigma_{f1},\sigma_{f2}\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub><mo>=</mo><mo stretchy="false">{</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>3</mn></mrow></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\Sigma_{f2}=\{\sigma_{f3}\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>ï¼Œå³å®ƒä¸éœ€è¦åŒºåˆ†é”™è¯¯äº‹ä»¶<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\sigma_{f1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\sigma_{f2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œå¯¹äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>n</mi><mn>1</mn></msub><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">n_1=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n_2=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼Œä¸Šé¢çš„ç³»ç»Ÿæ˜¯å¯è¯Šæ–­çš„ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœé”™è¯¯åˆ’åˆ†æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub><mo>=</mo><mo stretchy="false">{</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\Sigma_{f1}=\{\sigma_{f1}\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub><mo>=</mo><mo stretchy="false">{</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\Sigma_{f2}=\{\sigma_{f2}\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mn>3</mn></mrow></msub><mo>=</mo><mo stretchy="false">{</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>3</mn></mrow></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\Sigma_{f3}=\{\sigma_{f3}\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>ï¼Œåˆ™ç³»ç»Ÿæ˜¯ä¸å¯è¯Šæ–­çš„ï¼Œå› ä¸ºå®ƒæ— æ³•æ¨æ–­å‡ºé”™è¯¯äº‹ä»¶<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\sigma_{f2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯å¦å‘ç”Ÿã€‚</p><p><strong>2) I-Diagnosability</strong>: ä¸Šé¢çš„å¯è¯Šæ–­æ€§å®šä¹‰è¦æ±‚<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>ä¸­çš„æ‰€æœ‰ä¸²æ»¡è¶³è¯Šæ–­æ¡ä»¶Dã€‚æˆ‘ä»¬ç°åœ¨æå‡ºä¸€ä¸ªå®½æ¾çš„å¯è¯Šæ–­æ€§å®šä¹‰ï¼ˆæœ¯è¯­è¡¨ç¤ºä¸ºI-å¯è¯Šæ–­æ€§ï¼‰ï¼Œå®ƒä¸éœ€è¦<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>çš„æ‰€æœ‰çš„ä¸²éƒ½æ»¡è¶³è¯Šæ–­æ¡ä»¶Dï¼Œä½†é€‚ç”¨äºé‚£äº›é”™è¯¯äº‹ä»¶åè·Ÿä¸æ¯ç§é”™è¯¯ç±»å‹ç›¸å…³çš„æŸäº›æŒ‡ç¤ºå¯è§‚äº‹ä»¶å½¢æˆçš„ä¸²ã€‚è¿™ç§ä¿®æ”¹æ˜¯å‡ºäºå¯¹ä¸‹é¢å®é™…æƒ…å†µçš„è€ƒè™‘ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘ä¸€ä¸ªæ‹¥æœ‰æ§åˆ¶å•å…ƒçš„ HVAC ç³»ç»Ÿã€‚æ­£å¸¸æ¨¡å¼æ“ä½œä¸‹ï¼Œæ¯å½“æ§åˆ¶å™¨æ£€æµ‹åˆ°ç³»ç»Ÿä¸Šçš„çƒ­è´Ÿè·æ—¶ï¼Œå®ƒéƒ½ä¼šå‘å‡ºâ€open valueâ€œï¼ˆæ‰“å¼€é˜€é—¨ï¼‰æ¥ä½œå‡ºå“åº”ï¼ŒåŒæ ·ï¼Œå½“è´Ÿè½½æ¶ˆå¤±æ—¶ï¼Œå®ƒä¼šå‘å‡ºâ€close valueâ€œï¼ˆå…³é—­é˜€é—¨ï¼‰æŒ‡ä»¤ã€‚å‡è®¾æ§åˆ¶å™¨å‘ç”Ÿäº†é”™è¯¯ï¼Œå®ƒæ— æ³•æ£€æµ‹åˆ°ç³»ç»Ÿæ˜¯å¦å‡ºç°è´Ÿè·ï¼Œå› æ­¤ä¸ä¼šå‘å‡ºä»»ä½•æŒ‡ä»¤æ§åˆ¶ã€‚å‡è®¾åœ¨è¿è¡ŒæœŸé—´æ§åˆ¶å™¨ç¡®å®å‘ç”Ÿäº†é”™è¯¯ï¼Œå¹¶ä¸”è¿›ä¸€æ­¥å‡è®¾ç³»ç»Ÿæœ‰å¯èƒ½æ‰§è¡Œä»»æ„é•¿åº¦çš„äº‹ä»¶åºåˆ—ï¼Œè€Œè¿™ä¸æ¶‰åŠä»»ä½•æŒ‡ä»¤ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¾ˆæ˜æ˜¾æ— æ³•è¯Šæ–­ä»»ä½•é”™è¯¯çš„å‘ç”Ÿã€‚æ ¹æ®ä¹‹å‰çš„å®šä¹‰ï¼Œè¿™æ ·çš„ç³»ç»Ÿæ˜¯ä¸å¯è¯Šæ–­çš„ã€‚åœ¨ä¿®æ”¹åçš„å¯è¯Šæ–­æ€§å®šä¹‰æƒ…å†µä¸­ï¼Œæˆ‘ä»¬å°†â€open valueâ€œå’Œâ€close valueâ€œåˆ†åˆ«ä¸æŒ‡ç¤ºå™¨äº‹ä»¶ï¼ˆâ€œstuck-closedâ€œå’Œâ€stuck-open&quot;ï¼‰ç›¸å…³è”ä½œä¸ºæŒ‡ç¤ºäº‹ä»¶ï¼Œå¹¶è¦æ±‚ç³»ç»Ÿåœ¨ç¡®å®šå…¶å¯è¯Šæ–­æ€§ä¹‹å‰ï¼Œæ‰§è¡Œ&quot;open value&quot;äº‹ä»¶æˆ–&quot;close value&quot;äº‹ä»¶ã€‚åœ¨æ‰§è¡Œå¯¹åº”æŒ‡ç¤ºäº‹ä»¶ä¹‹åèƒ½å¤Ÿæ¢æµ‹åˆ°é”™è¯¯äº‹ä»¶ï¼Œåˆ™ç³»ç»Ÿæ˜¯å¯è¯Šæ–­çš„ï¼Œåä¹‹ï¼Œè‹¥åœ¨æ‰§è¡ŒæŒ‡ç¤ºäº‹ä»¶ä¹‹åï¼Œä»æ— æ³•æ¢æµ‹åˆ°é”™è¯¯äº‹ä»¶ï¼Œåˆ™ç³»ç»Ÿæ˜¯ä¸å¯è¯Šæ–­çš„ã€‚æ€»ç»“ä¸€ä¸‹ï¼ŒI-å¯è¯Šæ–­æ€§ä»…éœ€è¦åœ¨é”™è¯¯äº‹ä»¶ç›¸å…³çš„æŒ‡ç¤ºäº‹ä»¶å‘ç”Ÿåï¼Œè¯Šæ–­å‡ºè¯¥é”™è¯¯çš„å‘ç”Ÿã€‚</p><p>æˆ‘ä»¬é¦–å…ˆå°†<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>ä¸­çš„æ¯ä¸€ä¸ªé”™è¯¯äº‹ä»¶ä¸ä¸€ä¸ªæˆ–å¤šä¸ªå¯è§‚æŒ‡ç¤ºäº‹ä»¶ç›¸å…³è”ã€‚ä»¤<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>I</mi></msub><mo>âŠ†</mo><msub><mi mathvariant="normal">Î£</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_I\subseteq \Sigma_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âŠ†</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºæŒ‡ç¤ºäº‹ä»¶é›†ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>I</mi><mi>f</mi></msub><mo>:</mo><msub><mi mathvariant="normal">Î£</mi><mi>f</mi></msub><mo>â†’</mo><msup><mn>2</mn><msub><mi mathvariant="normal">Î£</mi><mi>f</mi></msub></msup></mrow><annotation encoding="application/x-tex">I_f:\Sigma_f\to 2^{\Sigma_f}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.29011428571428566em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºæŒ‡ç¤ºæ˜ å°„å‡½æ•°ï¼ˆindicator mapï¼‰ã€‚æ¥ç€ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ª<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>çš„ä¸€ä¸ªé”™è¯¯åˆ’åˆ†ï¼Œä½¿å¾—</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo>â‹ƒ</mo><mrow><mi>i</mi><mo>âˆˆ</mo><msub><mi mathvariant="normal">Î </mi><mi>f</mi></msub></mrow></munder><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo>=</mo><msub><mi mathvariant="normal">Î£</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">\bigcup_{i\in \Pi_f}\Sigma_{fi} = \Sigma_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.547421em;vertical-align:-1.4974159999999999em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0500050000000003em;"><span style="top:-1.855664em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">âˆˆ</span><span class="mord mtight"><span class="mord mtight">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.29011428571428566em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">â‹ƒ</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4974159999999999em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>é¢å¤–çš„é™åˆ¶ï¼Œå¯¹äºæ¯ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mo>â‹¯</mo><mtext>â€‰</mtext><mo separator="true">,</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">i = 1,\cdots,m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span></span></span></span></p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub><mo>âˆˆ</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo>â‡’</mo><msub><mi>I</mi><mi>f</mi></msub><mo stretchy="false">(</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>I</mi><mi>f</mi></msub><mo stretchy="false">(</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\sigma_{f1},\sigma_{f2}\in\Sigma_{fi}\Rightarrow I_f(\sigma_{f1}) = I_f(\sigma_{f2})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8252079999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‡’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>ç„¶åå®šä¹‰</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>I</mi><mi>f</mi></msub><mo stretchy="false">(</mo><msub><mi>Ïƒ</mi><mi>f</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">å¯¹</mi><mi mathvariant="normal">äº</mi><mi mathvariant="normal">ä»»</mi><mi mathvariant="normal">ä¸€</mi><msub><mi>Ïƒ</mi><mi>f</mi></msub><mo>âˆˆ</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">I(\Sigma_{fi}) = I_f(\sigma_f) å¯¹äºä»»ä¸€ \sigma_f\in \Sigma_{fi}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord cjk_fallback">å¯¹</span><span class="mord cjk_fallback">äº</span><span class="mord cjk_fallback">ä»»</span><span class="mord cjk_fallback">ä¸€</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">.</span></span></span></span></span></p><p>æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªä¸æ¯ä¸ªé”™è¯¯ç±»å‹<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">F_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ç›¸å…³è”çš„å¯è§‚æŒ‡ç¤ºäº‹ä»¶é›†<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">I(\Sigma_{fi})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼ˆæ›´å¤šå…³äºå®é™…ç³»ç»ŸæŒ‡ç¤ºäº‹ä»¶é€‰æ‹©çš„å†…å®¹è§<sup class="footnote-ref"><a href="#fn2" id="fnref2:2">[2:2]</a></sup>ï¼‰ã€‚</p><p>æˆ‘ä»¬ç°åœ¨ç»™å‡ºI-å¯è¯Šæ–­æ€§çš„å®šä¹‰ã€‚<br /><strong>Definition 2</strong>: ä¸€ä¸ªå‰ç¼€é—­åˆæ´»è¯­è¨€<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>å¯¹äºæŠ•å½±<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">\Sigma_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>ä¸Šçš„é”™è¯¯åˆ’åˆ†<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î¨</mi><mi>f</mi></msub></mrow><annotation encoding="application/x-tex">\Psi_f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î¨</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>å’ŒæŒ‡ç¤ºæ˜ å°„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span></span></span></span>æ˜¯I-å¯è¯Šæ–­çš„å½“</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ€</mi><mi>i</mi><mo>âˆˆ</mo><msub><mi mathvariant="normal">Î </mi><mi>f</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆƒ</mi><msub><mi>n</mi><mi>i</mi></msub><mo>âˆˆ</mo><mi>I</mi><mi>N</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ€</mi><mi>s</mi><mo>âˆˆ</mo><mi mathvariant="normal">Î¨</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ€</mi><msub><mi>t</mi><mn>1</mn></msub><msub><mi>t</mi><mn>2</mn></msub><mo>âˆˆ</mo><mi>L</mi><mi mathvariant="normal">/</mi><mi>s</mi><mo>:</mo><mi>s</mi><msub><mi>t</mi><mn>1</mn></msub><mo>âˆˆ</mo><mi mathvariant="normal">Î¨</mi><mo stretchy="false">[</mo><mi>I</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mspace width="1em"/><mo stretchy="false">[</mo><mo stretchy="false">âˆ¥</mo><msub><mi>t</mi><mn>2</mn></msub><mo stretchy="false">âˆ¥</mo><mo>â‰¥</mo><msub><mi>n</mi><mi>i</mi></msub><mo>â‡’</mo><mi>D</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">(\forall i\in\Pi_f)(\exists n_i\in IN)(\forall s\in \Psi(\Sigma_{fi}))\\(\forall t_1t_2\in L/s:st_1\in \Psi[I(\Sigma_{fi})])\quad[\lVert t_2\rVert\geq n_i\Rightarrow D]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ€</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">âˆƒ</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">âˆ€</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord">Î¨</span><span class="mopen">(</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ€</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mord">/</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord mathdefault">s</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord">Î¨</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span><span class="mclose">)</span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">[</span><span class="mopen">âˆ¥</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">âˆ¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‡’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mclose">]</span></span></span></span></span></p><p>å…¶ä¸­è¯Šæ–­æ¡ä»¶Dä¸º</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>w</mi><mo>âˆˆ</mo><msubsup><mi>P</mi><mi>L</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msubsup><mo stretchy="false">[</mo><mi>P</mi><mo stretchy="false">(</mo><mi>s</mi><msub><mi>t</mi><mn>1</mn></msub><msub><mi>t</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>â‡’</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo>âˆˆ</mo><mi>w</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">w\in P^{-1}_L[P(st_1t_2)]\Rightarrow \Sigma_{fi}\in w.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.14777em;vertical-align:-0.28366199999999997em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.416338em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.28366199999999997em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault">s</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‡’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord">.</span></span></span></span></span></p><p>æ³¨æ„<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Î¨</mi><mo stretchy="false">(</mo><mi>I</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Psi(I(\Sigma_{fi}))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord">Î¨</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>è¡¨ç¤º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>ä¸­æ‰€æœ‰ä»¥<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mi>i</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">I(\Sigma_{fi})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>é›†åˆä¸­çš„ä¸€ä¸ªå¯è§‚äº‹ä»¶ç»“å°¾çš„ä¸²çš„é›†åˆã€‚å› æ­¤ï¼Œå¯¹äºI-å¯è¯Šæ–­æ€§ï¼Œå®ƒè¦æ±‚åœ¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î£</mi><mi>f</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">I(\Sigma_f)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ä¸­æŒ‡ç¤ºäº‹ä»¶å‘ç”Ÿåï¼Œæœ€å¤šè¿›è¡Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>n</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">n_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ¬¡ç³»ç»ŸçŠ¶æ€è½¬ç§»æ¨æ–­å‡º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">F_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>é”™è¯¯ç±»å‹çš„é”™è¯¯äº‹ä»¶çš„å‘ç”Ÿã€‚</p><div align="center" style="display: flex; flex-direction:column;">    <img data-src="Example-of-a-system-with-multiple-failures.png"/>    <span>Fig. 2. Example of system with multiple failures.</span></div><p>è€ƒè™‘å¦‚ Fig. 2å›¾ä¸­çš„ç³»ç»Ÿã€‚å‡è®¾å…¶é€‰æ‹©çš„æŒ‡ç¤ºäº‹ä»¶é›†å¦‚ä¸‹ï¼š<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>Î³</mi><mo stretchy="false">}</mo><mo separator="true">,</mo><mi>I</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>Î´</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">I(\Sigma_{f1})=\{\gamma\}, I(\Sigma_{f2})=\{\delta\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:0.05556em;">Î³</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="mclose">}</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mn>3</mn></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>Î´</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">I(\Sigma_{f3})=\{\delta\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span><span class="mclose">}</span></span></span></span>ã€‚ç³»ç»Ÿçš„é”™è¯¯åˆ’åˆ†ä¸ºï¼š<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub><mo>=</mo><mo stretchy="false">{</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>1</mn></mrow></msub><mo stretchy="false">}</mo><mo separator="true">,</mo><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub><mo>=</mo><mo stretchy="false">{</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\Sigma_{f1}=\{\sigma_{f1}\}, \Sigma_{f2}=\{\sigma_{f2}\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Î£</mi><mrow><mi>f</mi><mn>3</mn></mrow></msub><mo>=</mo><mo stretchy="false">{</mo><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>3</mn></mrow></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\Sigma_{f3}=\{\sigma_{f3}\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>ã€‚å¯¹äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>n</mi><mn>1</mn></msub><mo>=</mo><mn>0</mn><mo separator="true">,</mo><msub><mi>n</mi><mn>3</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">n_1=0,n_3=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ï¼Œç³»ç»Ÿæ˜¯I-å¯è¯Šæ–­çš„ã€‚åº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡ä¸å¯èƒ½æ¨æ–­æŒ‡ç¤ºäº‹ä»¶å¯¹åº”é”™è¯¯äº‹ä»¶<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>Ïƒ</mi><mrow><mi>f</mi><mn>2</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\sigma_{f2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>çš„å‘ç”Ÿï¼Œå³<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Î´</mi></mrow><annotation encoding="application/x-tex">\delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">Î´</span></span></span></span>æ²¡æœ‰è·Ÿè¸ªè¯¥é”™è¯¯äº‹ä»¶ï¼Œä½†è¿™å¹¶ä¸è¿åI-å¯è¯Šæ–­æ€§çš„è¯Šæ–­æ¡ä»¶ã€‚</p><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>P. J. Ramadge and W. M. Wonham, â€œThe control of discrete-event systems,â€ Proc. ZEEE, vol. 77, no. 1, pp. 81-98, 1989. <a href="#fnref1" class="footnote-backref">â†©ï¸</a> <a href="#fnref1:1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>J. Hopcroft and J. Ullman, Introduction to Automata Theory, Languages, and Computation. Reading, MA: Addison Wesley, 1979. <a href="#fnref2" class="footnote-backref">â†©ï¸</a> <a href="#fnref2:1" class="footnote-backref">â†©ï¸</a> <a href="#fnref2:2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p>â€œFailure diagnosis using discrete-event models,â€ Dept. EECS, Umv. of Michigan, MI 48109, 1994, Tech. Rep. CGR 94-3. (Accepted for publication% IEEE Trans. Conrr. Syst. Techâ€¦) <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æ–‡çŒ®å†…å®¹ç¿»è¯‘ï¼šå¯è¯Šæ–­æ€§æ¦‚å¿µ&lt;br /&gt;
authors: Meera Sampath, Raja Sengupta, StCphane Lafortune, Member, IEEE, Kasim Sinnamohideen, Member, IEEE, and Demosthenis Teneketzis, Member, IEEE&lt;br /&gt;
åŸæ–‡: &lt;a href=&quot;https://ieeexplore.ieee.org/document/412626&quot;&gt;Diagnosability of discrete-event systems&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="dissertation" scheme="http://rovo98.github.io/categories/dissertation/"/>
    
    
    <category term="paper translation" scheme="http://rovo98.github.io/tags/paper-translation/"/>
    
  </entry>
  
  <entry>
    <title>SQL - æŸ¥æ‰¾å¹¶æ¸…é™¤é‡å¤çš„æ•°æ®è¡Œ</title>
    <link href="http://rovo98.github.io/posts/a264c38d/"/>
    <id>http://rovo98.github.io/posts/a264c38d/</id>
    <published>2019-10-12T05:43:00.000Z</published>
    <updated>2021-09-09T14:11:36.666Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨å®é™…å¼€å‘åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¼å…¥æ•°æ®åº“ä¸­çš„æ•°æ®å¯èƒ½åŒ…å«é‡å¤çš„è¡Œï¼ˆrowï¼‰ã€‚å½“ç„¶å¦‚æœåœ¨å»ºè¡¨æ—¶ï¼Œå¯¹æ•°æ®è¡¨ä¸­ç›¸åº”çš„å­—æ®µè¿›è¡Œé™åˆ¶çš„è¯ï¼Œåˆ™æœ‰å¯èƒ½ä¸ä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è°ˆä¸€è°ˆï¼Œå¦‚æœæ•°æ®åº“ä¸­å·²æœ‰é‡å¤çš„æ•°æ®è¡Œï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•æŠŠå®ƒä»¬æ‰¾å‡ºæ¥ï¼Œå¹¶å°†è¿™äº›æ•°æ®è¡Œåˆ é™¤ã€‚</p><span id="more"></span><h2 id="1-å‡†å¤‡"><a class="markdownIt-Anchor" href="#1-å‡†å¤‡"></a> 1. å‡†å¤‡</h2><p>ä¸ºäº†æ–¹ä¾¿åç»­è¿›è¡Œå¤„ç†å±•ç¤ºï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„æ•°æ®åº“ï¼Œä»…åŒ…å«ä¸€ä¸ªæ•°æ®è¡¨ï¼Œä¸”è¯¥è¡¨åŒ…å«é‡å¤çš„æ•°æ®è¡Œã€‚ä¸‹é¢æ˜¯åˆ›å»ºæµ‹è¯•ç”¨çš„æ•°æ®åº“ç›¸åº”çš„ <code>sql</code> è„šæœ¬ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- NOTICE: noly for testing &#x27;find&amp;remove dupicate rows experiment&#x27;.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> schema IF <span class="keyword">EXISTS</span> testdb;</span><br><span class="line"><span class="keyword">CREATE</span> schema IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> testdb;</span><br><span class="line"></span><br><span class="line">USE testdb;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student</span><br><span class="line">(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">5</span>),</span><br><span class="line">    mail <span class="type">varchar</span>(<span class="number">100</span>),</span><br><span class="line">    <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- insert data contains duplicate rows.</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">1</span>, <span class="string">&#x27;Stu1&#x27;</span>, <span class="string">&#x27;stu1@testdb.com&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">2</span>, <span class="string">&#x27;Stu2&#x27;</span>, <span class="string">&#x27;stu2@testdb.com&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">3</span>, <span class="string">&#x27;Stu3&#x27;</span>, <span class="string">&#x27;stu3@testdb.com&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">4</span>, <span class="string">&#x27;Stu4&#x27;</span>, <span class="string">&#x27;stu4@testdb.com&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">5</span>, <span class="string">&#x27;Stu5&#x27;</span>, <span class="string">&#x27;stu5@testdb.com&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--  the following are duplcate rows.</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">6</span>, <span class="string">&#x27;Stu4&#x27;</span>, <span class="string">&#x27;stu4@testdb.com&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="number">7</span>, <span class="string">&#x27;Stu5&#x27;</span>, <span class="string">&#x27;stu5@testdb.com&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="2-æŸ¥æ‰¾é‡å¤çš„æ•°æ®è¡Œ"><a class="markdownIt-Anchor" href="#2-æŸ¥æ‰¾é‡å¤çš„æ•°æ®è¡Œ"></a> 2. æŸ¥æ‰¾é‡å¤çš„æ•°æ®è¡Œ</h2><p>æŸ¥æ‰¾é‡å¤æ•°æ®è¡Œçš„ä¸šåŠ¡éœ€æ±‚ - ã€Œæ‰¾åˆ°åå­—<code>name</code>ç›¸åŒçš„æ•°æ®è¡Œã€ã€‚</p><ol><li>ä½¿ç”¨è‡ªè¿æ¥ self <code>join</code>:</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> s1.<span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">as</span> s1</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> student <span class="keyword">as</span> s2</span><br><span class="line">    <span class="keyword">ON</span> s1.name <span class="operator">=</span> s2.name</span><br><span class="line"><span class="keyword">WHERE</span> s1.id <span class="operator">&lt;&gt;</span> s2.id;</span><br></pre></td></tr></table></figure><ol start="2"><li>ä½¿ç”¨å­æŸ¥è¯¢:</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> s1.<span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> student <span class="keyword">AS</span> s1</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">SELECT</span> name</span><br><span class="line">    <span class="keyword">FROM</span> student</span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> name <span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="number">1</span>) <span class="operator">&gt;</span> <span class="number">1</span></span><br><span class="line">) <span class="keyword">AS</span> s2 <span class="keyword">ON</span> s1.name <span class="operator">=</span> s2.name;</span><br></pre></td></tr></table></figure><ol start="3"><li>ä½¿ç”¨åŒè¡¨æŸ¥è¯¢:</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> s1.<span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> student s1, student s2</span><br><span class="line"><span class="keyword">WHERE</span> s1.name <span class="operator">=</span> s2.name <span class="keyword">AND</span> s1.id <span class="operator">&lt;&gt;</span> s2.id;</span><br></pre></td></tr></table></figure><ol start="4"><li>ä½¿ç”¨ <code>group by</code>:</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name, mail</span><br><span class="line"><span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> name, mail</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="number">2</span>) <span class="operator">&gt;=</span> <span class="number">2</span>;</span><br></pre></td></tr></table></figure><h2 id="3-åˆ é™¤é‡å¤çš„æ•°æ®è¡Œ"><a class="markdownIt-Anchor" href="#3-åˆ é™¤é‡å¤çš„æ•°æ®è¡Œ"></a> 3. åˆ é™¤é‡å¤çš„æ•°æ®è¡Œ</h2><p>è¦åˆ é™¤é‡å¤çš„æ•°æ®è¡Œï¼Œä¸æŸ¥æ‰¾é‡å¤æ•°æ®è¡Œçš„æ–¹å¼ç±»ä¼¼ï¼Œä½¿ç”¨ <code>delete from</code> è¯­æ³•å³å¯ã€‚</p><blockquote><p>åˆ é™¤é‡å¤çš„ <code>id</code> å­—æ®µè¾ƒå¤§çš„æ•°æ®è¡Œï¼Œä¿ç•™ <code>id</code> è¾ƒå°çš„æ•°æ®è¡Œ</p></blockquote><ol><li>ä½¿ç”¨åŒè¡¨è¿›è¡Œåˆ é™¤:</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> s1</span><br><span class="line"><span class="keyword">FROM</span> student s1, student s2</span><br><span class="line"><span class="keyword">WHERE</span> s1.name <span class="operator">=</span> s2.name <span class="keyword">AND</span> s1.id <span class="operator">&gt;</span> s2.id;</span><br></pre></td></tr></table></figure><ol start="2"><li>ä½¿ç”¨è‡ªé“¾æ¥ self join:</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> s1</span><br><span class="line"><span class="keyword">FROM</span> student s1</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> student s2</span><br><span class="line"><span class="keyword">ON</span> s1.name <span class="operator">=</span> s2.name</span><br><span class="line"><span class="keyword">WHERE</span> s1.id <span class="operator">&gt;</span> s2.id;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2><p>ä»¥ä¸Šå°±æ˜¯å…³äºæŸ¥æ‰¾å’Œåˆ é™¤æ•°æ®åº“ä¸­é‡å¤æ•°æ®è¡Œçš„ç›¸å…³æ–¹æ³•ï¼Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œé™¤äº†ä¸Šé¢æåˆ°çš„ sql ä»¥å¤–ï¼Œç›¸ä¿¡è¿˜æœ‰æ›´å¤šçš„å®ç°æ–¹å¼ã€‚ä»ç®€å•æ˜“ç”¨çš„è§’åº¦æ¥è€ƒè™‘çš„è¯ï¼ŒåŒè¡¨ä»¥åŠè‡ªé“¾æ¥çš„å®ç°æ–¹å¼éƒ½æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚</p><p>æœ€åï¼Œå¯¹äºå·²ç›¸å…³ sql å®ç°æ–¹æ³•ï¼Œæˆ‘ä»¬å¹¶æœªå¯¹ sql æ‰§è¡Œçš„æ€§èƒ½è¿›è¡Œæµ‹è¯•ã€‚</p><blockquote><p>References</p><ul><li><a href="https://www.dbrnd.com/2015/09/find-duplicate-records-in-mysql/">https://www.dbrnd.com/2015/09/find-duplicate-records-in-mysql/</a></li><li><a href="https://howtodoinjava.com/sql/how-to-remove-duplicate-rows-in-mysql-without-using-temporary-table/">https://howtodoinjava.com/sql/how-to-remove-duplicate-rows-in-mysql-without-using-temporary-table/</a></li></ul></blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;åœ¨å®é™…å¼€å‘åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¼å…¥æ•°æ®åº“ä¸­çš„æ•°æ®å¯èƒ½åŒ…å«é‡å¤çš„è¡Œï¼ˆrowï¼‰ã€‚å½“ç„¶å¦‚æœåœ¨å»ºè¡¨æ—¶ï¼Œå¯¹æ•°æ®è¡¨ä¸­ç›¸åº”çš„å­—æ®µè¿›è¡Œé™åˆ¶çš„è¯ï¼Œåˆ™æœ‰å¯èƒ½ä¸ä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è°ˆä¸€è°ˆï¼Œå¦‚æœæ•°æ®åº“ä¸­å·²æœ‰é‡å¤çš„æ•°æ®è¡Œï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•æŠŠå®ƒä»¬æ‰¾å‡ºæ¥ï¼Œå¹¶å°†è¿™äº›æ•°æ®è¡Œåˆ é™¤ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Dev" scheme="http://rovo98.github.io/categories/Dev/"/>
    
    
    <category term="sql" scheme="http://rovo98.github.io/tags/sql/"/>
    
  </entry>
  
  <entry>
    <title>Singleton Design pattern</title>
    <link href="http://rovo98.github.io/posts/a10d2fff/"/>
    <id>http://rovo98.github.io/posts/a10d2fff/</id>
    <published>2019-10-11T14:43:00.000Z</published>
    <updated>2021-09-09T14:11:36.686Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨çœ‹ ã€Refacting to Patternsã€ï¼Œç»“åˆä¹‹å‰çœ‹çš„ Test Driven-Practical TDD and Acceptance TDD for Java Developers æåˆ°çš„æµ‹è¯•é©±åŠ¨å¼€å‘ï¼ˆTDDï¼‰ã€‚è™½ç„¶æ—©äº›æ—¶å€™ï¼Œæˆ‘å·²ç»æœ‰å¯¹ä¸€äº›è®¾è®¡æ¨¡å¼æœ‰ä¸€å®šäº†è§£ï¼Œä½†åªæœ‰å¯¹åˆ›å»ºå‹çš„è®¾è®¡æ¨¡å‹æœ‰æ‰€åº”ç”¨ï¼Œæ¯”å¦‚Singletonã€Builderã€Factoryã€AbstractFactoryã€‚è€Œå…¶ä»–çš„è¡Œä¸ºå‹å’Œç»“æ„å‹çš„è®¾è®¡æ¨¡å‹ï¼Œåªæœ‰åœ¨é˜…è¯»ä¸€äº›æºä»£ç çš„æ—¶å€™å¶å°”æ‰æœ‰çœ‹åˆ°ï¼Œå¦‚ Java é›†åˆæ¡†æ¶ä¸­ä½¿ç”¨çš„ Iterator æ¨¡å¼ï¼Œç„¶è€Œè‡ªå·±å´å¾ˆå°‘ä½¿ç”¨ã€‚</p><p>ä¸ºäº†æ›´å¥½åœ°æ‰§è¡Œ TDD è¿‡ç¨‹ä¸­çš„é‡æ„ï¼Œä»¥åŠçœ‹æ‡‚ä¼˜ç§€é¡¹ç›®çš„æºä»£ç ï¼Œæˆ‘è§‰å¾—æˆ‘æœ‰å¿…è¦å¼€å§‹é‡æ–°æ›´æ·±å…¥åœ°å­¦ä¹ è®¾è®¡æ¨¡å¼ã€‚</p><p>å•ä¾‹æ¨¡å¼ï¼Œå³ Gof ï¼ˆGangs of Fourï¼‰è®¾è®¡æ¨¡å¼ä¸­åˆ›å»ºå‹ï¼ˆCreationalï¼‰è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚ç”¨äºé™åˆ¶ç±»çš„å®ä¾‹åŒ–ï¼Œå®ƒåªå…è®¸å½“å‰ JVM æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åªèƒ½æ‹¥æœ‰é™åˆ¶ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚ä»å®šä¹‰æ¥çœ‹ï¼Œä¼¼ä¹å®ƒçš„å®ç°åº”è¯¥æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯åœ¨å®é™…å®ç°æ—¶ï¼Œå®ƒæœ‰è®¸å¤šéœ€è¦æ³¨æ„çš„ç‚¹ã€‚åœ¨ Java ä¸­ï¼Œå…‰å®ƒå®ç°æ–¹å¼ç°å·²æœ‰è®¸å¤šç§ã€‚å› æ­¤ï¼Œæœ¬æ–‡å°†ä»‹ç»å•ä¾‹æ¨¡å¼çš„å®ç°æ–¹æ³•ï¼Œç®€å•åˆ†ææ¯ä¸€ç§æ–¹æ³•çš„ä¼˜ç¼ºç‚¹ï¼Œæœ€åï¼Œå†è¯´æ˜åº”ç”¨å•ä¾‹æ¨¡å¼æ—¶å¯èƒ½é‡åˆ°çš„é—®é¢˜ä»¥åŠç›¸åº”è§£å†³åŠæ³•ã€‚</p><span id="more"></span><h2 id="1-å•ä¾‹æ¨¡å¼å®ç°æ–¹å¼"><a class="markdownIt-Anchor" href="#1-å•ä¾‹æ¨¡å¼å®ç°æ–¹å¼"></a> 1. å•ä¾‹æ¨¡å¼å®ç°æ–¹å¼</h2><h3 id="11-é¥¿æ±‰å¼"><a class="markdownIt-Anchor" href="#11-é¥¿æ±‰å¼"></a> 1.1 é¥¿æ±‰å¼</h3><p>åœ¨é¥¿æ±‰å¼çš„å®ç°ä¸­ï¼Œå•ä¾‹ç±»çš„å®ä¾‹åœ¨ç±»åŠ è½½çš„æ—¶å€™åˆ›å»ºï¼Œå³ç±»åˆå§‹åŒ–å¯¹é™æ€æˆå‘˜å˜é‡åˆå§‹åŒ–æ—¶ï¼Œåˆ›å»ºè¯¥ç±»çš„å®ä¾‹ã€‚è¿™æ˜¯æœ€ç®€å•çš„å®ç°æ–¹å¼ï¼Œä½†å´å­˜åœ¨æ˜æ˜¾çš„ç¼ºç‚¹ï¼Œå®ƒä¸ç®¡åº”ç”¨ç¨‹åºæ˜¯å¦éœ€è¦è¯¥ç±»çš„å®ä¾‹ï¼Œå°±åˆ›å»ºç›¸åº”çš„å®ä¾‹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EagerSingleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> EagerSingleton INSTANCE = <span class="keyword">new</span> EagerSingleton();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// this class can not be instanced.</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">EagerSingleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> EagerSingleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœè¯¥ç±»çš„å®ä¾‹ä¸æ˜¯ä¸€ä¸ªå¤§å¯¹è±¡æ—¶ï¼Œè‹¥æˆ‘ä»¬å®¹å¿åº”ç”¨ç¨‹åºåœ¨è¿è¡Œæ—¶ï¼Œè¯¥å¯¹è±¡çš„å®ä¾‹å­˜åœ¨ä½†ä¸ä½¿ç”¨ï¼Œåˆ™è¯¥å®ç°æ–¹å¼å°†æ˜¯æœ€ä½³æ–¹æ¡ˆã€‚</p><h3 id="12-é™æ€ä»£ç å—"><a class="markdownIt-Anchor" href="#12-é™æ€ä»£ç å—"></a> 1.2 é™æ€ä»£ç å—</h3><p>ä¸é¥¿æ±‰å¼å®ç°ç›¸ä¼¼ï¼ŒåŒæ ·åœ°ï¼Œç±»åŠ è½½æ—¶ï¼Œåœ¨åˆå§‹åŒ–ï¼ˆinitializationï¼‰é˜¶æ®µé™¤äº†å¯¹é™æ€æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–å¤–ï¼Œè¿˜ä¼šæ‰§è¡Œé™æ€ä»£ç å—ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticBlockSingleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> StaticBlockSingleton instance;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">StaticBlockSingleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> StaticBlockSingleton();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;Exception occured in creating singleton instance!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> StaticBlockSingleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹å¼å’Œé¥¿æ±‰å¼å­˜åœ¨ç›¸åŒçš„é—®é¢˜ï¼Œå®ƒä¸ç®¡åº”ç”¨ç¨‹åºæ˜¯å¦éœ€è¦è¯¥ç±»çš„å®ä¾‹ï¼Œåœ¨ç±»åŠ è½½æ—¶ï¼Œç›¸åº”çš„å®ä¾‹å°±ä¼šè¢«åˆ›å»ºã€‚</p><h3 id="13-æ‡’æ±‰å¼"><a class="markdownIt-Anchor" href="#13-æ‡’æ±‰å¼"></a> 1.3 æ‡’æ±‰å¼</h3><p>ä¸åŒäºé¥¿æ±‰å¼ï¼Œæ‡’æ±‰å¼å®ç°æ–¹å¼å°†å®ä¾‹çš„åˆ›å»ºå»¶è¿Ÿåˆ° <code>getInstance</code> æ–¹æ³•è°ƒç”¨æ—¶ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazySingleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> LazySingleton instance = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazySingleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> LazySingleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> LazySingleton();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¦–å…ˆï¼Œåœ¨å®ä¾‹è¢«çœŸæ­£éœ€è¦æ‰åˆ›å»ºæ˜¯ä¸€ç§éå¸¸å¥½çš„ç­–ç•¥ï¼Œå½“åˆ›å»ºè¯¥ç±»çš„å®ä¾‹æ˜¯ä¸€ä¸ªè¾ƒæ˜‚è´µçš„æ“ä½œæ—¶ï¼Œå®ƒæ¯”é¥¿æ±‰å¼è¡¨ç°æ›´å¥½ã€‚ä¸Šé¢çš„ä»£ç å¯ä»¥åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹æ­£å¸¸æ‰§è¡Œï¼Œä½†åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œå•ä¾‹æ¨¡å¼å°†è¢«ç ´åï¼Œå¯èƒ½ä¼šæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶è¿›å…¥ <code>if</code> ä»£ç å—ï¼Œå¯¼è‡´å¤šä¸ªå®ä¾‹è¢«åˆ›å»ºå‡ºæ¥ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯èƒ½è¿˜éœ€è¦çº¿ç¨‹å®‰å…¨çš„å®ç°æ–¹å¼ã€‚</p><h3 id="14-çº¿ç¨‹å®‰å…¨å¼"><a class="markdownIt-Anchor" href="#14-çº¿ç¨‹å®‰å…¨å¼"></a> 1.4 çº¿ç¨‹å®‰å…¨å¼</h3><h4 id="141-synchronized"><a class="markdownIt-Anchor" href="#141-synchronized"></a> 1.4.1 synchronized</h4><p>å®ç°çº¿ç¨‹å®‰å…¨çš„æœ€ç®€å•æ–¹å¼æ˜¯ï¼Œåœ¨æ‡’æ±‰å¼å®ç°çš„åŸºç¡€ä¸Šï¼Œå¯¹ <code>getInstance</code> æ–¹æ³•ä½¿ç”¨ <code>synchronized</code> å…³é”®å­—è¿›è¡Œä¿®é¥°å³å¯ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æŸä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ‰§è¡Œè¯¥æ–¹æ³•ï¼Œå…¶ä»–çš„çº¿ç¨‹éœ€è¦ç­‰å¾…è¯¥æ‰§è¡Œçº¿ç¨‹é‡Šæ”¾è¯¥ç±»çš„é”å¯¹è±¡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SynchronizedSingleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> SynchronizedSingleton instance;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">SynchronizedSingleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> SynchronizedSingleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> SynchronizedSingleton();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="142-double-checking"><a class="markdownIt-Anchor" href="#142-double-checking"></a> 1.4.2 double-checking</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DoubleCheckingSingleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> DoubleCheckingSingleton instance;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">DoubleCheckingSingleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DoubleCheckingSingleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (DoubleCheckingSingleton.class) &#123;</span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> DoubleCheckingSingleton();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒé‡æ£€æŸ¥æœºåˆ¶â€”â€”åœ¨ä½¿ç”¨ <code>synchronized</code> å…³é”®å­—åŒæ­¥åˆ›å»ºå•ä¾‹çš„ä»£ç å—çš„æ—¶å€™ï¼Œéœ€è¦åœ¨åŒæ­¥çš„ä»£ç å—å†æ¬¡ä½¿ç”¨ <code>if</code> æ¥åˆ¤æ–­å®ä¾‹æ˜¯å¦å·²ç»åˆ›å»ºã€‚å› ä¸ºå¯èƒ½å­˜åœ¨å¤šä¸ªçº¿ç¨‹è¿›å…¥ç¬¬ä¸€ä¸ª <code>if</code> å—ï¼Œç„¶åé˜»å¡ç­‰å¾…ï¼Œå¦‚æœæ²¡æœ‰åœ¨ <code>synchronized</code> å—ä¸­å¤šè®¾ç½®ä¸€ä¸ª <code>if</code> æ¥åˆ¤æ–­å®ä¾‹æ˜¯å¦åˆ›å»ºï¼Œæ­¤æ—¶å°†ç ´åå•ä¾‹æ¨¡å‹çš„åŸåˆ™ã€‚</p><div class="note warning"><p>æ³¨æ„ä¸Šé¢çš„ä¸¤ä¸ªå®ç°éƒ½åº”è¯¥ä½¿ç”¨ <code>volatile</code> å…³é”®å­—æ¥ä¿®é¥°å•ä¾‹æˆå‘˜ï¼ˆé¿å…å…¶ä»–çº¿ç¨‹åœ¨å®ä¾‹åˆ›å»ºä¹‹å‰å¼•ç”¨è¯¥å˜é‡ï¼Œè€Œåœ¨ä¹‹åè¿è¡Œæ—¶å‡ºç° <code>NPE</code> å¼‚å¸¸ï¼‰ã€‚</p></div><h3 id="15-é™æ€å†…éƒ¨ç±»bill-pugh-singleton"><a class="markdownIt-Anchor" href="#15-é™æ€å†…éƒ¨ç±»bill-pugh-singleton"></a> 1.5 é™æ€å†…éƒ¨ç±»â€”â€”Bill Pugh Singleton</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BillPughSingleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SingletonHolder &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> BillPughSingleton INSTANCE = <span class="keyword">new</span> BillPughSingleton();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">BillPughSingleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> BillPughSingleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> SingletonHolder.INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥å®ç°æ–¹å¼ä¸»è¦åˆ©ç”¨ Java çš„åŠ è½½å’Œåˆå§‹åŒ–è¿‡ç¨‹ï¼Œloading -&gt; Linking -&gt; Initializationã€‚å…¶ä¸­åˆå§‹åŒ–é˜¶æ®µä¸»è¦æ˜¯åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡å¹¶æ‰§è¡Œé™æ€ä»£ç å—ã€‚å› æ­¤ï¼Œ<code>BillPughSingleton</code> åªæœ‰åœ¨æ‰§è¡Œ <code>getInstance()</code> æ–¹æ³•æ—¶ï¼Œæ‰ä¼šå°† <code>SingletonHolder</code> åŠ è½½åˆ°æ–¹æ³•åŒºä¸­ï¼ˆmethod areaï¼‰ï¼Œå†å¯¹å…¶é™æ€æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚</p><h3 id="16-æšä¸¾-enum-singleton"><a class="markdownIt-Anchor" href="#16-æšä¸¾-enum-singleton"></a> 1.6 æšä¸¾-Enum Singleton</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Enum EnumSingleton &#123;</span><br><span class="line">    INSTANCE;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">someMethod</span><span class="params">(String param)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// do something.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ ¹æ® Java å¯¹ <code>Enum</code> çš„å®ç°æ–‡æ¡£ï¼Œ<code>Enum</code> éšå¼åœ°ä¿è¯äº†çº¿ç¨‹å®‰å…¨ä»¥åŠå•ä¾‹ã€‚å› æ­¤ï¼Œä½¿ç”¨æšä¸¾æ¥å®ç°å•ä¾‹æ¨¡å¼ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p><h2 id="2-åºåˆ—åŒ–é—®é¢˜"><a class="markdownIt-Anchor" href="#2-åºåˆ—åŒ–é—®é¢˜"></a> 2. åºåˆ—åŒ–é—®é¢˜</h2><p>è™½ç„¶ä¸Šé¢æˆ‘ä»¬å·²ç»äº†è§£äº†è®¸å¤šå•ä¾‹æ¨¡å¼çš„å®ç°æ–¹å¼ï¼Œä½†åœ¨å®é™…ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ‰å¯èƒ½ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ã€‚ä¾‹å¦‚ï¼šåœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ—¶å°±æœ‰å¯èƒ½æ‰“ç ´å•ä¾‹æ¨¡å¼ã€‚æˆ‘ä»¬çœ‹ä¸‹é¢ä¸€ä¸ªä¾‹å­ã€‚</p><p><code>DemoSingleton.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">public</span> DemoSingleton implements Serializable &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonHolder</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> DemoSingleton INSTANCE = <span class="keyword">new</span> DemoSingleton();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DemoSingleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> SingletonHolder.INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// this class will not be instanced</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">DemoSingleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// protected Object readResolve() &#123;</span></span><br><span class="line">   <span class="comment">//     return SingletonHolder.INSTANCE;</span></span><br><span class="line">   <span class="comment">// &#125;</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setI</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.i = i;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getI</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>SerialzableProblem.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SerialzableProblem</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> DemoSingleton instanceOne = DemoSingleton.getInstance();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// serialized to a file.</span></span><br><span class="line">            ObjectOutput out = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;filename.ser&quot;</span>));</span><br><span class="line">            out.writeObject(instanceOne);</span><br><span class="line">            out.close();</span><br><span class="line"></span><br><span class="line">            instanceOne.setI(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// serialized to a file</span></span><br><span class="line">            ObjectInput in = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;filename.ser&quot;</span>));</span><br><span class="line">            DemoSingleton instanceTwo =  (DemoSingleton) in.readObject();</span><br><span class="line">            in.close();</span><br><span class="line"></span><br><span class="line">            System.out.println(instanceOne.getI());</span><br><span class="line">            System.out.println(instanceTwo.getI());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Output:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">20</span><br><span class="line">10</span><br></pre></td></tr></table></figure><p>è¿™æ„å‘³ç€ï¼ŒJVM ç¯å¢ƒä¸­å‡ºç°äº† <code>DemoSingleton</code> çš„å¤šä¸ªå®ä¾‹ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå•ä¾‹æ¨¡å¼è¢«æ‰“ç ´ã€‚æˆ‘ä»¬éœ€è¦åœ¨ <code>DemoSingleton</code> ç±»ä¸­æ·»åŠ  <code>readResolve</code> æ–¹æ³•æ¥è§£å†³æ‰¾ä¸€ä¸ªé—®é¢˜ã€‚</p><p>ç±»åœ¨ååºåˆ—åŒ–çš„æ—¶å€™ä¼šè°ƒç”¨ <code>readResolve</code>ï¼Œæ­¤æ—¶è¿”å›è¯¥ç±»çš„å”¯ä¸€å•ä¾‹ã€‚</p><h2 id="3-æœ€ä½³å®è·µ"><a class="markdownIt-Anchor" href="#3-æœ€ä½³å®è·µ"></a> 3. æœ€ä½³å®è·µ</h2><p>æœ€ä½³å®è·µçš„ä»£ç æ¨¡æ¿ï¼Œèƒ½è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜å’Œåºåˆ—åŒ–ååºåˆ—åŒ–å¯èƒ½ç ´åå•ä¾‹æ¨¡å¼çš„é—®é¢˜ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BillPughSingleton</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonHolder</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> BillPughSingleton INSTANCE = <span class="keyword">new</span> BillPughSingleton();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// this class will not be instanced.</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">BillPughSingleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> BillPughSingleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> SingletonHolder.INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">readResolve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> SingletonHolder.INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-ç”¨-java-çš„åå°„æ¥ç ´åå•ä¾‹æ¨¡å¼"><a class="markdownIt-Anchor" href="#4-ç”¨-java-çš„åå°„æ¥ç ´åå•ä¾‹æ¨¡å¼"></a> 4. ç”¨ Java çš„åå°„æ¥ç ´åå•ä¾‹æ¨¡å¼</h2><p>é€šè¿‡ä½¿ç”¨åå°„ï¼ˆReflectionï¼‰å¯ä»¥ç ´åä¸Šé¢çš„æ‰€æœ‰å•ä¾‹æ¨¡å¼å®ç°æ–¹å¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectSingletonTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BillPughSingleton instanceOne = BillPughSingleton.getInstance();</span><br><span class="line">        BillPughSingleton instanceTwo = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Constructor[] constructors = BillPughSingleton.class.getDeclaredConstructors();</span><br><span class="line">            <span class="keyword">for</span> (Constrctor constructor : constructors) &#123;</span><br><span class="line">                <span class="comment">// Destroy the singleton pattern</span></span><br><span class="line">                constructor.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">                instanceTwo = (BillPughSingleton) constructor.newInstance();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(instanceOne.hashCode());</span><br><span class="line">        System.out.println(instanceTwo.hashCode());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>References</p><ol><li><a href="https://howtodoinjava.com/design-patterns/creational/singleton-design-pattern-in-java/">https://howtodoinjava.com/design-patterns/creational/singleton-design-pattern-in-java/</a></li><li><a href="https://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-examples">https://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-examples</a></li></ol></blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ€è¿‘åœ¨çœ‹ ã€Refacting to Patternsã€ï¼Œç»“åˆä¹‹å‰çœ‹çš„ Test Driven-Practical TDD and Acceptance TDD for Java Developers æåˆ°çš„æµ‹è¯•é©±åŠ¨å¼€å‘ï¼ˆTDDï¼‰ã€‚è™½ç„¶æ—©äº›æ—¶å€™ï¼Œæˆ‘å·²ç»æœ‰å¯¹ä¸€äº›è®¾è®¡æ¨¡å¼æœ‰ä¸€å®šäº†è§£ï¼Œä½†åªæœ‰å¯¹åˆ›å»ºå‹çš„è®¾è®¡æ¨¡å‹æœ‰æ‰€åº”ç”¨ï¼Œæ¯”å¦‚Singletonã€Builderã€Factoryã€AbstractFactoryã€‚è€Œå…¶ä»–çš„è¡Œä¸ºå‹å’Œç»“æ„å‹çš„è®¾è®¡æ¨¡å‹ï¼Œåªæœ‰åœ¨é˜…è¯»ä¸€äº›æºä»£ç çš„æ—¶å€™å¶å°”æ‰æœ‰çœ‹åˆ°ï¼Œå¦‚ Java é›†åˆæ¡†æ¶ä¸­ä½¿ç”¨çš„ Iterator æ¨¡å¼ï¼Œç„¶è€Œè‡ªå·±å´å¾ˆå°‘ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ›´å¥½åœ°æ‰§è¡Œ TDD è¿‡ç¨‹ä¸­çš„é‡æ„ï¼Œä»¥åŠçœ‹æ‡‚ä¼˜ç§€é¡¹ç›®çš„æºä»£ç ï¼Œæˆ‘è§‰å¾—æˆ‘æœ‰å¿…è¦å¼€å§‹é‡æ–°æ›´æ·±å…¥åœ°å­¦ä¹ è®¾è®¡æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;å•ä¾‹æ¨¡å¼ï¼Œå³ Gof ï¼ˆGangs of Fourï¼‰è®¾è®¡æ¨¡å¼ä¸­åˆ›å»ºå‹ï¼ˆCreationalï¼‰è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚ç”¨äºé™åˆ¶ç±»çš„å®ä¾‹åŒ–ï¼Œå®ƒåªå…è®¸å½“å‰ JVM æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åªèƒ½æ‹¥æœ‰é™åˆ¶ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚ä»å®šä¹‰æ¥çœ‹ï¼Œä¼¼ä¹å®ƒçš„å®ç°åº”è¯¥æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯åœ¨å®é™…å®ç°æ—¶ï¼Œå®ƒæœ‰è®¸å¤šéœ€è¦æ³¨æ„çš„ç‚¹ã€‚åœ¨ Java ä¸­ï¼Œå…‰å®ƒå®ç°æ–¹å¼ç°å·²æœ‰è®¸å¤šç§ã€‚å› æ­¤ï¼Œæœ¬æ–‡å°†ä»‹ç»å•ä¾‹æ¨¡å¼çš„å®ç°æ–¹æ³•ï¼Œç®€å•åˆ†ææ¯ä¸€ç§æ–¹æ³•çš„ä¼˜ç¼ºç‚¹ï¼Œæœ€åï¼Œå†è¯´æ˜åº”ç”¨å•ä¾‹æ¨¡å¼æ—¶å¯èƒ½é‡åˆ°çš„é—®é¢˜ä»¥åŠç›¸åº”è§£å†³åŠæ³•ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="http://rovo98.github.io/categories/Java/"/>
    
    
    <category term="design-pattern" scheme="http://rovo98.github.io/tags/design-pattern/"/>
    
  </entry>
  
  <entry>
    <title>Java é›†åˆæ¡†æ¶æ¦‚è§ˆ</title>
    <link href="http://rovo98.github.io/posts/6a98b274/"/>
    <id>http://rovo98.github.io/posts/6a98b274/</id>
    <published>2019-07-10T04:34:43.000Z</published>
    <updated>2022-05-29T06:45:00.420Z</updated>
    
    <content type="html"><![CDATA[<p>é›†åˆï¼ˆCollectionï¼‰ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯ä¸€ç»„å¯¹è±¡ã€‚å½“éœ€è¦å¤„ç†ä»»ä½•çš„ä¸€ç»„å¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸å¯é¿å…åœ°è¦ä¸é›†åˆæ‰“äº¤é“ã€‚é›†åˆä¹Ÿå­˜åœ¨äºå‡ ä¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå› æ­¤ Java ä¹Ÿä¸ä¾‹å¤–ï¼Œä¸ºäº†å¼€å‘äººå‘˜èƒ½å¤Ÿæ›´é«˜æ•ˆåœ°å¤„ç†é›†åˆæ•°æ®ï¼ŒJava æä¾›äº†ä¸€ä¸ªé›†åˆæ¡†æ¶ ï¼ˆCollections frameworkï¼‰ï¼Œå®ƒç”±ä¸€ç³»åˆ—æ¥å£ä»¥åŠå®ç°ç±»ç»„æˆï¼Œæä¾›äº†ä¸åŒç±»å‹çš„é›†åˆï¼š<strong>List, Set, Map, Queue, Deque</strong> ç­‰ã€‚</p><p>è¿™äº›éšæ—¶å¯ç”¨çš„é›†åˆç±»å¯ä»¥å¸®åŠ©è§£å†³è®¸å¤šéå¸¸å¸¸è§çš„é—®é¢˜ï¼Œå¸®åŠ©å¤„ç†ä¸€ç»„åŒæ„å’Œå¼‚æ„å¯¹è±¡ã€‚å…¶ä¸­é›†åˆæ¶‰åŠçš„å¸¸è§æ“ä½œæœ‰æ·»åŠ ï¼ˆaddï¼‰ï¼Œåˆ é™¤ï¼ˆdeleteï¼‰ï¼Œæ’åºï¼ˆsortingï¼‰ï¼Œæœç´¢ï¼ˆsearchingï¼‰ä»¥åŠä¸€äº›æ“ä½œé›†åˆçš„è¾ƒå¤æ‚çš„ç®—æ³•ã€‚Java çš„é›†åˆæ¡†æ¶ä¸ºè¿™äº›æ“ä½œæä¾›äº†é€æ˜åŒ–çš„æ”¯æŒã€‚</p><span id="more"></span><h2 id="1-java-é›†åˆæ¡†æ¶ç»“æ„"><a class="markdownIt-Anchor" href="#1-java-é›†åˆæ¡†æ¶ç»“æ„"></a> 1. Java é›†åˆæ¡†æ¶ç»“æ„</h2><p>ä¸ºäº†æ›´å¥½åœ°äº†è§£ Java é›†åˆæ¡†æ¶æ•´ä½“ç»“æ„ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å¯¹è¯¥æ¡†æ¶æ‰€æä¾›çš„æ ¸å¿ƒæ¥å£æœ‰ä¸€å®šäº†è§£ã€‚å› ä¸ºæ¡†æ¶ä¸­æˆ‘ä»¬å¯èƒ½ä½¿ç”¨åˆ°çš„å…·ä½“å®ç°ç±»ï¼ˆconcrete classesï¼‰éƒ½æ˜¯åŸºäºè¿™äº›æ¥å£çš„ã€‚é€šè¿‡ç”Ÿæˆé›†åˆæ¡†æ¶çš„ç±»å›¾ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¯¥æ¡†æ¶çš„ä¸»è¦æ ¸å¿ƒæ¥å£æ˜¯ <code>Collection</code> å’Œ <code>Map</code>ã€‚ä¸åŒäºæ•°ç»„ï¼Œæ‰€æœ‰çš„é›†åˆå‡æ˜¯æ ¹æ®å®é™…å…ƒç´ æ•°é‡æ¥åŠ¨æ€è°ƒæ•´é›†åˆå¤§å°çš„ã€‚<code>Collection</code> ç”¨äºå­˜å‚¨ä¸€ç»„å¯¹è±¡ï¼Œè€Œ <code>Map</code> ç”¨äºå­˜å‚¨ä¸€ç»„å¼ºå…³è”çš„å¯¹è±¡å¯¹ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå¯¹ç”± <code>key</code> å’Œ <code>value</code> ç»„æˆï¼Œå³å®ƒæ˜¯ä¸€ç§ç¬¦å·è¡¨ï¼ˆsymbol tableï¼‰ã€‚</p><div align="center" style="display: flex; flex-direction:column;">    <img data-src='basic-collections.png'/>    <span style="padding-top:1em;">å›¾ 1.1 Collection æ¥å£å±‚æ¬¡ç»“æ„</span></div><p>å›¾ 1.1 å±•ç¤ºäº† <code>Collection</code> æ¥å£çš„å±‚æ¬¡ç»“æ„ï¼Œè¯¥ç»“æ„æ¸…æ™°åœ°å±•ç¤ºé›†åˆæ¡†æ¶æ ¹æ¥å£ <code>Collection</code> æ¥å£ä¸å…¶ä»–æ¥å£ï¼ˆçˆ¶æ¥å£å’Œå­æ¥å£ï¼‰ä»¥åŠå®ç°ç±»çš„ç»§æ‰¿æˆ–å®ç°å…³ç³»ã€‚è€Œ <code>Interface</code> æ˜¯ Java ç±»çš„æ¨¡æ¿ï¼Œå®šä¹‰äº†å…·ä½“å®ç°ç±»åº”è¯¥å…·å¤‡çš„è¡Œä¸ºã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡äº†è§£å„ä¸ªæ¥å£æ¥å¯¹è¯¥ç»“æ„æœ‰åˆæ­¥çš„æ•´ä½“äº†è§£ã€‚</p><p>é¦–å…ˆï¼Œ<code>Collection</code> æ¥å£ç»§æ‰¿äº† <code>Iterable</code> æ¥å£ï¼Œä½¿å…¶å¯ä»¥ä½œä¸º <code>forEach</code> å¾ªç¯è¯­å¥çš„æ‰§è¡Œå¯¹è±¡ã€‚æ ¹æ®é›†åˆæ˜¯å¦å¯åŒ…å«é‡å¤å¯¹è±¡ï¼Œæ˜¯å¦æœ‰åºï¼Œ<code>Collection</code> ç”± <code>List</code>ï¼Œ<code>Queue</code> å’Œ <code>Set</code> æ›´å…·ä½“åŒ–ã€‚å…¶ä¸­ï¼Œ<code>Set</code> ä¸å¯ä»¥åŒ…å«é‡å¤å¯¹è±¡ï¼Œä¸”ä¸ä¿è¯å…ƒç´ è¿”å›æŒ‰ç…§é¢„æœŸä»»ä½•é¡ºåºã€‚<code>List</code> åŒ…å«ä¸€ç³»åˆ—å¯¹è±¡ï¼Œä¸åŒäº <code>Set</code>ï¼Œå®ƒèƒ½å¤ŸåŒ…å«é‡å¤å¯¹è±¡ä¸”ç»´æŒå¯¹è±¡æ·»åŠ çš„é¡ºåºã€‚<code>Queue</code> æ˜¯ç»´æŒ FIFOï¼ˆfirst-in-first-out, å…ˆè¿›å…ˆå‡ºï¼‰å…³ç³»çš„ä¸€ç»„å¯¹è±¡ï¼ŒåŒæ ·å¯ä»¥åŒ…å«é‡å¤å¯¹è±¡ã€‚</p><h3 id="11-collection-æ¥å£"><a class="markdownIt-Anchor" href="#11-collection-æ¥å£"></a> 1.1 Collection æ¥å£</h3><p>Java å¹³å°æ²¡æœ‰æä¾› <code>Collection</code> æ¥å£çš„ä»»ä½•ç›´æ¥å®ç°ã€‚è¯¥æ¥å£ä¸»è¦å®šä¹‰äº†æ“ä½œé›†åˆä¸­å¯¹è±¡çš„åŸºæœ¬æ–¹æ³•ï¼Œå¦‚å‘Šè¯‰ä½ é›†åˆä¸­æ˜¯å¦å­˜åœ¨å…ƒç´ æˆ–å­˜åœ¨å¤šå°‘å…ƒç´ çš„æ–¹æ³•ï¼ˆ<code>isEmpty</code>, <code>size</code>ï¼‰ï¼Œæ£€æŸ¥ç»™å®šå…ƒç´ æ˜¯å¦å­˜åœ¨äºé›†åˆä¸­çš„æ–¹æ³•ï¼ˆ<code>contains</code>ï¼‰ï¼Œæ·»åŠ æˆ–åˆ é™¤ä¸€ä¸ªå…ƒç´ çš„æ–¹æ³•ï¼ˆ<code>add</code>, <code>remove</code>ï¼‰ï¼Œæä¾›è¯¥é›†åˆå…ƒç´ çš„è¿­ä»£å™¨ï¼ˆiteratorï¼‰ï¼ˆ<code>iterator</code>ï¼‰ã€‚</p><p>æ­¤å¤–ï¼Œ<code>Collection</code> è¿˜æœ‰ä½œç”¨äºæ•´ä½“é›†åˆæœ¬èº«å’Œé›†åˆä¹‹é—´çš„æ“ä½œâ€”â€”<code>containsAll</code>ï¼Œ<code>addAll</code>ï¼Œ<code>removeAll</code>ï¼Œ <code>retainAll</code>ï¼Œ<code>clear</code>ã€‚<code>toArray</code> æ–¹æ³•ä¸»è¦æ˜¯åº”å¯¹æŸäº›ä¾èµ–æ•°ç»„ç±»å‹ä½œä¸ºè¾“å…¥çš„è€æ—§ APIsã€‚è‡ª java 1.8 å¼€å§‹ï¼Œè¯¥æ¥å£å¼•å…¥äº† <code>stream</code> å’Œ <code>parallelStream</code> æ–¹æ³•æ¥ä¸º Stream æµæä¾›æ”¯æŒï¼Œå¹¶ç»“åˆ Lambda å’Œ <strong>Functional Interface</strong> å†æ·»åŠ äº†ä¸€ä¸ª <code>removeIf</code> æ–¹æ³•ã€‚</p><h4 id="111-iterator-æ¥å£"><a class="markdownIt-Anchor" href="#111-iterator-æ¥å£"></a> 1.1.1 Iterator æ¥å£</h4><p>æˆ‘ä»¬å·²ç»çŸ¥é“ <code>Collection</code> ç»§æ‰¿äº† <code>Iterable</code> æ¥å£ï¼Œéœ€è¦å®ç° <code>iterator</code> æ–¹æ³•è¿”å›ä¸€ä¸ªè¿­ä»£éå†é›†åˆå…ƒç´ çš„è¿­ä»£å™¨å¯¹è±¡ã€‚Java é›†åˆæ¡†æ¶ä¸­çš„æšä¸¾ï¼ˆEnumerationï¼‰æ“ä½œç”±è¿­ä»£å™¨ä»£æ›¿ã€‚è¿­ä»£å™¨å…è®¸æˆ‘ä»¬åœ¨éå†é›†åˆå…ƒç´ æ—¶ä»èƒ½åˆ é™¤é›†åˆä¸­çš„å…ƒç´ ã€‚é›†åˆç±»ä¸­ <code>Iterator</code> ä½¿ç”¨è¿­ä»£å™¨è®¾è®¡æ¨¡å¼å®ç°ã€‚</p><h4 id="112-list-æ¥å£"><a class="markdownIt-Anchor" href="#112-list-æ¥å£"></a> 1.1.2 List æ¥å£</h4><p>åˆ—è¡¨ï¼ˆListsï¼‰è¡¨ç¤ºä¸€ç»„æœ‰åºå…ƒç´ ã€‚é€šè¿‡ Listsï¼Œæˆ‘ä»¬ç”¨å…ƒç´ åœ¨é›†åˆä¸­çš„ç´¢å¼•ä½ç½®æ¥è®¿é—®è¯¥å…ƒç´ ï¼Œå–å†³äºå…·ä½“ç±»æ˜¯å¦å®ç° <code>RandomAccess</code> æ¥å£ï¼Œä¸€èˆ¬åœ°ï¼Œå®ç°è¯¥æ¥å£åˆ™è¡¨ç¤ºé›†åˆçš„åº•å±‚å®ç°ä½¿ç”¨æ•°ç»„ï¼Œä½¿ç”¨<code>for-loop</code> æ—¶ï¼Œåˆ©ç”¨ <code>get()</code> è¦æ¯”ç”¨ <code>iterator</code> æ–¹æ³•æ›´å¿«ã€‚</p><p>ç›¸æ¯”äº <code>Collection</code>ï¼Œå®ƒå¢åŠ äº†è®¿é—®å…ƒç´ çš„æ–¹æ³•ï¼ˆ<code>get</code>, <code>indexOf</code>, <code>lastIndexOf</code>ï¼‰ï¼Œæ›¿æ¢æŸä¸ªä½ç½®å…ƒç´ çš„ <code>set</code> æ–¹æ³•ï¼Œè¿˜å¢åŠ äº† <code>listIterator</code> å’Œ <code>subList</code> æ–¹æ³•ï¼Œæ­¤å¤–ï¼Œè‡ª java 1.8 èµ·ï¼Œåˆç»“åˆ Lambda å’Œå‡½æ•°å¼æ¥å£ï¼Œæ·»åŠ äº† <code>replaceAll</code>ï¼Œå¯ä»¥å°†é›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æ›¿æ¢æˆåº”ç”¨æŸä¸€ä¸€å…ƒè¿ç®—ä¹‹åçš„ç»“æœï¼Œå¦‚ <code>list.replaceAll(x -&gt; x++);</code> ç­‰ã€‚</p><p>æˆ‘ä»¬å¸¸ç”¨çš„ <code>List</code> æ¥å£å…·ä½“å®ç°ç±»æœ‰â€”â€”<code>ArrayList</code>, <code>CopyOnWriteArrayList</code>, <code>LinkedList</code>, <code>Vector</code>, <code>Stack</code>ã€‚</p><h4 id="113-listiterator-æ¥å£"><a class="markdownIt-Anchor" href="#113-listiterator-æ¥å£"></a> 1.1.3 ListIterator æ¥å£</h4><p><code>ListIterator</code> æ¥å£ç»§æ‰¿äº† <code>Iterator</code> æ¥å£ï¼Œä¸åŒçš„æ˜¯ï¼Œå®ƒå…è®¸å¼€å‘äººå‘˜ä»¥ä»»ä¸€æ–¹å‘ï¼ˆå‘å‰æˆ–å‘åï¼‰æ¥éå†åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼ŒåŒæ ·æ”¯æŒåœ¨éå†åˆ—è¡¨æ—¶å¯¹åˆ—è¡¨è¿›è¡Œä¿®æ”¹ï¼Œå¹¶æ”¯æŒè·å–ä¸‹ä¸€ä¸ªå¾…è®¿é—®å…ƒç´ çš„ç´¢å¼•ã€‚ç›¸æ¯”äº <code>Iterator</code> æ¥å£ï¼Œå®ƒå¢åŠ äº† <code>hasPrevious</code> å’Œ <code>previous</code> æ–¹æ³•æ¥åˆ¤æ–­å¹¶è·å–å‰ä¸€ä¸ªå…ƒç´ ã€‚</p><p>éœ€è¦æå‡ºçš„æ˜¯ï¼Œåœ¨ Java é›†åˆæ¡†æ¶ä¸­ï¼Œè¯¥æ¥å£ä¸»è¦ç”± <code>List</code> æ¥å£ç»§æ‰¿ã€‚</p><h4 id="114-set-æ¥å£"><a class="markdownIt-Anchor" href="#114-set-æ¥å£"></a> 1.1.4 Set æ¥å£</h4><p>Sets è¡¨ç¤ºä¸€ç»„ä¸é‡å¤çš„å¯¹è±¡ã€‚å®ƒæ— æ³•ä¿è¯è¿”å›å…ƒç´ æŒ‰ç…§ä»»ä½•é¢„æœŸé¡ºåºï¼Œä½†ä¹Ÿæœ‰ä¸€äº› <code>Set</code> çš„å®ç°ä»¥è‡ªç„¶é¡ºåºå­˜å‚¨å…ƒç´ å¹¶ç»´æŒè¯¥é¡ºåºã€‚<code>Set</code> æ¥å£ä¸æ”¯æŒéšæœºè®¿é—®ï¼Œå› æ­¤æˆ‘éœ€è¦é€šè¿‡è¿­ä»£å™¨æˆ– <code>forEach</code> æ–¹æ³•æ¥éå†é›†åˆä¸­çš„å…ƒç´ ã€‚</p><p>å¸¸ç”¨çš„ <code>Set</code> æ¥å£å…·ä½“å®ç°ç±»æœ‰â€”â€”<code>HashSet</code>, <code>TreeSet</code>, <code>EnumSet</code>, <code>LinkedHashSet</code>, <code>ConcurrentSkipListSet</code>, <code>CopyOnWriteArraySet</code>ã€‚</p><h4 id="115-sortedset-å’Œ-navigatableset-æ¥å£"><a class="markdownIt-Anchor" href="#115-sortedset-å’Œ-navigatableset-æ¥å£"></a> 1.1.5 SortedSet å’Œ NavigatableSet æ¥å£</h4><p>ä»å›¾1.1 çš„å±‚æ¬¡ç»“æ„å›¾å¯ä»¥çœ‹å‡ºï¼Œè¿™äº›æ¥å£æ˜¯ä¸º <code>Set</code> æ·»åŠ æ‰©å±•ã€‚<code>SortedSet</code> ä¿è¯äº† Set ä¸­çš„å…ƒç´ æ˜¯å·²æ’åºçš„ï¼Œè€Œ <code>NavigatablSet</code> æ¥å£ç¡®ä¿äº†æˆ‘ä»¬å¯ä»¥åœ¨å·²æ’åºçš„ Set ä¸­è¿›è¡Œå¯¼èˆªï¼Œæä¾›å¯ä»¥æ£€ç´¢æ¯”ç»™å®šå…ƒç´ å€¼å¤§çš„ä¸‹ä¸€ä¸ªæˆ–ä¸Šä¸€ä¸ªå…ƒç´ ã€‚å½“å‰ä¸»è¦æ˜¯ <code>TreeSet</code> å®ç°äº†è¿™ä¸¤ä¸ªæ¥å£ã€‚</p><h4 id="116-queue-æ¥å£"><a class="markdownIt-Anchor" href="#116-queue-æ¥å£"></a> 1.1.6 Queue æ¥å£</h4><p><code>Queue</code> è¡¨ç¤ºä¸€ç§ç»å…¸çš„æ•°æ®ç»“æ„â€”â€”é˜Ÿåˆ—ã€‚é™¤äº†æ‹¥æœ‰åŸºæœ¬çš„é›†åˆæ“ä½œä»¥å¤–ï¼Œ<code>Queue</code> å¢åŠ äº†é˜Ÿåˆ—çš„ä¸€äº›ä¸“å±æ“ä½œï¼Œè¿›é˜Ÿã€å‡ºé˜Ÿç­‰ã€‚é˜Ÿåˆ—ä¸­çš„å…ƒç´ é€šå¸¸ä½†ä¸ä¸€å®šæ˜¯ FIFO çš„ã€‚<code>PriorityQueue</code> æ˜¯ä¸€ä¸ªä¾‹å¤–ï¼Œå®ƒé€šè¿‡ç»´æŒä¸€ä¸ªå †æ¥å®ç°çš„ï¼Œå› æ­¤ï¼Œå®ƒå­˜æ”¾å…ƒç´ çš„é¡ºåºå¯èƒ½æ˜¯ä¸€ä¸ªå¤§é¡¶å †æˆ–è€…å°é¡¶å †çš„æ–¹å¼ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œé˜Ÿåˆ—ä¸æ”¯æŒé˜»å¡çš„æ’å…¥å’Œæ£€ç´¢æ“ä½œã€‚éœ€è¦ä½¿ç”¨ç›¸åº”å®ç° <code>BlockingQueue</code> æ¥å£çš„é˜»å¡é˜Ÿåˆ—å®ç°ç±»ã€‚</p><p>å¸¸ç”¨çš„ <code>Queue</code> æ¥å£å…·ä½“å®ç°ç±»æœ‰â€”â€”<code>LinkedList</code>, <code>ArrayDeque</code>, <code>PriorityQueue</code>, <code>ArrayBlockingQueue</code>, <code>ConcurrentLinkedDeque</code>, <code>ConcurrentLinkedQueue</code>, <code>DelayQueue</code>, <code>LinkedBlockingDeque</code>, <code>LinkedBlockingQueue</code>, <code>LinkedTransferQueue</code>, <code>PriorityBlockingQueue</code>, <code>SynchronousQueue</code>ã€‚</p><h4 id="117-deque-æ¥å£"><a class="markdownIt-Anchor" href="#117-deque-æ¥å£"></a> 1.1.7 Deque æ¥å£</h4><p><code>Deque</code> æ˜¯ä¸€ç§æ”¯æŒåœ¨ä¸¤ç«¯æ’å…¥å’Œç§»é™¤å…ƒç´ çš„åŒç«¯é˜Ÿåˆ—ï¼ˆå‘éŸ³ä¸º <strong>deck</strong>ï¼‰ã€‚å®ƒå³å¯ä»¥è¢«å½“ä½œä¸€ä¸ª <code>Queue</code> æ¥ä½¿ç”¨ï¼ˆFIFO, first-in-first-outï¼‰ï¼Œä¹Ÿå¯ä»¥å½“ä½œä¸€ä¸ª <code>Stack</code> ä½¿ç”¨ï¼ˆLIFO, last-in-first-outï¼‰ã€‚</p><p>è¯¥æ¥å£ä»£æ›¿ <code>Stack</code> ä½œä¸ºä¸€ä¸ªæ ˆæ¥ä½¿ç”¨ï¼Œå› ä¸º <code>Stack</code> ç»§æ‰¿äº <code>Vector</code> ç±»ï¼Œå®ƒçš„æ–¹æ³•å‡ä½¿ç”¨ <code>synchronized</code> å…³é”®å­—ä¿®é¥°è¿›è¡ŒåŒæ­¥ï¼Œä¸è€ƒè™‘å¤šçº¿ç¨‹æƒ…å†µä¸‹ï¼Œä½¿ç”¨å®ƒæ€§èƒ½ä¸ä½³ã€‚</p><p>å®ç° <code>Deque</code> æ¥å£çš„å¸¸ç”¨ç±»â€”â€”<code>ArrayDeque</code>, <code>ConcurrentLinkedDeque</code>, <code>LinkedBlockingDeque</code> å’Œ <code>LinkedList</code>ã€‚</p><h3 id="12-map-æ¥å£"><a class="markdownIt-Anchor" href="#12-map-æ¥å£"></a> 1.2 Map æ¥å£</h3><p><code>Map</code> æ¥å£å®šä¹‰ç”¨äºå­˜å‚¨é”®-å€¼å¯¹ï¼ˆkey-value pairsï¼‰æ•°æ®å¯¹è±¡çš„é›†åˆï¼ˆå…¶ä¸­é”®è¦æ˜¯ä¸å¯å˜çš„ï¼Œimmutableï¼‰ã€‚<code>Map</code> æ¥å£çš„å±‚æ¬¡ç»“æ„è§å›¾ 1.2ã€‚ä¸€ä¸ª Map ä¸èƒ½åŒ…å«é‡å¤çš„ keyï¼Œæ¯ä¸€ä¸ª key å”¯ä¸€å®šå¯¹åº”ä¸€ä¸ª valueã€‚ä¸€ä¸ª Map çš„åŸºæœ¬æ“ä½œæœ‰ <code>put</code>, <code>get</code>, <code>containsKey</code>, <code>containsValue</code>, <code>size</code> ä»¥åŠ <code>isEmtpy</code>ã€‚</p><p>Map å®é™…ä¸Šæä¾›äº†ä¸‰ç§é›†åˆè§†å›¾ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ª Map çœ‹ä½œæ˜¯ä¸€ä¸ªç”±é”®ç»„æˆçš„é›†åˆã€ä¸€ä¸ªç”±å€¼ç»„æˆçš„é›†åˆä»¥åŠä¸€ä¸ªç”±é”®-å€¼å¯¹æ˜ å°„ç»„æˆçš„é›†åˆã€‚åœ¨ Map çš„å…·ä½“å®ç°ç±»ä¸­ï¼Œæœ‰çš„ä¼šç»´æŒå…ƒç´ çš„é¡ºåºï¼Œå¦‚ <code>TreeMap</code>ï¼Œè€Œæœ‰çš„åˆ™ä¸ä¼šï¼Œå¦‚ <code>HashMap</code>ã€‚</p><p><code>Map</code> æ¥å£å¸¸ç”¨çš„å®ç°ç±»æœ‰â€”â€”<code>HashMap</code>, <code>EnumMap</code>, <code>HashTable</code>, <code>IdentityHashMap</code>, <code>LinkedHashMap</code>, <code>Properties</code>, <code>TreeMap</code>, <code>WeakHashMap</code>, <code>ConcurrentHashMap</code>, <code>ConcurrentSkipListMap</code>ã€‚</p><div align="center" style="display: flex; flex-direction:column;">    <img data-src='maps.png'/>    <span style="padding-top:1em;">å›¾ 1.2 Map æ¥å£å±‚æ¬¡ç»“æ„</span></div><h4 id="121-sortedmap-å’Œ-navigatablemap-æ¥å£"><a class="markdownIt-Anchor" href="#121-sortedmap-å’Œ-navigatablemap-æ¥å£"></a> 1.2.1 SortedMap å’Œ NavigatableMap æ¥å£</h4><p>ä¸ä¹‹å‰çš„ <code>SortedSet</code> å’Œ <code>NavigatableSet</code> æ¥å£ç±»ä¼¼ï¼Œå®ƒä»¬ä¸º <code>Map</code> æ¥å£å¢åŠ äº†ç±»ä¼¼çš„è¡Œä¸ºã€‚ä¸»è¦æ˜¯ <code>LinkedHashMap</code> å®ç°äº†è¿™ä¸¤ä¸ªæ¥å£ã€‚ä¹‹æ‰€ä»¥ï¼Œ<code>Set</code> å’Œ <code>Map</code> çš„å®ç°æœ‰è®¸å¤šç±»ä¼¼çš„åœ°æ–¹ï¼Œæ˜¯å› ä¸º <code>Set</code> å…·ä½“ç±»çš„å®ç°ä½¿ç”¨ <code>Map</code> çš„å…·ä½“ç±»ä½œä¸ºæ”¯æŒã€‚</p><h2 id="2-å°èŠ‚"><a class="markdownIt-Anchor" href="#2-å°èŠ‚"></a> 2. å°èŠ‚</h2><p>æœ¬æ–‡ä¸»è¦ç®€å•ä»‹ç»äº† Java é›†åˆæ¡†æ¶çš„ç»“æ„ï¼Œäº†è§£å…¶ä¸­æ¥å£å’Œå…·ä½“å®ç°ç±»çš„å…³ç³»ã€‚é€šè¿‡è¿™äº›äº†è§£ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ Java çš„é›†åˆæ¡†æ¶æœ‰äº†ä¸€ä¸ªåˆæ­¥çš„äº†è§£ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¿˜è¿›ä¸€æ­¥åœ°å»äº†è§£å¸¸ç”¨å…·ä½“å®ç°ç±»çš„ä¸€äº›ç»†èŠ‚ï¼Œä»¥åŠæˆ‘ä»¬åœ¨å¼€å‘æ—¶é‡åˆ°å®é™…é—®é¢˜æ—¶ï¼Œåº”è¯¥ä¼˜å…ˆä½¿ç”¨é‚£äº›å…·ä½“ç±»çš„é—®é¢˜ã€‚æ­¤å¤–ï¼Œè¿˜éœ€è¦å¯¹ <code>java.util</code> åŒ…ä¸‹æä¾›çš„ä¸¤ä¸ªå·¥å…·ç±» <code>Collections</code> å’Œ <code>Arrays</code> è¿›è¡Œäº†è§£ï¼Œå®ƒä»¬åˆ†åˆ«æä¾›äº†æ“ä½œé›†åˆå’Œæ•°ç»„çš„ä¸€äº›éå¸¸æœ‰ç”¨çš„æ–¹æ³•ï¼Œä¾‹å¦‚ <code>sort</code>, <code>shuffle</code>, <code>reverse</code> <code>search</code>, <code>min</code>, <code>max</code> ç­‰ã€‚æ­¤å¤–ï¼Œ<code>Collections</code> æä¾›äº†è®¸å¤šæ“çºµé›†åˆçš„æ–¹æ³•ï¼Œèƒ½å¤Ÿå¯¹ç»™å®šé›†åˆè¿›è¡Œå°è£…ï¼Œæ¯”å¦‚å°†ç»™å®šé›†åˆè½¬æ¢æˆåŒæ­¥é›†åˆã€ä¸å¯ä¿®æ”¹é›†åˆç­‰ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;é›†åˆï¼ˆCollectionï¼‰ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯ä¸€ç»„å¯¹è±¡ã€‚å½“éœ€è¦å¤„ç†ä»»ä½•çš„ä¸€ç»„å¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸å¯é¿å…åœ°è¦ä¸é›†åˆæ‰“äº¤é“ã€‚é›†åˆä¹Ÿå­˜åœ¨äºå‡ ä¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå› æ­¤ Java ä¹Ÿä¸ä¾‹å¤–ï¼Œä¸ºäº†å¼€å‘äººå‘˜èƒ½å¤Ÿæ›´é«˜æ•ˆåœ°å¤„ç†é›†åˆæ•°æ®ï¼ŒJava æä¾›äº†ä¸€ä¸ªé›†åˆæ¡†æ¶ ï¼ˆCollections frameworkï¼‰ï¼Œå®ƒç”±ä¸€ç³»åˆ—æ¥å£ä»¥åŠå®ç°ç±»ç»„æˆï¼Œæä¾›äº†ä¸åŒç±»å‹çš„é›†åˆï¼š&lt;strong&gt;List, Set, Map, Queue, Deque&lt;/strong&gt; ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›éšæ—¶å¯ç”¨çš„é›†åˆç±»å¯ä»¥å¸®åŠ©è§£å†³è®¸å¤šéå¸¸å¸¸è§çš„é—®é¢˜ï¼Œå¸®åŠ©å¤„ç†ä¸€ç»„åŒæ„å’Œå¼‚æ„å¯¹è±¡ã€‚å…¶ä¸­é›†åˆæ¶‰åŠçš„å¸¸è§æ“ä½œæœ‰æ·»åŠ ï¼ˆaddï¼‰ï¼Œåˆ é™¤ï¼ˆdeleteï¼‰ï¼Œæ’åºï¼ˆsortingï¼‰ï¼Œæœç´¢ï¼ˆsearchingï¼‰ä»¥åŠä¸€äº›æ“ä½œé›†åˆçš„è¾ƒå¤æ‚çš„ç®—æ³•ã€‚Java çš„é›†åˆæ¡†æ¶ä¸ºè¿™äº›æ“ä½œæä¾›äº†é€æ˜åŒ–çš„æ”¯æŒã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="http://rovo98.github.io/categories/Java/"/>
    
    
    <category term="basic" scheme="http://rovo98.github.io/tags/basic/"/>
    
    <category term="Collections" scheme="http://rovo98.github.io/tags/Collections/"/>
    
  </entry>
  
  <entry>
    <title>å¿«æ’åºä¼˜åŒ–</title>
    <link href="http://rovo98.github.io/posts/6dcc34f7/"/>
    <id>http://rovo98.github.io/posts/6dcc34f7/</id>
    <published>2019-05-22T04:22:00.000Z</published>
    <updated>2021-09-09T14:11:36.703Z</updated>
    
    <content type="html"><![CDATA[<p>Â Â Â Â ä¸åŒä¸å½’å¹¶æ’åº<code>mergeSort</code>ï¼Œå¿«æ’åºä¸éœ€è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„æ¥è¾…åŠ©è¿›è¡Œæ’åºï¼Œä½†æ˜¯è¿™å¹¶ä¸æ„å‘³ç€å¿«æ’åºå°±å±äºåŸåœ°æ’åº (<a href="https://en.wikipedia.org/wiki/In-place_algorithm">in-place</a>)ã€‚</p><blockquote><p>Â Â Â Â å¿«æ’åºé€’å½’æ—¶éœ€è¦ä½¿ç”¨æ ˆç©ºé—´ï¼Œå½“æ‰§è¡Œé€’å½’å‡½æ•°è°ƒç”¨æ—¶ï¼Œéœ€è¦å°†å½“å‰æ‰§è¡Œå‡½æ•°çš„çŠ¶æ€å‹å…¥çº¿ç¨‹æ ˆä¸­ï¼Œé€’å½’è°ƒç”¨å®Œæˆåå†ä¸€å±‚å±‚è¿”å›ã€‚å¿«æ’åºä¸å±äºåŸåœ°æ’åºï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰æ–¹æ³•è¿›è¡Œä¼˜åŒ–å‘¢ï¼Ÿ</p></blockquote><span id="more"></span><h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2><p>æˆ‘ä»¬çŸ¥é“å¿«æ’åº <code>quickSort</code>çš„æ’åºæ€§èƒ½å¾ˆå¥½ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹äºæ•°ç»„æ¥è¯´ã€‚<strong>JDK</strong>ä¸­ <code>Arrays.sort</code> ä¸­é’ˆå¯¹äºåŸå§‹ç±»å‹çš„æ•°ç»„çš„æ’åºä¹Ÿæ˜¯ç”¨åˆ°äº†å¿«æ’åº(åŒåŸºå‡†å¿«æ’ <code>DualPivotQuickSort</code> )ã€‚</p><h3 id="quicksort-in-jdk"><a class="markdownIt-Anchor" href="#quicksort-in-jdk"></a> QuickSort in JDK</h3><p>ç®€å•çœ‹ä¸€ä¸‹ï¼ŒJDK8 ä¸­æœ‰å…³å¿«é€Ÿæ’åºç®—æ³•çš„å®ç°ã€‚</p><p><code>Arrays.class</code> çš„ä¸€ä¸ª <code>sort(int[])</code> æ–¹æ³•:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Sorts the specified array into ascending numerical order.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;Implementation note: The sorting algorithm is a Dual-Pivot Quicksort</span></span><br><span class="line"><span class="comment"> * by Vladimir Yaroslavskiy, Jon Bentley, and Joshua Bloch. This algorithm</span></span><br><span class="line"><span class="comment"> * offers O(n log(n)) performance on many data sets that cause other</span></span><br><span class="line"><span class="comment"> * quicksorts to degrade to quadratic performance, and is typically</span></span><br><span class="line"><span class="comment"> * faster than traditional (one-pivot) Quicksort implementations.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a the array to be sorted</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] a)</span> </span>&#123;</span><br><span class="line">    DualPivotQuicksort.sort(a, <span class="number">0</span>, a.length - <span class="number">1</span>, <span class="keyword">null</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>DualPivotQuicksort</code> çš„å®ç°å°±ç›¸å¯¹å¤æ‚ä¸€ç‚¹ï¼Œå¦‚æœæ„Ÿå…´è¶£çš„è¯å¯ä»¥è‡ªè¡ŒæŸ¥çœ‹ç›¸å…³æºä»£ç å’Œå®ç°æ–‡æ¡£, è¿™é‡Œåªå¯¹æœ‰å…³å¿«æ’åºçš„å†…å®¹è¿›è¡Œç®€å•åœ°é˜è¿°ã€‚</p><p><img data-src="quickSortOptimization-1.png" alt="DualPivotQuickSort" /></p><p>ä»ä¸Šé¢ç»™åˆ°çš„æ–‡æ¡£å†…å®¹çœ‹ï¼Œæˆ‘ä»¬å…³æ³¨ä»¥ä¸‹çš„å¸¸é‡:</p><ul><li><p><code>QUICKSORT_THRESHOLD=286</code>: åœ¨å½’å¹¶æ’åºä¸­ç”¨åˆ°ï¼Œå½“æ•°ç»„å…ƒç´ æ•°é‡å°äº286æ—¶ï¼Œåˆ‡æ¢ä¸ºå¿«é€Ÿæ’åºï¼›</p></li><li><p><code>INSERTION_SORT_THRESHOLD=47</code>: åœ¨å¿«é€Ÿæ’åºä¸­ç”¨åˆ°ï¼Œå½“æ•°ç»„å…ƒç´ æ•°é‡å°äº47æ—¶ï¼Œåˆ‡æ¢ä¸ºæ’å…¥æ’åºï¼›</p></li><li><p><code>MAX_RUN_COUNT=67</code>: å½’å¹¶æ’åºä¸­æœ€å¤§è¿è¡Œæ¬¡æ•°ï¼›</p></li><li><p><code>MAX_RUN_LENGTH=33</code>: å½’å¹¶æ’åºå…è®¸çš„è¿ç»­é‡å¤å…ƒç´ ä¸ªæ•°çš„æœ€å¤§å€¼</p></li></ul><p>ä¸»è¦æ’åºæ–¹æ³•å¦‚ä¸‹:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Sorting methods for seven primitive types.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Sorts the specified range of the array using the given</span></span><br><span class="line"><span class="comment"> * workspace array slice if possible for merging</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> a the array to be sorted</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> left the index of the first element, inclusive, to be sorted</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> right the index of the last element, inclusive, to be sorted</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> work a workspace array (slice)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> workBase origin of usable space in work array</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> workLen usable size of work array</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> left, <span class="keyword">int</span> right,</span></span></span><br><span class="line"><span class="params"><span class="function">                 <span class="keyword">int</span>[] work, <span class="keyword">int</span> workBase, <span class="keyword">int</span> workLen)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Use Quicksort on small arrays</span></span><br><span class="line">    <span class="comment">// å³ï¼Œ array.length &lt; 286 æ—¶ä½¿ç”¨å¿«æ’åº</span></span><br><span class="line">    <span class="keyword">if</span> (right - left &lt; QUICKSORT_THRESHOLD) &#123;</span><br><span class="line">        sort(a, left, right, <span class="keyword">true</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * Index run[i] is the start of i-th run</span></span><br><span class="line"><span class="comment">     * run[i] è¡¨ç¤ºç¬¬ i-th æ¬¡è¿è¡Œ</span></span><br><span class="line"><span class="comment">     * (ascending or descending sequence).</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">int</span>[] run = <span class="keyword">new</span> <span class="keyword">int</span>[MAX_RUN_COUNT + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>; run[<span class="number">0</span>] = left;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Check if the array is nearly sorted</span></span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ•°ç»„æ˜¯å¦å·²ç»åŸºæœ¬æ’å¥½åº(éƒ¨åˆ†æœ‰åº)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = left; k &lt; right; run[count] = k) &#123;</span><br><span class="line">        <span class="keyword">if</span> (a[k] &lt; a[k + <span class="number">1</span>]) &#123; <span class="comment">// ascending</span></span><br><span class="line">            <span class="comment">// while å¾ªç¯ç»“æŸåï¼Œkä¼šæŒ‡å‘è¿ç»­ç”Ÿåºå…ƒç´ çš„æœ€åä¸€ä¸ª</span></span><br><span class="line">            <span class="keyword">while</span> (++k &lt;= right &amp;&amp; a[k - <span class="number">1</span>] &lt;= a[k]);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (a[k] &gt; a[k + <span class="number">1</span>]) &#123; <span class="comment">// descending</span></span><br><span class="line">            <span class="comment">// åŒä¸Š, ç±»ä¼¼åœ°ï¼Œk ä¼šæŒ‡å‘è¿ç»­é™åºå…ƒç´ çš„æœ€åä¸€ä¸ª</span></span><br><span class="line">            <span class="keyword">while</span> (++k &lt;= right &amp;&amp; a[k - <span class="number">1</span>] &gt;= a[k]);</span><br><span class="line">            <span class="comment">// å¯¹è¿™ä¸€éƒ¨åˆ†è¿›è¡Œç¿»è½¬(reverse), ä½¿å…¶ç”Ÿåº</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> lo = run[count] - <span class="number">1</span>, hi = k; ++lo &lt; --hi; ) &#123;</span><br><span class="line">                <span class="keyword">int</span> t = a[lo]; a[lo] = a[hi]; a[hi] = t;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// equal</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> m = MAX_RUN_LENGTH; ++k &lt;= right &amp;&amp; a[k - <span class="number">1</span>] == a[k]; ) &#123;</span><br><span class="line">                <span class="comment">// æ•°ç»„ä¸­è¿ç»­é‡å¤å…ƒç´ è¶…è¿‡MAX_RUN_LENGTH(33)æ—¶</span></span><br><span class="line">                <span class="comment">// ä½¿ç”¨å¿«æ’åº</span></span><br><span class="line">                <span class="keyword">if</span> (--m == <span class="number">0</span>) &#123;</span><br><span class="line">                    sort(a, left, right, <span class="keyword">true</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">         * The array is not highly structured,</span></span><br><span class="line"><span class="comment">         * use Quicksort instead of merge sort.</span></span><br><span class="line"><span class="comment">         * å¦‚æœæ•°ç»„éé«˜åº¦ç»“æ„åŒ–ï¼Œä½¿ç”¨å¿«æ’åº</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">if</span> (++count == MAX_RUN_COUNT) &#123;</span><br><span class="line">            sort(a, left, right, <span class="keyword">true</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Check special cases</span></span><br><span class="line">    <span class="comment">// Implementation note: variable &quot;right&quot; is increased by 1.</span></span><br><span class="line">    <span class="keyword">if</span> (run[count] == right++) &#123; <span class="comment">// The last run contains one element</span></span><br><span class="line">        run[++count] = right;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (count == <span class="number">1</span>) &#123; <span class="comment">// The array is already sorted</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Determine alternation base for merge</span></span><br><span class="line">    <span class="keyword">byte</span> odd = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">1</span>; (n &lt;&lt;= <span class="number">1</span>) &lt; count; odd ^= <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Use or create temporary array b for merging</span></span><br><span class="line">    <span class="keyword">int</span>[] b;                 <span class="comment">// temp array; alternates with a</span></span><br><span class="line">    <span class="keyword">int</span> ao, bo;              <span class="comment">// array offsets from &#x27;left&#x27;</span></span><br><span class="line">    <span class="keyword">int</span> blen = right - left; <span class="comment">// space needed for b</span></span><br><span class="line">    <span class="keyword">if</span> (work == <span class="keyword">null</span> || workLen &lt; blen || workBase + blen &gt; work.length) &#123;</span><br><span class="line">        work = <span class="keyword">new</span> <span class="keyword">int</span>[blen];</span><br><span class="line">        workBase = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (odd == <span class="number">0</span>) &#123;</span><br><span class="line">        System.arraycopy(a, left, work, workBase, blen);</span><br><span class="line">        b = a;</span><br><span class="line">        bo = <span class="number">0</span>;</span><br><span class="line">        a = work;</span><br><span class="line">        ao = workBase - left;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        b = work;</span><br><span class="line">        ao = <span class="number">0</span>;</span><br><span class="line">        bo = workBase - left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Merging</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> last; count &gt; <span class="number">1</span>; count = last) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = (last = <span class="number">0</span>) + <span class="number">2</span>; k &lt;= count; k += <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> hi = run[k], mi = run[k - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = run[k - <span class="number">2</span>], p = i, q = mi; i &lt; hi; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> (q &gt;= hi || p &lt; mi &amp;&amp; a[p + ao] &lt;= a[q + ao]) &#123;</span><br><span class="line">                    b[i + bo] = a[p++ + ao];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    b[i + bo] = a[q++ + ao];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            run[++last] = hi;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ((count &amp; <span class="number">1</span>) != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = right, lo = run[count - <span class="number">1</span>]; --i &gt;= lo;</span><br><span class="line">                b[i + bo] = a[i + ao]</span><br><span class="line">            );</span><br><span class="line">            run[++last] = right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[] t = a; a = b; b = t;</span><br><span class="line">        <span class="keyword">int</span> o = ao; ao = bo; bo = o;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä»–ç›¸å…³çš„æ›´è¯¦ç»†å†…å®¹å¯ä»¥è‡ªè¡Œç§»æ­¥åˆ° JDK æºä»£ç æ–‡æ¡£ä¸­æŸ¥çœ‹ã€‚</p><h3 id="problem"><a class="markdownIt-Anchor" href="#problem"></a> Problem</h3><p>æœ¬æ–‡åªè®¨è®ºç®€å•çš„æœ€åŸå§‹çš„å¿«æ’åº(å•åŸºå‡†, single-pivot )å®ç°(ä¼ªä»£ç å¦‚ä¸‹), å³</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">QuickSort (if low &lt; high):</span><br><span class="line">pi = partition(arr, low, high);</span><br><span class="line">QuickSort(arr, low, pi - 1);</span><br><span class="line">QuickSort(arr, pi + 1, high);</span><br></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ:</strong></p><ul><li>Time complexity: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></li><li>Space complexity: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> in worst case</li></ul><p>ç”±äºä¸Šè¿°å®ç°çš„ä»£ç æœ€åæ˜¯ä¸¤æ¬¡é€’å½’è°ƒç”¨ï¼Œå› æ­¤åœ¨æœ€åæƒ…å†µä¸‹ï¼Œå°†éœ€è¦ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> ç©ºé—´çš„å‡½æ•°è°ƒç”¨æ ˆã€‚</p><blockquote><p>æœ€åæƒ…å†µ: å› ä¸ºä½¿ç”¨å•åŸºå‡†å…ƒç´ å¯¹æ•°ç»„è¿›è¡Œåˆ’åˆ†ï¼Œå¦‚æœæ¯æ¬¡éƒ½å°†æ•°ç»„åˆ’åˆ†ä¸º  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> ä¸ªå…ƒç´ å’Œ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> ä¸ªå…ƒç´ ä¸¤ä¸ªéƒ¨åˆ†çš„è¯ï¼Œå°†å‡ºç°æœ€åæƒ…å†µã€‚</p></blockquote><p>ä¾‹å¦‚å¯¹äºé€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†å…ƒç´ ï¼Œå¦‚æœç»™å®šæ•°ç»„æ˜¯é€†åºçš„(æˆ–è€…åè¿‡æ¥ï¼Œé€‰æ‹©æœ€åä¸€ä¸ªä½œä¸ºåŸºå‡†ï¼Œç»™å®šæ•°ç»„å·²æ’åº)ï¼Œåˆ™å‡ºç°æœ€åæƒ…å†µã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (low &lt; high) &#123;</span><br><span class="line">        <span class="comment">/* pi is the partiioning index */</span></span><br><span class="line">        <span class="keyword">int</span> pi = partition(arr, low, high);</span><br><span class="line">        <span class="comment">// Separately sort elements before</span></span><br><span class="line">        <span class="comment">// partition and after partition</span></span><br><span class="line">        quickSort(arr, low, pi - <span class="number">1</span>);</span><br><span class="line">        quickSort(arr, pi + <span class="number">1</span>, high);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åæƒ…å†µç¤ºä¾‹:</p><p><img data-src="quickSortOptimization-2.png" alt="quickSort-worst-case" /></p><h2 id="solutions"><a class="markdownIt-Anchor" href="#solutions"></a> Solutions</h2><p>ä¸Šé¢è®¨è®ºäº†å¿«æ’åºå­˜åœ¨çš„é—®é¢˜ï¼Œæ¥ä¸‹æ¥å°†é’ˆå¯¹ä¸Šè¿°é—®é¢˜æå‡ºè§£å†³æ–¹æ³•ã€‚</p><h3 id="method-i"><a class="markdownIt-Anchor" href="#method-i"></a> Method I</h3><p>å¯¹äºæ¯æ¬¡æ•°ç»„åˆ’åˆ†ï¼Œä½¿å¾—å„ä¸ªéƒ¨åˆ†éƒ½å°äº <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">n/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord">/</span><span class="mord">2</span></span></span></span>, å…¶ä¸­ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> ä¸ºæ•°ç»„é•¿åº¦ã€‚</p><p><img data-src="quickSortOptimization-3.png" alt="method-1-1" /></p><p>è¿™ç§æ–¹æ³•å¹¶ä¸æ˜¯æœ€å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œ**æ ˆä¸­å•ä¸ªé¡¹ç›®çš„å¤§å°ä»å¯èƒ½ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> **.</p><p><img data-src="quickSortOptimization-4.png" alt="method-1-2" /></p><h3 id="method-ii"><a class="markdownIt-Anchor" href="#method-ii"></a> Method II</h3><p>æ€æƒ³: åªå¯¹è¾ƒå°çš„åˆ’åˆ†éƒ¨åˆ†è°ƒç”¨é€’å½’å‡½æ•°ï¼Œå¦åˆ™ç»§ç»­åˆ’åˆ†ã€‚(è¿™ç§æ–¹å¼ä½¿ç”¨äº†å°¾é€’å½’ï¼Œæƒ³äº†è§£æ›´å¤šå¯ä»¥ç•™æ„æœ¬æ–‡æœ€åç»™å‡ºçš„å‚è€ƒé“¾æ¥)</p><p><img data-src="quickSortOptimization-5.png" alt="method-2-1" /></p><p><img data-src="quickSortOptimization-6.png" alt="method-2-2" /></p><h2 id="implementation"><a class="markdownIt-Anchor" href="#implementation"></a> Implementation</h2><p>ä¸‹é¢æ˜¯å¯¹ä¸Šè¿°è§£å†³æ–¹æ³•IIçš„å®ç°ï¼Œä½¿ç”¨å°¾é€’å½’è¿›è¡Œå¤„ç†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å°†ä¹‹å‰çš„ä»£ç è½¬æ¢ä¸ºå¦‚ä¸‹ï¼Œä½¿ç”¨<code>while</code>å¾ªç¯ä»¥å‡å°‘é€’å½’è°ƒç”¨çš„æ¬¡æ•°ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">        <span class="comment">// pi is partitioning index</span></span><br><span class="line">        <span class="keyword">int</span> pi = partition(arr, low, high);</span><br><span class="line">        <span class="comment">// Separately sort elements before</span></span><br><span class="line">        <span class="comment">// partition and after partition</span></span><br><span class="line">        quickSort(arr, low, pi - <span class="number">1</span>);</span><br><span class="line">        low = pi + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™ç§å®ç°æ–¹å¼ï¼Œå°½ç®¡å‡å°‘äº†é€’å½’å‡½æ•°è°ƒç”¨çš„æ¬¡æ•°ï¼Œä½†æ˜¯åœ¨æœ€åæƒ…å†µï¼Œæ‰€éœ€çš„æ ˆç©ºé—´ä»æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>. å› ä¸ºæˆ‘ä»¬ä»å¯ä»¥å°†æ•°ç»„åˆ’åˆ†ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ä¸ªå…ƒç´ éƒ¨åˆ†å’Œå¦ä¸€éƒ¨åˆ†ã€‚</p></blockquote><p>è¿›ä¸€æ­¥ä¼˜åŒ–:</p><blockquote><p>ä»¥ä¸‹çš„å®ç°æ–¹å¼ï¼Œåœ¨åˆ’åˆ†(<em>partition</em>)ä¹‹åï¼Œåªåœ¨è¾ƒå°çš„éƒ¨åˆ†ä¸Šæ‰§è¡Œé€’å½’å‡½æ•°ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// java implementation</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Quick</span> </span>&#123;</span><br><span class="line">    <span class="function">pulbic <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">        quickSort(arr, <span class="number">0</span>, arr.length - <span class="number">1</span>);</span><br><span class="line">        <span class="function"><span class="keyword">assert</span> <span class="title">isSorted</span><span class="params">(arr)</span></span>;</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="comment">/* This QuickSort requires O(log n) auxiliary space in worst case.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (low &lt;  high) &#123;</span><br><span class="line">            <span class="comment">// pi is partitioning index</span></span><br><span class="line">            <span class="keyword">int</span> pi = partition(arr, low, high);</span><br><span class="line">            <span class="comment">// if left part is smaller, then recur for left</span></span><br><span class="line">            <span class="comment">// part and handle right part iteratively</span></span><br><span class="line">            <span class="keyword">if</span> (pi - low &lt; high - pi) &#123;</span><br><span class="line">                quickSort(arr, low, pi - <span class="number">1</span>);</span><br><span class="line">                low = pi + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">// else recur for right part</span></span><br><span class="line">                quickSort(arr, pi+<span class="number">1</span>, high);</span><br><span class="line">                high = pi - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (low &gt; high) </span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;invalid arguments&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> i = low, j = high + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> povit = arr[low];</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (arr[++i] &lt; povit)</span><br><span class="line">                <span class="keyword">if</span> (i == high) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">while</span> (arr[--j] &gt; povit)</span><br><span class="line">                <span class="keyword">if</span> (j == low) <span class="keyword">break</span>; <span class="comment">// reduntant</span></span><br><span class="line">            <span class="keyword">if</span> (i &gt; j) <span class="keyword">break</span>;</span><br><span class="line">            swap(arr, i, j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (j &gt; low) swap(arr, low, j);</span><br><span class="line">        <span class="keyword">return</span> j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">////////////// Help functions //////////////////////</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> temp = arr[i];</span><br><span class="line">        arr[i] = arr[j];</span><br><span class="line">        arr[j] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isSorted</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length-<span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[i] &gt; arr[i+<span class="number">1</span>]) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">////////////////////////////////////////////////////////</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä¼˜åŒ–åçš„å®ç°æ–¹å¼ä¸­ï¼Œæˆ‘ä»¬åªåœ¨æ›´å°çš„éƒ¨åˆ†ä¸Šé€’å½’è°ƒç”¨å‡½æ•°ï¼›å› æ­¤åœ¨æœ€åæƒ…å†µä¸‹ï¼Œå½“æ‰€æœ‰é€’å½’è°ƒç”¨ä¸­çš„ä¸¤ä¸ªéƒ¨åˆ†å¤§å°ç›¸åŒæ—¶ï¼Œä½¿ç”¨<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mtext>Â </mtext><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(log\ n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mspace">Â </span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>çš„é¢å¤–ç©ºé—´ã€‚</p><blockquote><p><em>References</em>:</p><ol><li><p><a href="https://www.geeksforgeeks.org/tail-call-elimination/">https://www.geeksforgeeks.org/tail-call-elimination/</a></p></li><li><p><a href="https://www.geeksforgeeks.org/quicksort-tail-call-optimization-reducing-worst-case-space-log-n/">https://www.geeksforgeeks.org/quicksort-tail-call-optimization-reducing-worst-case-space-log-n/</a></p></li><li><p><a href="http://www.cs.nthu.edu.tw/~wkhon/algo08-tutorials/tutorial2b.pdf">http://www.cs.nthu.edu.tw/~wkhon/algo08-tutorials/tutorial2b.pdf</a></p></li></ol></blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;Â Â Â Â ä¸åŒä¸å½’å¹¶æ’åº&lt;code&gt;mergeSort&lt;/code&gt;ï¼Œå¿«æ’åºä¸éœ€è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„æ¥è¾…åŠ©è¿›è¡Œæ’åºï¼Œä½†æ˜¯è¿™å¹¶ä¸æ„å‘³ç€å¿«æ’åºå°±å±äºåŸåœ°æ’åº (&lt;a href=&quot;https://en.wikipedia.org/wiki/In-place_algorithm&quot;&gt;in-place&lt;/a&gt;)ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Â Â Â Â å¿«æ’åºé€’å½’æ—¶éœ€è¦ä½¿ç”¨æ ˆç©ºé—´ï¼Œå½“æ‰§è¡Œé€’å½’å‡½æ•°è°ƒç”¨æ—¶ï¼Œéœ€è¦å°†å½“å‰æ‰§è¡Œå‡½æ•°çš„çŠ¶æ€å‹å…¥çº¿ç¨‹æ ˆä¸­ï¼Œé€’å½’è°ƒç”¨å®Œæˆåå†ä¸€å±‚å±‚è¿”å›ã€‚å¿«æ’åºä¸å±äºåŸåœ°æ’åºï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰æ–¹æ³•è¿›è¡Œä¼˜åŒ–å‘¢ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="Algorithms" scheme="http://rovo98.github.io/categories/Algorithms/"/>
    
    <category term="sorting algs" scheme="http://rovo98.github.io/categories/Algorithms/sorting-algs/"/>
    
    
    <category term="sorting algs" scheme="http://rovo98.github.io/tags/sorting-algs/"/>
    
  </entry>
  
  <entry>
    <title>Java å°è£…ç±»å†…éƒ¨ç¼“å­˜</title>
    <link href="http://rovo98.github.io/posts/1017901c/"/>
    <id>http://rovo98.github.io/posts/1017901c/</id>
    <published>2019-05-16T16:00:00.000Z</published>
    <updated>2021-09-09T14:11:36.686Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ Java ä¸­é€šè¿‡ <code>new</code> å…³é”®å­—ç­‰å…¶ä»–æ–¹å¼åœ¨å †ï¼ˆheapï¼‰ä¸Šåˆ›å»ºå¯¹è±¡æ˜¯ä¸€ä¸ªæ¯”è¾ƒè€—è´¹èµ„æºçš„æ“ä½œã€‚ Java åœ¨å°è£…ç±»ï¼ˆWrapper classesï¼‰ä¸Šä½¿ç”¨å†…éƒ¨ç¼“å­˜æ¥ä½¿å°è£…ç±»çš„æŸäº›å¸¸ç”¨å€¼ä½¿ç”¨æ›´é«˜æ•ˆã€‚</p><p>ä¸ <code>String</code> ç±»ä¸€æ ·ï¼ŒJava ä¸­çš„å°è£…ç±»éƒ½æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ã€‚Java ä¸­çš„å°è£…ç±»ä¸ String ç±»ä¸€æ ·åŒæ ·æä¾›äº†ç±»ä¼¼çš„ç¼“å­˜æ± æœºåˆ¶ã€‚è¿™å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªæ™®éçš„æ“ä½œï¼Œå¯¹äºè¾ƒæ˜‚è´µçš„èµ„æºåˆ›å»ºæ“ä½œï¼Œä½¿ç”¨ç¼“å­˜æ¥å¤„ç†åœ¨å…¶ä»–åœ°æ–¹ä¹Ÿéå¸¸å¸¸è§ï¼Œå¦‚æ•°æ®åº“è¿æ¥æ± ã€çº¿ç¨‹æ± ç­‰ã€‚</p><span id="more"></span><h2 id="integer-å†…éƒ¨ç¼“å­˜"><a class="markdownIt-Anchor" href="#integer-å†…éƒ¨ç¼“å­˜"></a> Integer å†…éƒ¨ç¼“å­˜</h2><p>åœ¨ <code>Integer</code> ç±»ä¸­å­˜åœ¨ä¸€ä¸ªå†…éƒ¨ç±» <code>IntegerCache</code>ï¼Œä½¿ç”¨ä¸€ä¸ª <code>Integer[]</code> æ•°ç»„æ¥ç»´æŒä¸€ç»„ <code>Integer</code> å®ä¾‹ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹è¯­å¥æ—¶ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Integer i = <span class="number">10</span>; <span class="comment">// æˆ–è€…</span></span><br><span class="line">Integer i = Integer.valueOf(<span class="number">10</span>);</span><br></pre></td></tr></table></figure><p><code>i</code> å°†å­˜å‚¨ä¸€ä¸ªæŒ‡å‘å·²ç»ç¼“å­˜çš„ <code>Integer</code> å®ä¾‹çš„å¼•ç”¨ã€‚å¦‚æœä½¿ç”¨ <code>new Integer(10)</code>ï¼Œåˆ™ä¼šåœ¨å †ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å·²ç¼“å­˜çš„å®ä¾‹ã€‚å®é™…ä¸Šï¼Œè¿™ä¸€æœºåˆ¶åªæœ‰åœ¨ä½¿ç”¨ <code>Integer.valueOf()</code> æ‰èµ·ä½œç”¨ï¼Œæœ¬è´¨ä¸Šä½¿ç”¨å­—é¢é‡çš„èµ‹å€¼æœ€ç»ˆä¹Ÿæ˜¯é€šè¿‡è°ƒç”¨ <code>Integer.valueOf()</code> æ¥å®ç°çš„ã€‚åœ¨ Java æ‰§è¡Œè‡ªåŠ¨è£…ç®±ï¼ˆautoboxingï¼‰ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚</p><p><code>IntegerCache</code> ç±»éå¸¸ç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ï¼ˆjdk 1.8ï¼‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Cache to support the object identity semantics of autoboxing for values between</span></span><br><span class="line"><span class="comment"> * -128 and 127 (inclusive) as required by JLS.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * The cache is initialized on first usage.  The size of the cache</span></span><br><span class="line"><span class="comment"> * may be controlled by the &#123;<span class="doctag">@code</span> -XX:AutoBoxCacheMax=&lt;size&gt;&#125; option.</span></span><br><span class="line"><span class="comment"> * During VM initialization, java.lang.Integer.IntegerCache.high property</span></span><br><span class="line"><span class="comment"> * may be set and saved in the private system properties in the</span></span><br><span class="line"><span class="comment"> * sun.misc.VM class.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntegerCache</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> low = -<span class="number">128</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> high;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> Integer cache[];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// high value may be configured by property</span></span><br><span class="line">        <span class="keyword">int</span> h = <span class="number">127</span>;</span><br><span class="line">        String integerCacheHighPropValue =</span><br><span class="line">            sun.misc.VM.getSavedProperty(<span class="string">&quot;java.lang.Integer.IntegerCache.high&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (integerCacheHighPropValue != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">int</span> i = parseInt(integerCacheHighPropValue);</span><br><span class="line">                i = Math.max(i, <span class="number">127</span>);</span><br><span class="line">                <span class="comment">// Maximum array size is Integer.MAX_VALUE</span></span><br><span class="line">                h = Math.min(i, Integer.MAX_VALUE - (-low) -<span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span>( NumberFormatException nfe) &#123;</span><br><span class="line">                <span class="comment">// If the property cannot be parsed into an int, ignore it.</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        high = h;</span><br><span class="line"></span><br><span class="line">        cache = <span class="keyword">new</span> Integer[(high - low) + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> j = low;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; cache.length; k++)</span><br><span class="line">            cache[k] = <span class="keyword">new</span> Integer(j++);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// range [-128, 127] must be interned (JLS7 5.1.7)</span></span><br><span class="line">        <span class="keyword">assert</span> IntegerCache.high &gt;= <span class="number">127</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">IntegerCache</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Integer.valueOf()</code> æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns an &#123;<span class="doctag">@code</span> Integer&#125; instance representing the specified</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> int&#125; value.  If a new &#123;<span class="doctag">@code</span> Integer&#125; instance is not</span></span><br><span class="line"><span class="comment"> * required, this method should generally be used in preference to</span></span><br><span class="line"><span class="comment"> * the constructor &#123;<span class="doctag">@link</span> #Integer(int)&#125;, as this method is likely</span></span><br><span class="line"><span class="comment"> * to yield significantly better space and time performance by</span></span><br><span class="line"><span class="comment"> * caching frequently requested values.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * This method will always cache values in the range -128 to 127,</span></span><br><span class="line"><span class="comment"> * inclusive, and may cache other values outside of this range.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  i an &#123;<span class="doctag">@code</span> int&#125; value.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> an &#123;<span class="doctag">@code</span> Integer&#125; instance representing &#123;<span class="doctag">@code</span> i&#125;.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span>  1.5</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title">valueOf</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</span><br><span class="line">        <span class="keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Integer(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>IntegerCache</code> æ˜¯ä¸€ä¸ªé™æ€å†…éƒ¨ç±»ï¼Œå› æ­¤ï¼Œåªæœ‰æˆ‘ä»¬è°ƒç”¨ <code>Integer.valueOf()</code> æ–¹æ³•æ—¶ï¼Œè¯¥ç±»æ‰ä¼šåŠ è½½ï¼Œç„¶ååˆ›å»ºç¼“å­˜ã€‚ä»¥ä¾¿æé«˜èµ„æºé‡ç”¨ç‡ã€‚</p><p>ä¸‹é¢æ˜¯ä½¿ç”¨ <code>Integer</code> å†…éƒ¨ç¼“å­˜çš„ä¸€ä¸ªç®€å•ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntegerCacheDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Integer i1 = <span class="number">100</span>;</span><br><span class="line">        Integer i2 = <span class="number">100</span>;</span><br><span class="line">        Integer i3 = <span class="keyword">new</span> Integer(<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(i1 == i2);</span><br><span class="line">        System.out.println(i1 == i3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Output:</span><br><span class="line">true</span><br><span class="line">false</span><br></pre></td></tr></table></figure><p>å½“ç¨‹åºæ‰§è¡Œç¬¬ä¸€æ¡èµ‹å€¼è¯­å¥æ—¶ï¼Œ<code>IntegerCache</code> ä¼šè¢«åŠ è½½ï¼Œå¹¶åˆ›å»ºç›¸åº”çš„ç¼“å­˜æ± ã€‚ä¹‹å <code>i2</code> çš„èµ‹å€¼ä½¿ç”¨çš„å·²ç¼“å­˜çš„å®ä¾‹ã€‚<code>i3</code> ä½¿ç”¨ <code>new</code> å…³é”®å­—æ¥åˆ›å»ºå®ä¾‹ï¼Œå› æ­¤ï¼Œå®ƒä¼šåœ¨å †ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹å¯¹è±¡ã€‚<code>==</code> å¯¹äºä½œç”¨äºå¯¹è±¡ä¹‹é—´ï¼Œæ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„åœ°å€ï¼Œå› æ­¤ï¼Œ<code>i1 == i2</code> è¾“å‡º  <code>true</code>ï¼Œ è€Œ <code>i1 == i3</code> è¾“å‡º <code>false</code>ã€‚</p><h3 id="ä¿®æ”¹ç¼“å­˜å¤§å°"><a class="markdownIt-Anchor" href="#ä¿®æ”¹ç¼“å­˜å¤§å°"></a> ä¿®æ”¹ç¼“å­˜å¤§å°</h3><p>ä»ä¸Šé¢çš„ <code>IntegerCache</code> ç±»çš„å®ç°æ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡éœ€æ±‚è‡ªå·±æ›´æ”¹å®ä¾‹ç¼“å­˜èŒƒå›´çš„æœ€å¤§å€¼ï¼Œä¿®æ”¹æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. --XX:AutoBoxCache= 1000</span><br><span class="line">2. -Djava.lang.Integer.IntegerCache.high = 1000</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä¸Šé¢çš„ä¿®æ”¹åï¼Œ<code>Integer</code> çš„ç¼“å­˜èŒƒå›´å°†å˜æˆ <code>-128</code> ~ <code>1000</code>ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“å‰çš„å®ç°ä¸­ï¼Œå¹¶æ²¡æœ‰æŒ‡å®š <code>IntegerCache.low</code> çš„å–å€¼ã€‚</p><h2 id="å…¶ä»–å°è£…ç±»"><a class="markdownIt-Anchor" href="#å…¶ä»–å°è£…ç±»"></a> å…¶ä»–å°è£…ç±»</h2><p>é€šè¿‡æŸ¥çœ‹ <code>Integer</code> ç±»çš„ä¸­ <code>IntegerCache</code> çš„ç›¸å…³å®ç°ï¼Œæˆ‘ä»¬äº†è§£çš„ <code>Integer</code> çš„å®ä¾‹ç¼“å­˜æ–¹å¼ã€‚æ›´å¤šåœ°ï¼Œå…¶ä»–çš„å°è£…ç±»ä¹Ÿæœ‰æä¾›ç±»ä¼¼çš„æœºåˆ¶ï¼š</p><ol><li><code>java.lang.Boolean</code> é»˜è®¤å­˜å‚¨ä¸¤ä¸ªå®ä¾‹ â€”â€” <code>TRUE</code> å’Œ <code>FALSE</code>ï¼›</li><li><code>java.lang.Short</code> é»˜è®¤ç¼“å­˜èŒƒå›´ä¸º <code>-128 ~ 127</code>ï¼›</li><li><code>java.lang.Byte</code> é»˜è®¤ç¼“å­˜èŒƒå›´ <code>-128 ~ 127</code>ï¼›</li><li><code>java.lang.Long</code> é»˜è®¤ç¼“å­˜èŒƒå›´ä¸º <code>-128 ~ 127</code>;</li><li><code>java.lang.Character</code> é»˜è®¤ç¼“å­˜èŒƒå›´ä¸º <code>0 ~ 127</code>ï¼›</li></ol><p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œé™¤äº†æœ¬æ–‡æåˆ°çš„ <code>Integer</code> ä»¥å¤–ï¼Œå…¶ä»–çš„å°è£…ç±»åªèƒ½ä½¿ç”¨é»˜è®¤çš„ç¼“å­˜èŒƒå›´ï¼Œæ— æ³•è¿›è¡Œæ›´æ”¹ã€‚<code>Float</code> å’Œ <code>Double</code> å¹¶æ²¡æœ‰æä¾›è¿™æ ·çš„ç¼“å­˜æœºåˆ¶ã€‚ä¸åŒäºè¿™äº›å°è£…ç±»ï¼Œ<code>String</code> ä½¿ç”¨çš„æ˜¯å­—ç¬¦ä¸²æ± ï¼ˆstring poolï¼‰ï¼Œé‡‡ç”¨ä¸åŒçš„å®ç°çš„æ–¹å¼ã€‚</p><p><code>String</code> ä¼šä¸º <code>String</code> å­—é¢é‡ï¼ˆliteralsï¼‰ç»´æŒä¸€ä¸ªå­—ç¬¦ä¸²æ± ï¼Œè¯¥å­—ç¬¦ä¸²æ± åˆå§‹åŒ–ä¸ºç©ºï¼Œç”± <code>String</code> ç±»ç»´æŠ¤ï¼Œå½“å­—ç¬¦ä¸²è°ƒç”¨ <code>intern</code> æ–¹æ³•æ—¶ï¼Œä¼šå°†è¯¥å­—ç¬¦ä¸²ä¸å­—ç¬¦ä¸²æ± ä¸­ä¸²ä½¿ç”¨ <code>equals</code> æ–¹æ³•è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥è¿”å› <code>true</code> åˆ™ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²æ± ä¸­çš„ä¸²ï¼Œè¿”å›è¯¥ä¸²çš„å¼•ç”¨ã€‚è‹¥å­—ç¬¦ä¸²æ± ä¸­ä¸å­˜åœ¨ <code>equals</code> çš„ä¸²ï¼Œåˆ™åˆ›å»ºç›¸åº”çš„ä¸²å¹¶æ·»åŠ åˆ°å­—ç¬¦ä¸²æ± ä¸­ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns a canonical representation for the string object.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * A pool of strings, initially empty, is maintained privately by the</span></span><br><span class="line"><span class="comment"> * class &#123;<span class="doctag">@code</span> String&#125;.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * When the intern method is invoked, if the pool already contains a</span></span><br><span class="line"><span class="comment"> * string equal to this &#123;<span class="doctag">@code</span> String&#125; object as determined by</span></span><br><span class="line"><span class="comment"> * the &#123;<span class="doctag">@link</span> #equals(Object)&#125; method, then the string from the pool is</span></span><br><span class="line"><span class="comment"> * returned. Otherwise, this &#123;<span class="doctag">@code</span> String&#125; object is added to the</span></span><br><span class="line"><span class="comment"> * pool and a reference to this &#123;<span class="doctag">@code</span> String&#125; object is returned.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * It follows that for any two strings &#123;<span class="doctag">@code</span> s&#125; and &#123;<span class="doctag">@code</span> t&#125;,</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> s.intern() == t.intern()&#125; is &#123;<span class="doctag">@code</span> true&#125;</span></span><br><span class="line"><span class="comment"> * if and only if &#123;<span class="doctag">@code</span> s.equals(t)&#125; is &#123;<span class="doctag">@code</span> true&#125;.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * All literal strings and string-valued constant expressions are</span></span><br><span class="line"><span class="comment"> * interned. String literals are defined in section 3.10.5 of the</span></span><br><span class="line"><span class="comment"> * &lt;cite&gt;The Java&amp;trade; Language Specification&lt;/cite&gt;.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>  a string that has the same contents as this string, but is</span></span><br><span class="line"><span class="comment"> *          guaranteed to be from a pool of unique strings.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">native</span> String <span class="title">intern</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><p>æ›´å¤šè¯¦ç»†ç›¸å…³å†…å®¹è§ <a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.5">String literals</a>ã€‚</p><blockquote><p>references:<br /><a href="https://docs.oracle.com/javase/specs/jls/se8/html/index.html">https://docs.oracle.com/javase/specs/jls/se8/html/index.html</a></p></blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;åœ¨ Java ä¸­é€šè¿‡ &lt;code&gt;new&lt;/code&gt; å…³é”®å­—ç­‰å…¶ä»–æ–¹å¼åœ¨å †ï¼ˆheapï¼‰ä¸Šåˆ›å»ºå¯¹è±¡æ˜¯ä¸€ä¸ªæ¯”è¾ƒè€—è´¹èµ„æºçš„æ“ä½œã€‚ Java åœ¨å°è£…ç±»ï¼ˆWrapper classesï¼‰ä¸Šä½¿ç”¨å†…éƒ¨ç¼“å­˜æ¥ä½¿å°è£…ç±»çš„æŸäº›å¸¸ç”¨å€¼ä½¿ç”¨æ›´é«˜æ•ˆã€‚&lt;/p&gt;
&lt;p&gt;ä¸ &lt;code&gt;String&lt;/code&gt; ç±»ä¸€æ ·ï¼ŒJava ä¸­çš„å°è£…ç±»éƒ½æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ã€‚Java ä¸­çš„å°è£…ç±»ä¸ String ç±»ä¸€æ ·åŒæ ·æä¾›äº†ç±»ä¼¼çš„ç¼“å­˜æ± æœºåˆ¶ã€‚è¿™å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªæ™®éçš„æ“ä½œï¼Œå¯¹äºè¾ƒæ˜‚è´µçš„èµ„æºåˆ›å»ºæ“ä½œï¼Œä½¿ç”¨ç¼“å­˜æ¥å¤„ç†åœ¨å…¶ä»–åœ°æ–¹ä¹Ÿéå¸¸å¸¸è§ï¼Œå¦‚æ•°æ®åº“è¿æ¥æ± ã€çº¿ç¨‹æ± ç­‰ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="http://rovo98.github.io/categories/Java/"/>
    
    
    <category term="basic" scheme="http://rovo98.github.io/tags/basic/"/>
    
  </entry>
  
  <entry>
    <title>JVMçŸ¥è¯†ä½“ç³»(äºŒ) | å†…å­˜ç®¡ç†</title>
    <link href="http://rovo98.github.io/posts/57a6bf72/"/>
    <id>http://rovo98.github.io/posts/57a6bf72/</id>
    <published>2019-04-12T05:22:00.000Z</published>
    <updated>2021-09-09T14:11:36.683Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/java/basic/run-time-data-areas.png" alt="run-time-data-areas" /><br />ä¸»è¦ç®€å•çš„äº†è§£JVMçš„å†…å­˜åŒº(Memory Area)ä»¥åŠGC(Garbage Collection)åƒåœ¾å›æ”¶æœºåˆ¶ã€‚</p><span id="more"></span><h2 id="ä¸€-å†…å­˜ç»“æ„"><a class="markdownIt-Anchor" href="#ä¸€-å†…å­˜ç»“æ„"></a> ä¸€ã€å†…å­˜ç»“æ„</h2><p>Javaè™šæ‹Ÿæœºå®šä¹‰äº†è®¸å¤šçš„<strong>è¿è¡Œæ—¶æ•°æ®åŒº(run-time data areas)</strong>, ä¾›ç¨‹åºæ‰§è¡Œæ—¶ä½¿ç”¨ã€‚</p><p>å…¶ä¸­ï¼Œä¸€äº›æ•°æ®åŒºåŸŸéšç€JVMçš„åˆ›å»ºè€Œåˆ›å»ºï¼Œåªæœ‰åœ¨JVMé€€å‡ºæ—¶åœ¨é”€æ¯ï¼Œå³å±äºJVMã€‚<br />è€Œå…¶ä»–çš„æ•°æ®åŒºéšç€è¿›ç¨‹(<em>Thread</em>)çš„åˆ›å»ºè€Œåˆ›å»ºï¼Œè¿›ç¨‹é”€æ¯æ—¶ä¹Ÿéšä¹‹é”€æ¯(æ¯ä¸ªçº¿ç¨‹ç‹¬æœ‰)ã€‚</p><h3 id="1-é€»è¾‘åˆ†åŒº"><a class="markdownIt-Anchor" href="#1-é€»è¾‘åˆ†åŒº"></a> 1. é€»è¾‘åˆ†åŒº</h3><p>JVM å†…å­˜åœ¨åº”ç”¨<strong>é€»è¾‘ä¸Š</strong>å¯ä»¥åˆ†ä¸ºä»¥ä¸‹åŒºåŸŸ:</p><h4 id="11pc-register-ç¨‹åºè®¡æ•°å™¨"><a class="markdownIt-Anchor" href="#11pc-register-ç¨‹åºè®¡æ•°å™¨"></a> 1.1.pc Register - ç¨‹åºè®¡æ•°å™¨</h4><p>å­˜æ”¾å½“å‰æ‰§è¡Œè¯­å¥(JVM instruction)çš„ç‰©ç†åœ°å€ï¼Œéšçº¿ç¨‹åˆ›å»ºè€Œåˆ›å»ºã€‚(æ¯ä¸ªçº¿ç¨‹å‡éœ€è¦ä¸€ä¸ªç¨‹åºè®¡æ•°å™¨)</p><h4 id="12jvm-stacks-è™šæ‹Ÿæœºæ ˆ"><a class="markdownIt-Anchor" href="#12jvm-stacks-è™šæ‹Ÿæœºæ ˆ"></a> 1.2.JVM Stacks - è™šæ‹Ÿæœºæ ˆ</h4><p>æ¯ä¸ªjavaè™šæ‹Ÿæœºçº¿ç¨‹éƒ½æœ‰ä¸ªç§æœ‰çš„javaè™šæ‹Ÿæœºæ ˆï¼Œä¸çº¿ç¨‹åŒåˆ›å»ºã€‚Javaè™šæ‹Ÿæœºæ ˆå­˜å‚¨<strong>å¸§(Frame)</strong>, Javaè™šæ‹Ÿæœºæ ˆç±»ä¼¼äºCè¯­è¨€ä¸­çš„æ ˆï¼šå®ƒç”¨äºä¿å­˜å±€éƒ¨å˜é‡(<strong>Thread-local variables</strong>), å¹¶åœ¨æ–¹æ³•çš„è°ƒç”¨å’Œè¿”å›ä¸­å‘æŒ¥ä½œç”¨ã€‚</p><div class="note warning"><ul><li>javaè™šæ‹Ÿæœºæ ˆçš„å†…å­˜åˆ†é…ä¸éœ€è¦æ˜¯è¿ç»­çš„ã€‚</li><li>æ ˆçš„å¤§å°å¯ä»¥æ˜¯å›ºå®šæˆ–åŠ¨æ€æ‰©å±•/æ”¶ç¼©çš„ï¼ŒJVMå…è®¸æˆ‘ä»¬å¯¹æ ˆçš„åˆå§‹å¤§å°è¿›è¡Œæ§åˆ¶ï¼Œåœ¨åŠ¨æ€æ‰©å±•æƒ…å†µä¸‹ï¼Œå¯ä»¥æŒ‡å®šæ ˆå…è®¸çš„æœ€å¤§å’Œæœ€å°åˆ†é…ç©ºé—´(é€šè¿‡<code>-Xss</code>å’Œ<code>-Xsx</code>æ¥é…ç½®)ã€‚</li></ul><p><strong>Notice:</strong></p><ul><li>å½“çº¿ç¨‹ä¸­çš„è®¡ç®—éœ€æ±‚è¶…å‡ºJavaè™šæ‹Ÿæœºå…è®¸çš„èŒƒå›´æ—¶(çº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦è¶…è¿‡JVMè¿è¡Œæ·±åº¦), ä¼šæŠ›å‡º<code>StackOverflowError</code>;</li><li>åœ¨å…è®¸åŠ¨æ€æ‰©å±•æ ˆçš„å¤§å°çš„æƒ…å†µä¸‹ï¼Œå½“æ— æ³•æ»¡è¶³ä¸€æ¬¡æ‰©å±•éœ€æ±‚æˆ–å‰©ä½™çš„å†…å­˜ä¸è¶³ä»¥ä¸ºä¸€ä¸ªæ–°çº¿ç¨‹åˆ›å»ºæ ˆæ—¶ï¼Œ JVMä¼šæŠ›å‡º<code>OutOfMemoryError</code>ã€‚</li></ul></div><h4 id="13heap-å †"><a class="markdownIt-Anchor" href="#13heap-å †"></a> 1.3.Heap - å †</h4><p>å †ä½œä¸ºè¿è¡Œæ—¶æ•°æ®åŒºï¼Œä¸ºæ‰€æœ‰çš„ç±»å®ä¾‹å’Œæ•°ç»„åˆ†é…å†…å­˜ï¼Œå±äºæ‰€æœ‰Javaçº¿ç¨‹å…±äº«çš„ã€‚<strong>å †åœ¨JVMå¯åŠ¨æ—¶åˆ›å»ºï¼Œå¯¹è±¡çš„å †å­˜å‚¨ç”±è‡ªåŠ¨å­˜å‚¨ç®¡ç†ç³»ç»Ÿ(GC)æ¥å›æ”¶</strong>, å¯¹è±¡æ°¸è¿œä¸ä¼šè¢«æ˜¾å¼çš„é‡Šæ”¾ã€‚</p><div class="note warning"><ul><li>å’Œçº¿ç¨‹æ ˆä¸€æ ·ï¼Œå †çš„å¤§å°æ˜¯å¯ä»¥å›ºå®šæˆ–åŠ¨æ€æ‰©å±•çš„ï¼Œå †çš„å†…å­˜ä¸éœ€è¦æ˜¯è¿ç»­çš„;</li><li>å †çš„å¤§å°åŠ¨æ€è°ƒæ•´èŒƒå›´æŒ‡å®šé€šè¿‡<code>-Xms</code>å’Œ<code>-Xmx</code>æ¥æŒ‡å®š;</li></ul><p><strong>Notice:</strong></p><ul><li>å½“å †æ— æ³•ç”³è¯·åˆ°å†…å­˜æ—¶(å³GCæ— æ³•ç”³è¯·åˆ°å†…å­˜æ—¶), JVMä¼šæŠ›å‡º<code>OutOfMemoryError</code>ã€‚</li></ul></div><h4 id="14method-area-æ–¹æ³•åŒº"><a class="markdownIt-Anchor" href="#14method-area-æ–¹æ³•åŒº"></a> 1.4.Method Area - æ–¹æ³•åŒº</h4><p>å’Œå †ä¸€æ ·ï¼Œæ–¹æ³•åŒºåŒæ ·æ˜¯æ‰€æœ‰çº¿ç¨‹å…±äº«çš„(éšç€JVMçš„å¯åŠ¨è€Œåˆ›å»º)ã€‚æ–¹æ³•åŒºå­˜æ”¾æ¯ä¸ªç±»çš„ç±»ç»“æ„ï¼Œå¦‚è¿è¡Œå¸¸é‡æ± (run-time constant pool)ã€å­—æ®µ(<em>field</em>)ã€æ„é€ æ–¹æ³•å’Œæ–¹æ³•ä»£ç (åŒ…æ‹¬ç±»å®ä¾‹åŒ–æ–¹æ³•)ã€‚</p><div class="note warning"><ul><li>è™½ç„¶æ–¹æ³•åŒºåœ¨é€»è¾‘ä¸Šæ˜¯å †çš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯åƒåœ¾æ”¶é›†å™¨ä¸ä¼šå¯¹å®ƒè¿›è¡Œæ”¶é›†ï¼ŒJava SE8ç‰ˆæœ¬çš„è§„èŒƒæ²¡æœ‰å¯¹æ–¹æ³•åŒºçš„ä½ç½®å’Œå¯¹æ–¹æ³•åŒºä¸­å·²ç¼–è¯‘ä»£ç çš„ç®¡ç†ç­–ç•¥æå‡ºå¼ºåˆ¶è¦æ±‚;</li><li>æ–¹æ³•åŒºåŒæ ·æ˜¯å¯ä»¥æ˜¯å›ºå®šå¤§å°æˆ–åŠ¨æ€æ‰©å±•çš„ï¼Œå†…å­˜ä¹Ÿä¸éœ€è¦æ˜¯è¿ç»­çš„;</li></ul><p><strong>Notice:</strong></p><ul><li>å½“æ–¹æ³•åŒºçš„å†…å­˜æ— æ³•æ»¡è¶³å†…å­˜ç”³è¯·éœ€æ±‚æ—¶ï¼ŒJVMä¼šæŠ›å‡º<code>OutOfMemoryError</code>ã€‚</li></ul></div><h4 id="15run-time-constant-pool-è¿è¡Œæ—¶å¸¸é‡æ± "><a class="markdownIt-Anchor" href="#15run-time-constant-pool-è¿è¡Œæ—¶å¸¸é‡æ± "></a> 1.5.Run-time Constant Pool - è¿è¡Œæ—¶å¸¸é‡æ± </h4><p>é€šè¿‡ä¹‹å‰å¯¹ç±»æ–‡ä»¶<code>.class</code>æ ¼å¼çš„äº†è§£ï¼Œæˆ‘ä»¬çŸ¥é“æ¯ä¸ªç±»æ–‡ä»¶ä¸­éƒ½æ˜¯æœ‰ä¸€ä¸ª<code>constant_pool[constant_count]</code>çš„è¡¨(<em>Table</em>)çš„, å­˜æ”¾å­—ç¬¦ä¸²å¸¸é‡ï¼Œç±»å’Œæ¥å£åç§°ï¼Œå­—æ®µåç§°ä»¥åŠç±»æ–‡ä»¶ç»“æ„åŠå…¶ç»“æ„ä¸­å¼•ç”¨çš„å…¶ä»–å¸¸é‡ã€‚</p><p>å®ƒåŒ…å«å‡ ç§å¸¸é‡ï¼Œä»ç¼–è¯‘æ—¶å·²çŸ¥çš„æ•°å­—å­—é¢é‡(<em>numeric literals</em>)åˆ°å¿…é¡»åœ¨è¿è¡Œæ—¶è§£æçš„æ–¹æ³•å’Œå­—æ®µå¼•ç”¨ã€‚</p><p>æ¯ä¸ªè¿è¡Œæ—¶å¸¸é‡æ± éƒ½æ˜¯åœ¨ä¸Šæ–‡æåˆ°çš„æ–¹æ³•åŒºä¸­åˆ›å»ºçš„ï¼Œå½“<strong>å½“JVMåˆ›å»ºç±»æˆ–æ¥å£æ—¶ï¼Œå°†åˆ›å»ºç±»æˆ–æ¥å£çš„è¿è¡Œå¸¸é‡æ± </strong>(å…¶å®ï¼Œé€šè¿‡æˆ‘ä»¬å·²ç»äº†è§£åˆ°çš„ç±»åŠ è½½æœºåˆ¶ï¼ŒçŸ¥é“å½“ç±»åŠ è½½æ—¶æ˜¯å°†ç±»æ–‡ä»¶ä»¥äºŒè¿›åˆ¶æ•°æ®çš„å½¢å¼åŠ è½½åˆ°æ–¹æ³•åŒºä¸­ï¼Œè¿è¡Œæ—¶å¸¸é‡æ± çš„åˆ›å»ºåœ¨ç±»åŠ è½½è¿‡ç¨‹ä¸­å®Œæˆ)ã€‚</p><div class="note warning"><p>åˆ›å»ºç±»æˆ–æ¥å£æ—¶ï¼Œå¦‚æœåˆ›å»ºè¿è¡Œæ—¶å¸¸é‡æ± æ‰€éœ€çš„å†…å­˜å¤§äºæ–¹æ³•åŒºä¸­çš„å¯ç”¨å†…å­˜ï¼Œåˆ™JVMå°†æŠ›å‡º<code>OutOfMemoryError</code>ã€‚</p></div><h4 id="16-native-method-stacks-æœ¬åœ°æ–¹æ³•æ ˆ"><a class="markdownIt-Anchor" href="#16-native-method-stacks-æœ¬åœ°æ–¹æ³•æ ˆ"></a> 1.6. Native Method Stacks - æœ¬åœ°æ–¹æ³•æ ˆ</h4><p>JVMå®ç°çš„ä¼ ç»Ÿæ ˆ(conventional stack), ä¹Ÿç§°ä¸º&quot;Cæ ˆ&quot;, ç”¨äºæ”¯æŒJavaç¼–ç¨‹è¯­è¨€ä»¥å¤–çš„è¯­è¨€ç¼–å†™çš„æ–¹æ³•ã€‚</p><p>æœ¬åœ°æ–¹æ³•æ ˆä¹Ÿå¯ä»¥ä¾›è¯¸å¦‚Cè¯­è¨€çš„Javaè™šæ‹ŸæœºæŒ‡ä»¤é›†è§£é‡Šå™¨çš„å®ç°æ¥ä½¿ç”¨ã€‚å¯¹äºæ— æ³•åŠ è½½æœ¬åœ°æ–¹æ³•ä¸”æœ¬èº«ä¸ä¾èµ–äºä¼ ç»Ÿæ ˆçš„Javaè™šæ‹Ÿæœºå®ç°æ¥è¯´ï¼Œå¹¶ä¸éœ€è¦æä¾›æœ¬åœ°æ–¹æ³•æ ˆã€‚</p><p>å¦‚æœJVMå®ç°æä¾›äº†æœ¬åœ°æ–¹æ³•æ ˆï¼Œå’Œçº¿ç¨‹æ ˆä¸€æ ·ï¼Œé€šå¸¸ä¹Ÿæ˜¯åœ¨åˆ›å»ºæ¯ä¸ªçº¿ç¨‹æ—¶ä¸ºæ¯ä¸ªçº¿ç¨‹åˆ†é…ä¸€ä¸ªæœ¬åœ°æ–¹æ³•æ ˆã€‚</p><div class="note warning"><ul><li>æœ¬åœ°æ–¹æ³•æ ˆå¯ä»¥æ˜¯å›ºå®šå¤§å°æˆ–åŠ¨æ€æ‰©å±•çš„ï¼Œå½“æ˜¯å›ºå®šå¤§å°æ—¶ï¼Œå¯ä»¥åœ¨åˆ›å»ºæ ˆæ—¶ç‹¬ç«‹é€‰æ‹©æ¯ä¸ªæœ¬åœ°æ–¹æ³•æ ˆçš„å¤§å°;</li></ul><p><strong>Notice: (å’Œçº¿ç¨‹æ ˆç±»ä¼¼)</strong></p><ul><li>å½“çº¿ç¨‹ä¸­çš„è®¡ç®—éœ€æ±‚è¶…å‡ºJavaè™šæ‹Ÿæœºå…è®¸çš„èŒƒå›´æ—¶(çº¿ç¨‹è¯·æ±‚çš„æœ¬åœ°æ–¹æ³•æ ˆæ·±åº¦è¶…è¿‡JVMè¿è¡Œæ·±åº¦), ä¼šæŠ›å‡º<code>StackOverflowError</code>;</li><li>åœ¨å…è®¸åŠ¨æ€æ‰©å±•æ ˆçš„å¤§å°çš„æƒ…å†µä¸‹ï¼Œå½“æ— æ³•æ»¡è¶³ä¸€æ¬¡æ‰©å±•éœ€æ±‚æˆ–å‰©ä½™çš„å†…å­˜ä¸è¶³ä»¥ä¸ºä¸€ä¸ªæ–°çº¿ç¨‹åˆ›å»ºæœ¬åœ°æ–¹æ³•æ ˆæ—¶ï¼Œ JVMä¼šæŠ›å‡º<code>OutOfMemoryError</code>ã€‚</li></ul></div><div class="note primary"><p>æ­¤éƒ¨åˆ†å†…å®¹ä¸»è¦å‚è€ƒ JAVA SE 8 Java Virtual Machine Specification</p><ul><li><a href="https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.5">https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.5</a><br />å…¶ä»–å‚è€ƒé“¾æ¥:</li><li><a href="https://www.geeksforgeeks.org/java-memory-management/">https://www.geeksforgeeks.org/java-memory-management/</a></li><li><a href="https://howtodoinjava.com/java/garbage-collection/jvm-memory-model-structure-and-components/">https://howtodoinjava.com/java/garbage-collection/jvm-memory-model-structure-and-components/</a></li></ul></div><h3 id="2-å†…å­˜æ¨¡å‹"><a class="markdownIt-Anchor" href="#2-å†…å­˜æ¨¡å‹"></a> 2. å†…å­˜æ¨¡å‹</h3><p>JVMå†…å­˜ç”±ä»¥ä¸‹çš„éƒ¨åˆ†ç»„æˆ:</p><ul><li><strong>å †å†…å­˜(Heap Memory)</strong>: å­˜æ”¾Javaå¯¹è±¡;</li><li><strong>éå †å†…å­˜(Non-Heap Memory)</strong>: ç”¨äºjavaç¨‹åºå­˜å‚¨åŠ è½½çš„ç±»å’Œå…¶ä»–å…ƒæ•°æ®;</li><li>JVMæœ¬èº«ä»£ç ï¼ŒJVMå†…éƒ¨ç»“æ„ï¼ŒåŠ è½½çš„æ¢æŸ¥å™¨(Loaded profiler agent)ä»£ç å’Œæ•°æ®ç­‰ã€‚</li></ul><p><img data-src="jvm-2-jvm_memory_structure.gif" alt="" /></p><h4 id="21-å †å†…å­˜"><a class="markdownIt-Anchor" href="#21-å †å†…å­˜"></a> 2.1 å †å†…å­˜</h4><p>å †å†…å­˜æ˜¯è¿è¡Œæ—¶æ•°æ®åŒºï¼Œä»ä¸­åˆ†é…æ‰€æœ‰Javaç±»å®ä¾‹å’Œæ•°ç»„çš„å†…å­˜ï¼Œå †åœ¨JVMå¯åŠ¨æ—¶åˆ›å»ºï¼Œå †çš„å¤§å°å¯ä»¥æ˜¯å›ºå®šçš„æˆ–åŠ¨æ€æ‰©å±•çš„ï¼Œå †çš„å¤§å°å¯ä»¥ç”±ä»¥ä¸‹çš„vmå‚æ•°æ¥æŒ‡å®š:</p><ul><li><code>-Xms&lt;size&gt;</code>: è®¾ç½®å †çš„åˆå§‹å¤§å°;</li><li><code>-Xmx&lt;size&gt;</code>: è®¾ç½®å †çš„æœ€å¤§å†…å­˜å¤§å°.</li></ul><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæœ€å¤§å †çš„å¤§å°è®¾ç½®ä¸º<code>64Mb</code>ã€‚</p><p>JVM å †å†…å­˜åœ¨ç‰©ç†ä¸Šåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†: æ–°ç”Ÿä»£(<strong>nursery or young generation</strong>)å’Œè€å¹´ä»£(<strong>old space or old generation</strong>)ã€‚<br />æ–°ç”Ÿä»£æ˜¯ä¸ºåˆ†é…æ–°å¯¹è±¡è€Œä¿ç•™çš„å †çš„éƒ¨åˆ†ç©ºé—´ã€‚å½“æ–°ç”Ÿä»£å æ»¡æ—¶ï¼Œé€šè¿‡<strong>Minor GC</strong>å¯¹æ–°ç”Ÿä»£åŒºåŸŸæ‰§è¡Œåƒåœ¾å›æ”¶åŠ¨ä½œï¼Œå…¶ä¸­åœ¨æ–°ç”Ÿä»£ä¸­ç”Ÿå­˜è¶³å¤Ÿé•¿æ—¶é—´çš„æ‰€æœ‰å¯¹è±¡(ç»å†è¿‡è‹¥å¹²æ¬¡Minor GCåä¿ç•™ä¸‹æ¥çš„å¯¹è±¡)å°†è¢«è¿ç§»åˆ°è€å¹´ä»£, ä»è€Œé‡Šæ”¾æ–°ç”Ÿä»£çš„ç©ºé—´ä»¥ä¸ºæ›´å¤šçš„å¯¹è±¡åˆ†é…ç©ºé—´ã€‚</p><p><img data-src="jvm2-jvm-heap-memory-model.png" alt="jvm-heap-memory-model" /></p><p><strong>Minor GC</strong>åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†: <strong>ä¼Šç”¸å›­(Eden)<strong>åŒºã€å’Œä¸¤ä¸ª</strong>å¹¸å­˜åŒº(Survivor) S0(from), S1(to)</strong></p><p><strong>å…³äºæ–°ç”Ÿä»£å†…å­˜ç©ºé—´(Young Generation/Nursery):</strong></p><ul><li>å¤§å¤šæ•°å¯¹è±¡çš„åˆ›å»ºéƒ½æ˜¯ä½äº<strong>Eden</strong>åŒºçš„(å› ä¸ºæœ‰å¯èƒ½ä¸€äº›æ¯”è¾ƒå¤§çš„å¯¹è±¡æ˜¯ç›´æ¥åœ¨è€å¹´ä»£ä¸­åˆ›å»º);</li><li>å½“EdenåŒºå¡«æ»¡å¯¹è±¡æ—¶ï¼Œæ‰§è¡ŒMinor GCå¹¶å°†æ‰€æœ‰å¹¸å­˜å¯¹è±¡ç§»åˆ°å…¶ä¸­ä¸€ä¸ªå¹¸å­˜åŒºç©ºé—´;</li><li>Minor GCè¿˜ä¼šæ£€æŸ¥å¹¸å­˜åŒºä¸­çš„å¯¹è±¡ï¼Œå¹¶å°†å¹¸å­˜çš„å¯¹è±¡ç§»åŠ¨åˆ°å¦ä¸€ä¸ªå¹¸å­˜åŒºï¼Œå³å¹¸å­˜åŒºæ€»æœ‰ä¸€ä¸ªæ˜¯ç©ºçš„(å³GCç®—æ³•ä¸­çš„<code>mark-and-copy</code>ç®—æ³•);</li><li>åœ¨å¤šæ¬¡Minor GCä¸­å­˜æ´»ä¸‹æ¥çš„å¯¹è±¡ä¼šè¢«ç§»åŠ¨åˆ°è€å¹´ä»£ä¸­ã€‚è‡³äºç»è¿‡å¤šå°‘æ¬¡Minor GCèƒ½æ™‹å‡åˆ°è€å¹´ä»£ç”±JVMå†³å®šï¼Œæ§åˆ¶å¯¹è±¡çš„â€œå¹´é¾„é˜ˆå€¼(è¿™é‡Œçš„å¹´é¾„æŒ‡å¯¹è±¡è¢«ç§»åŠ¨çš„æ¬¡æ•°)â€.</li></ul><p>Java æœ€è¿‘çš„ç‰ˆæœ¬ä¸­çš„æ–°ç”Ÿä»£ä¸­è¿˜åŒ…å«ä¸€ä¸ª<strong>ä¿ç•™åŒº(reserved)</strong>ï¼Œ ç”¨äºä¿å­˜æœ€è¿‘åˆ›å»ºçš„å¯¹è±¡ï¼Œé˜²æ­¢å¯¹è±¡åœ¨Minor GCæ‰§è¡Œä¹‹å‰è¢«æå‡ã€‚</p><p>å…³äºè€å¹´ä»£å†…å­˜ç©ºé—´(<strong>Old Generation - Tenured</strong>)</p><p>å½“è€å¹´åŒºå¡«æ»¡æ—¶ï¼Œè€å¹´åŒºåŒæ ·ä¼šæ‰§è¡Œåƒåœ¾æ”¶é›†ï¼Œç§°ä¸º<strong>Major GC</strong>ï¼Œè€å¹´ä»£ä¸­åŒ…å«é‚£äº›ä»å¤šæ¬¡Minor GCä¸­å¹¸å­˜çš„å¯¹è±¡ï¼Œé€šå¸¸æ‰§è¡Œä¸€æ¬¡Major GC æ—¶é—´è¦æ¯”è¾ƒé•¿ï¼Œå› ä¸ºMinor GCæ—¨åœ¨å¿«é€Ÿæ‰¾åˆ°åœ¨æ–°ç”Ÿä»£ä¸­ä¾ç„¶å­˜æ´»çš„å¯¹è±¡å¹¶å°†å®ƒä»¬ç§»åŠ¨ï¼Œæ‰€ä»¥Minor GCæ‰§è¡Œçš„é¢‘ç‡å’Œé€Ÿåº¦éƒ½è¦Major GCçš„æ›´å¤§ã€‚</p><p>æ ¹æ®é˜ˆå€¼é™åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨<code>-XX:+PrintTenuringDistribution</code>æ¥æ£€æŸ¥ï¼Œå®ƒæŒ‰å¹´é¾„æ¥æ˜¾ç¤ºå¯¹è±¡ï¼Œå°†å¯¹è±¡ä»<strong>Survivor</strong>ç©ºé—´ç§»åˆ°<strong>Tenured</strong>ç©ºé—´ä¸­ã€‚</p><p>æˆ‘ä»¬è¿˜æœ‰è®¸å¤šå…¶ä»–æœ‰ç”¨çš„å‚æ•°è®¾ç½®ï¼Œå¦‚<code>-XX:InitialTenuringThreshold</code>, <code>-XX:MaxTenuringThreshold</code>å’Œ<code>-XX:TargetSurvivorRatio</code>, å¯ä»¥ç”¨å®ƒä»¬æ¥æœ€å¤§é™åº¦çš„åˆ©ç”¨<strong>tenured</strong>å’Œ<strong>survivor</strong>ç©ºé—´ã€‚<br />é€šè¿‡è®¾ç½®<code>-XX:InitialTenuringThreshold</code>å’Œ<code>-XX:MaxTenuringThreshold</code>æ¥è®¾ç½®å¯¹è±¡çš„â€œå¹´é¾„â€çš„åˆå§‹å€¼å’Œå…è®¸çš„æœ€å¤§å€¼ã€‚</p><p><img data-src="jvm2-jvm-java-memory-architecture.jpg" alt="java-memory-architecture" /></p><h4 id="22-éå †å†…å­˜"><a class="markdownIt-Anchor" href="#22-éå †å†…å­˜"></a> 2.2 éå †å†…å­˜</h4><p>JVMå †ä»¥å¤–å†…å­˜ï¼ŒåŒ…å«JVMç¼“å­˜ç©ºé—´ï¼Œç±»ç»“æ„å¦‚è¿è¡Œå¸¸é‡æ± ã€å­—æ®µå’Œæ–¹æ³•æ•°æ®ï¼Œæ–¹æ³•æ„é€ æ–¹æ³•ã€‚</p><h5 id="221å…ƒç©ºé—´metaspace"><a class="markdownIt-Anchor" href="#221å…ƒç©ºé—´metaspace"></a> 2.2.1.å…ƒç©ºé—´(Metaspace)</h5><p>åœ¨Java8åŠä»¥ä¸Šç‰ˆæœ¬å·²ç»æ²¡æœ‰äº†<strong>Permanent Generation æ°¸ä¹…ä»£</strong>è¿™å—åŒºåŸŸï¼Œå°†ä¸ä¼šå†æœ‰å…³äº<code>java.lang.OutOfMemoryError: PermGen</code>å†…å­˜é—®é¢˜çš„å­˜åœ¨ã€‚ä¸é©»ç•™åœ¨Javaå †ä¸­çš„<strong>Perm Gen</strong>ä¸åŒï¼ŒMetaspace å·²ç»ä¸æ˜¯å †çš„ä¸€éƒ¨åˆ†äº†ã€‚</p><p>ç±»å…ƒæ•°æ®å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯ä»æœ¬åœ°å†…å­˜ä¸­åˆ†é…çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒMetaspaceä¼šè‡ªåŠ¨å¢åŠ å…¶å¤§å°(ç›´æ¥ç”±åº•å±‚æ“ä½œç³»ç»Ÿæä¾›æ”¯æŒ), è€ŒPerm Genå§‹ç»ˆæ˜¯æœ‰å›ºå®šçš„ä¸Šé™çš„ã€‚æˆ‘ä»¬å¯ä»¥æ˜¯è¿™ä¸¤ä¸ªvmå‚æ•°æ¥æŒ‡å®šMetaspace çš„å¤§å°: <code>-XX:MetaSpaceSize</code>å’Œ<code>-XX:MaxMetaspaceSize</code>ã€‚</p><p><strong>Metaspace</strong>èƒŒåçš„å«ä¹‰æ˜¯ç±»çš„ç”Ÿå‘½å‘¨æœŸæœºå™¨å…ƒæ•°æ®ï¼Œè¿™ä¸ç±»åŠ è½½å™¨çš„ç”Ÿå‘½å‘¨æœŸç›¸åŒ¹é…ã€‚ä¹Ÿå°±æ˜¯è¯´åªè¦ç±»åŠ è½½å™¨å¤„äºæ´»åŠ¨ä¸­ï¼Œå…ƒæ•°æ®å°±ä¼šåœ¨Metaspaceä¸­ä¿æŒæ´»åŠ¨çŠ¶æ€ä¸”æ— æ³•é‡Šæ”¾ã€‚</p><h5 id="222ä»£ç ç¼“å­˜code-cache"><a class="markdownIt-Anchor" href="#222ä»£ç ç¼“å­˜code-cache"></a> 2.2.2.ä»£ç ç¼“å­˜(Code Cache)</h5><p>è¿è¡ŒJavaç¨‹åºæ—¶ï¼Œå®ƒä»¥åˆ†å±‚çš„æ–¹å¼æ‰§è¡Œä»£ç ã€‚åœ¨ç¬¬ä¸€å±‚ï¼Œä½¿ç”¨å®¢æˆ·æœºç¼–è¯‘å™¨(C1 compiler)æ¥ç¼–è¯‘ä»£ç ã€‚åˆ†ææ•°æ®(<em>profiling data</em>)åœ¨æœåŠ¡å™¨ç¼–è¯‘å™¨çš„ç¬¬äºŒå±‚ä¸­(C2 compiler)ä½¿ç”¨ï¼Œä»¥ä¼˜åŒ–çš„æ–¹å¼ç¼–è¯‘è¯¥ä»£ç ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒJava7æœªå¯ç”¨åˆ†å±‚ç¼–è¯‘ï¼Œä½†åœ¨Java8ä¸­å¯ç”¨äº†åˆ†å±‚ç¼–è¯‘ã€‚</p><p>å³æ—¶ç¼–è¯‘å™¨(JIT compiler)å°†ç¼–è¯‘çš„ä»£ç å­˜å‚¨åœ¨ç§°ä¸º<strong>ä»£ç ç¼“å­˜</strong>çš„åŒºåŸŸä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨äºä¿å­˜å·²ç¼–è¯‘ä»£ç çš„ç‰¹æ®Šå †ã€‚å¦‚æœè¯¥åŒºåŸŸçš„å¤§å°è¶…è¿‡é˜ˆå€¼ï¼Œåˆ™è¯¥åŒºåŸŸå°†è¢«åˆ·æ–°ï¼Œä¸”GCä¸ä¼šé‡æ–°å®šä½è¿™äº›å¯¹è±¡ã€‚</p><p>Java8ä¸­å·²ç»è§£å†³äº†ä¸€äº›æ€§èƒ½é—®é¢˜å’Œç¼–è¯‘å™¨æœªé‡æ–°å¯ç”¨çš„é—®é¢˜ï¼Œè€Œåœ¨Java7ä¸­é¿å…è¿™äº›é—®é¢˜çš„æ–¹æ¡ˆä¹‹ä¸€æ˜¯å°†ä»£ç ç¼“å­˜åŒºåŸŸçš„å¤§å°å¢åŠ åˆ°ä¸€ä¸ªæ°¸è¿œä¸ä¼šè¾¾åˆ°çš„ç¨‹åº¦ã€‚</p><h5 id="223æ–¹æ³•åŒºmethod-area"><a class="markdownIt-Anchor" href="#223æ–¹æ³•åŒºmethod-area"></a> 2.2.3.æ–¹æ³•åŒº(Method Area)</h5><p>æ–¹æ³•åŒºæ˜¯Perm Gen ç©ºé—´çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå­˜å‚¨ç±»ç»“æ„(è¿è¡Œæ—¶å¸¸é‡æ± å’Œé™æ€å˜é‡)ä»¥åŠæ–¹æ³•å’Œæ„é€ æ–¹æ³•çš„ä»£ç ã€‚</p><h5 id="224å†…å­˜æ± memory-pool"><a class="markdownIt-Anchor" href="#224å†…å­˜æ± memory-pool"></a> 2.2.4.å†…å­˜æ± (Memory Pool)</h5><p>å†…å­˜æ± ç”±JVMå†…å­˜ç®¡ç†å™¨åˆ›å»ºï¼Œç”¨äºåˆ›å»ºä¸å¯å˜å¯¹è±¡æ± ã€‚å†…å­˜æ± å¯ä»¥å±äºHeapæˆ–Perm Genï¼Œ å…·ä½“å–å†³äºJVMå†…å­˜ç®¡ç†å™¨çš„å®ç°ã€‚</p><h5 id="225è¿è¡Œæ—¶å¸¸é‡æ± run-time-constant-pool"><a class="markdownIt-Anchor" href="#225è¿è¡Œæ—¶å¸¸é‡æ± run-time-constant-pool"></a> 2.2.5.è¿è¡Œæ—¶å¸¸é‡æ± (Run-time Constant Pool)</h5><p>è¿è¡Œæ—¶å¸¸é‡æ± ï¼Œå³æ¯ä¸ªç±»ä¸­çš„<code>constant_pool</code>è¡¨ï¼Œ å®ƒåŒ…å«ç±»è¿è¡Œæ—¶å¸¸é‡å’Œé™æ€æ–¹æ³•ã€‚è¿è¡Œæ—¶å¸¸é‡æ± æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ã€‚</p><h5 id="226javaæ ˆ-java-stack"><a class="markdownIt-Anchor" href="#226javaæ ˆ-java-stack"></a> 2.2.6.Javaæ ˆ (Java Stack)</h5><p>Javaæ ˆå†…å­˜ç”¨äºçº¿ç¨‹çš„æ‰§è¡Œã€‚å®ƒä»¬åŒ…å«æš‚æ—¶çš„æ–¹æ³•çš„ç‰¹å®šå€¼(Thread-local variables, çº¿ç¨‹å±€éƒ¨å˜é‡), ä»¥åŠå¯¹ä»è¯¥æ–¹æ³•å¼•ç”¨çš„å †ä¸­å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ã€‚</p><h4 id="23-java-å †é…ç½®é€‰é¡¹"><a class="markdownIt-Anchor" href="#23-java-å †é…ç½®é€‰é¡¹"></a> 2.3 Java å †é…ç½®é€‰é¡¹</h4><p>Javaæä¾›äº†å¾ˆå¤šå…³äºå †å†…å­˜çš„é…ç½®é€‰é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥è®¾ç½®å†…å­˜å¤§å°åŠå…¶æ¯”ä¾‹ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„é…ç½®é¡¹:</p><table><thead><tr><th style="text-align:center">VM Switch</th><th style="text-align:center">VM Switch Description</th></tr></thead><tbody><tr><td style="text-align:center"><code>-Xms</code></td><td style="text-align:center">ç”¨äºåœ¨JVMå¯åŠ¨æ—¶è®¾ç½®åˆå§‹å †å¤§å°</td></tr><tr><td style="text-align:center"><code>-Xmx</code></td><td style="text-align:center">ç”¨äºè®¾ç½®æœ€å¤§å †å¤§å°</td></tr><tr><td style="text-align:center"><code>-Xmn</code></td><td style="text-align:center">è®¾ç½®æ–°ç”Ÿä»£åŒºåŸŸçš„å¤§å°ï¼Œå‰©ä¸‹çš„ç©ºé—´ç”¨äºè€å¹´ä»£</td></tr><tr><td style="text-align:center"><code>-XX:PermGen</code></td><td style="text-align:center">ç”¨äºè®¾ç½®æ°¸ä¹…ä»£ Perm Gen çš„åˆå§‹å¤§å°</td></tr><tr><td style="text-align:center"><code>-XX:MaxPermGen</code></td><td style="text-align:center">ç”¨äºè®¾ç½®Perm Gençš„æœ€å¤§å†…å­˜ç©ºé—´</td></tr><tr><td style="text-align:center"><code>-XX:SurvivorRatio</code></td><td style="text-align:center">è®¾ç½®EdenåŒºçš„æ¯”ä¾‹(Eden/Survivor)ï¼Œå¦‚æ–°ç”Ÿä»£å¤§å°ä¸º10M, -XX:SurvivorRatio=2, åˆ™Edenç©ºé—´å°†é¢„ç•™5M, Survivorå„é¢„ç•™2.5Mã€‚é»˜è®¤å€¼æ˜¯8</td></tr><tr><td style="text-align:center"><code>-XX:NewRatio</code></td><td style="text-align:center">è®¾ç½®è€å¹´ä»£Tenured/æ–°ç”Ÿä»£young Gençš„æ¯”ä¾‹ï¼Œé»˜è®¤æ˜¯2</td></tr></tbody></table><div class="note primary"><p>å‚è€ƒé“¾æ¥:</p><ul><li><a href="https://betsol.com/2017/06/java-memory-management-for-java-virtual-machine-jvm/">https://betsol.com/2017/06/java-memory-management-for-java-virtual-machine-jvm/</a></li><li><a href="https://dzone.com/articles/java-8-permgen-metaspace">https://dzone.com/articles/java-8-permgen-metaspace</a></li></ul></div><h2 id="äºŒ-åƒåœ¾å›æ”¶"><a class="markdownIt-Anchor" href="#äºŒ-åƒåœ¾å›æ”¶"></a> äºŒã€åƒåœ¾å›æ”¶</h2><h3 id="1-åƒåœ¾å›æ”¶æœºåˆ¶"><a class="markdownIt-Anchor" href="#1-åƒåœ¾å›æ”¶æœºåˆ¶"></a> 1. åƒåœ¾å›æ”¶æœºåˆ¶</h3><h4 id="11-æµç¨‹"><a class="markdownIt-Anchor" href="#11-æµç¨‹"></a> 1.1 æµç¨‹</h4><p>åƒåœ¾å›æ”¶ä¸€ä¸ªé‡Šæ”¾å †å†…ç©ºé—´ä»¥åˆ›å»ºæ–°å¯¹è±¡çš„è¿‡ç¨‹ã€‚Javaçš„æœ€ä½³ç‰¹æ€§ä¹‹ä¸€å°±æ˜¯åƒåœ¾è‡ªåŠ¨æ”¶é›†ï¼Œåƒåœ¾æ”¶é›†å™¨æ˜¯JVMç®¡ç†çš„è¿›ç¨‹ï¼Œå®ƒå¯ä»¥æŸ¥çœ‹å†…å­˜ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œå¹¶æ‰¾å‡ºç¨‹åºä¸­ä»»ä½•éƒ¨åˆ†éƒ½æ²¡æœ‰å¼•ç”¨çš„å¯¹è±¡ï¼Œåˆ é™¤å¹¶å›æ”¶ç©ºé—´ä»¥åˆ†é…ç»™å…¶ä»–æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚é€šè¿‡åƒåœ¾æ”¶é›†æœ‰ä»¥ä¸‹æ­¥éª¤:</p><ul><li><strong>Marking æ ‡è®°</strong>: æ ‡è®°å“ªäº›å¯¹è±¡æ˜¯å¯è¾¾å¯¹è±¡(live objects)ï¼Œå“ªäº›æ˜¯ä¸å¯è¾¾å¯¹è±¡(dead objects), åƒåœ¾æ”¶é›†å™¨ä¼šä»¥ä¸€ä¸ªGC rootå¼€å§‹éå†å¯¹è±¡å›¾(Object Graph)ï¼Œ æ­¤è¿‡ç¨‹ä¼šå¼•èµ·&quot;Stop the World Pause&quot;(å°†å½“å‰æ‰€æœ‰è¿è¡Œçš„çº¿ç¨‹æŒ‚èµ·ï¼Œç›´åˆ°å¯¹è±¡å›¾éå†å®Œæ¯•);<br /><img data-src="jvm-1-gc-mark.png" alt="jvm-gc-marking" /></li><li><strong>Normal Deletion æ™®é€šåˆ é™¤</strong>: åˆ é™¤ä¸å¯è¾¾å¯¹è±¡å¹¶å›æ”¶åˆ†é…ç»™å…¶ä»–å¯¹è±¡çš„ç©ºé—²ç©ºé—´;<br /><img data-src="jvm-1-gc-mark-sweep.png" alt="jvm-gc-mark-sweep" /></li><li><strong>Deletion with compacting</strong>: æ€§èƒ½è€ƒè™‘ï¼Œåœ¨åˆ é™¤ä¸å¯è¾¾å¯¹è±¡ä¹‹åï¼Œä¼šå°†æ‰€æœ‰å¹¸å­˜å¯¹è±¡ç§»åŠ¨åˆ°ä¸€èµ·ï¼Œè…¾å‡ºæ•´æ®µç©ºé—²çš„ç©ºé—´(å†…å­˜ç¢ç‰‡å¤„ç†);<br /><img data-src="jvm-1-gc-mark-sweep-compact.png" alt="jvm-gc-mark-sweep-compact" /></li><li><strong>Copy å¤åˆ¶</strong>: å°†å †å†…å­˜åˆ†æˆä¸¤ä¸ªç›¸ç­‰å¤§å°çš„åˆ†åŒºï¼Œæ¯æ¬¡åªä½¿ç”¨ä¸€ä¸ªåŒºåŸŸï¼Œå½“å®Œæˆæ ‡è®°åï¼Œç›´æ¥å°†å¹¸å­˜å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€ä¸ªåˆ†åŒºå³å¯ã€‚(ä¾‹å¦‚Young Gen ä¸­ä¸¤ä¸ªSurvivoråŒº)<br /><img data-src="jvm-1-gc-mark-copy.png" alt="jvm-gc-mark-copy" /></li></ul><p>ä¸Šé¢ç»™å‡ºæ­¥éª¤æ¶‰åŠçš„å†…å®¹å…¶å®å°±æ˜¯Javaåƒåœ¾æ”¶é›†ä¸­ä½¿ç”¨çš„ç®—æ³•ã€‚</p><div class="note danger"><p>è‡ªJDK 1å‘å¸ƒä»¥æ¥ï¼ŒJavaåƒåœ¾æ”¶é›†ä»æœªä½¿ç”¨è¿‡<strong>å¼•ç”¨è®¡æ•°ç®—æ³• References Counting</strong>, å› ä¸ºä¼šå‡ºç°â€å¾ªç¯å¼•ç”¨â€œï¼Œå³å¯¹è±¡<code>A</code>å¼•ç”¨å¯¹è±¡<code>B</code>, è€Œå¯¹è±¡<code>B</code>å¼•ç”¨å¯¹è±¡<code>A</code>ï¼Œ ä½¿å¾—å®ƒä»¬æ°¸è¿œæ— æ³•è¢«åƒåœ¾æ”¶é›†å™¨å›æ”¶ã€‚</p><p>å…³äº<strong>Stop the World Pause</strong>:<br />æ‰€æœ‰çš„åƒåœ¾æ”¶é›†éƒ½ä¼šå¼•èµ·&quot;Stop the World Pause&quot;ï¼Œå³åº”ç”¨ä¸­çš„æ‰€æœ‰çº¿ç¨‹éƒ½è¦è¢«æŒ‚èµ·ï¼Œç›´åˆ°å¯¹è±¡å›¾éå†å®Œæˆã€‚(å› ä¸ºå¦‚æœå¯¹è±¡å›¾å‘ç”Ÿå˜åŒ–çš„è¯ï¼Œå¯¹è±¡å›¾å°†æ— æ³•æ­£ç¡®çš„éå†)ã€‚</p><p>å¯¹äºæ–°ç”Ÿä»£è€Œè¨€ï¼Œç”±äºå­˜æ”¾çš„æ˜¯çŸ­æœŸå¯¹è±¡ï¼Œæ‰€ä»¥Minor GCè¿‡ç¨‹éå¸¸å¿«ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥è¯´å‡ ä¹ä¸å—å®ƒå¼•èµ·çš„&quot;Stop the World Pause&quot;çš„å½±å“ã€‚</p><p>ä½†æ˜¯ï¼ŒMajor GC å°±éœ€è¦å¾ˆé•¿æ—¶é—´äº†ï¼Œå®ƒä¼šæ£€æŸ¥æ‰€æœ‰çš„æ´»åŠ¨å¯¹è±¡ã€‚æˆ‘ä»¬åº”è¯¥å°½é‡è®©Major GCæœ€å°‘æ‰§è¡Œï¼Œå› ä¸ºå®ƒä¼šä½¿åº”ç”¨ç¨‹åºæŒç»­å¾ˆé•¿æ—¶é—´æ²¡æœ‰å“åº”ã€‚</p></div><h4 id="12-ç­–ç•¥"><a class="markdownIt-Anchor" href="#12-ç­–ç•¥"></a> 1.2 ç­–ç•¥</h4><p>è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆå’Œç¨‹åºè®¡æ•°å™¨åœ¨ç¼–è¯‘å®Œæ¯•åå·²ç»å¯ä»¥ç¡®å®šæ‰€éœ€å†…å­˜ç©ºé—´ï¼Œç¨‹åºæ‰§è¡Œå®Œæ¯•åä¹Ÿä¼šè‡ªåŠ¨é‡Šæ”¾æ‰€æœ‰å†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥ä¸éœ€è¦è¿›è¡ŒåŠ¨æ€å›æ”¶ä¼˜åŒ–ã€‚JVMå†…å­˜è°ƒä¼˜ä¸»è¦æ˜¯é’ˆå¯¹å †å’Œæ–¹æ³•åŒºçš„ä¸¤å¤§åŒºåŸŸçš„å†…å­˜ã€‚</p><p>é€šå¸¸å¯¹è±¡åˆ†ä¸º<strong>Strong</strong>ã€<strong>Soft</strong>ã€<strong>weak</strong>ã€<strong>phantom</strong>å››ç§ç±»å‹ï¼Œå¼ºå¼•ç”¨ä¸ä¼šè¢«å›æ”¶ï¼Œè½¯å¼•ç”¨åœ¨å†…å­˜è¾¾åˆ°æº¢å‡ºè¾¹ç•Œæ—¶å›æ”¶ï¼Œå¼±å¼•ç”¨åœ¨æ¯æ¬¡å›æ”¶å‘¨æœŸæ—¶å›æ”¶ï¼Œè™šå¼•ç”¨ä¸“é—¨è¢«æ ‡è®°ä¸ºå›æ”¶å¯¹è±¡ï¼Œå…·ä½“å›æ”¶ç­–ç•¥å¦‚ä¸‹:</p><ul><li>å¯¹è±¡ä¼˜å…ˆåœ¨EdenåŒºä¸­åˆ†é…;</li><li>æ–°ç”Ÿå¯¹è±¡å›æ”¶ç­–ç•¥Minor GC(é¢‘ç¹);</li><li>è€å¹´ä»£(Tenured)å¯¹è±¡å›æ”¶ç­–ç•¥Full GC/Major GC(æ…¢);</li><li>å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´å¹´ä»£ï¼›è¶…è¿‡<code>3m</code>çš„å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£ - <code>-XX:PretenuredSizeThreshold=3145728</code>(3M);</li><li>é•¿æœŸå­˜æ´»å¯¹è±¡è¿›å…¥è€å¹´ä»£(ç»è¿‡è‹¥å¹²æ¬¡Minor GCçš„å¯¹è±¡): Survivorä¸­çš„å¯¹è±¡ç»è¿‡ä¸€æ¬¡Minor GCåï¼Œå¹´é¾„ä¼šå¢åŠ ä¸€å²ï¼Œè¶…è¿‡15å²è¿›å…¥è€å¹´ä»£ - <code>:XX:MaxTenuringThreshold=15</code>;</li><li>åŠ¨æ€å¯¹è±¡å¹´é¾„åˆ¤å®š: è®¾ç½®SurvivoråŒºå¯¹è±¡å ç”¨ä¸€èˆ¬ç©ºé—´ä»¥ä¸Šçš„å¯¹è±¡è¿›å…¥è€å¹´ä»£ã€‚</li></ul><h3 id="2-åƒåœ¾å›æ”¶å™¨"><a class="markdownIt-Anchor" href="#2-åƒåœ¾å›æ”¶å™¨"></a> 2. åƒåœ¾å›æ”¶å™¨</h3><p>æˆ‘ä»¬å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨äº”ç§åƒåœ¾æ”¶é›†ç±»å‹ã€‚åªéœ€è¦åœ¨æ‰§è¡ŒJVMå‚æ•°æ¥å¯ç”¨ç›¸åº”çš„åƒåœ¾æ”¶é›†ç­–ç•¥å³å¯ã€‚</p><ol><li><strong>Serial GC(ä¸²è¡ŒGC)</strong> - <code>-XX:UseSerialGC</code>: ä¸²è¡ŒGCä½¿ç”¨ç®€å•çš„<code>mark-sweep-compact</code>ç®—æ³•ï¼Œå¯ä»¥ç”¨äºæ–°ç”Ÿä»£å’Œè€å¹´ä»£çš„åƒåœ¾æ”¶é›†ï¼Œä¾‹å¦‚Minor GCå’Œ Major GC;</li><li><strong>Parallel GC(å¹¶è¡ŒGC)</strong> - <code>-XX:UseParallelGC</code>: å¹¶è¡ŒGCå’Œä¸²è¡ŒGCç›¸åŒï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ƒä¸ºæ–°ç”Ÿä»£åƒåœ¾æ”¶é›†ç”ŸæˆNä¸ªçº¿ç¨‹ï¼Œå…¶ä¸­Næ˜¯ç³»ç»Ÿä¸­çš„CPUæ ¸å¿ƒæ•°ã€‚æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨<code>-XX:ParallelGCThreads=n</code>æ¥æ§åˆ¶çº¿ç¨‹æ•°;</li><li><strong>Parallel Old GC(å¹¶è¡Œæ—§GC)</strong> - <code>-XX:UseParallelOldGC</code>: è¿™ä¸å¹¶è¡ŒGCç›¸åŒï¼Œåªä¸è¿‡å®ƒé™¤äº†ä¸ºæ–°ç”Ÿä»£ç”Ÿæˆå¤šä¸ªçº¿ç¨‹ä»¥å¤–ï¼ŒåŒæ—¶ä¹Ÿå¯¹è€å¹´ä»£ç”Ÿæˆå¤šä¸ªçº¿ç¨‹;</li><li><strong>Concurrent Mark Sweep(å¹¶å‘æ ‡è®°æ‰«æ, CMS)</strong> - <code>-XX:UseConcMarkSweepGC</code>: CMSä¹Ÿç§°ä¸ºå¹¶å‘ä½æš‚åœæ”¶é›†å™¨ã€‚å®ƒä¸ºè€å¹´ä»£åšåƒåœ¾æ”¶é›†ã€‚CMSåƒåœ¾æ”¶é›†å™¨å°è¯•é€šè¿‡åœ¨åº”ç”¨ç¨‹åºçº¿ç¨‹å‘ƒé€†åŒæ—¶æ‰§è¡Œå¤§å¤šæ•°åƒåœ¾æ”¶é›†å·¥ä½œæ¥æœ€å°åŒ–ç”±äºåƒåœ¾æ”¶é›†å¯¼è‡´çš„æš‚åœã€‚å¹´è½»ä¸€ä»£çš„CMSæ”¶é›†å™¨ä½¿ç”¨ä¸å¹¶è¡ŒGCç›¸åŒçš„ç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>-XX:ParallelCMSThreads=n</code>å‚æ•°æ¥æ§åˆ¶CMSæ”¶é›†å™¨çš„çº¿ç¨‹æ•°;</li><li><strong>G1 Garbage Collector(G1åƒåœ¾æ”¶é›†å™¨)</strong> - <code>-XX:+UseG1GC</code>: G1ä»é•¿è¿œæ¥çœ‹æ˜¯è¦æ›¿æ¢CMSæ”¶é›†å™¨çš„ã€‚G1æ”¶é›†å™¨æ˜¯å¹¶è¡Œï¼Œå¹¶å‘å’Œé€’å¢ç´§å‡‘çš„ä½æš‚åœåƒåœ¾æ”¶é›†å™¨ã€‚G1ä¸åƒå…¶ä»–æ”¶é›†å™¨é‚£æ ·å·¥ä½œï¼Œå¹¶ä¸”æ²¡æœ‰æ–°ç”Ÿä»£å’Œè€å¹´ä»£çš„æ¦‚å¿µï¼Œå®ƒå°†å †ç©ºé—´åˆ’åˆ†ä¸ºå¤šä¸ªå¤§å°ç›¸åŒçš„å †åŒºåŸŸã€‚å½“è°ƒç”¨åƒåœ¾æ”¶é›†å™¨æ—¶ï¼Œå®ƒé¦–å…ˆæ”¶é›†å…·æœ‰è¾ƒå°‘å®æ—¶æ•°æ®çš„åŒºåŸŸï¼Œå› æ­¤ç§°ä¸º&quot;Garbage First&quot;, å³G1ã€‚</li></ol><p>æ›´å¤šå…³äºG1GCçš„å†…å®¹å¯ä»¥<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/vm/G1.html">æŸ¥çœ‹Oracleç»™å‡ºçš„æ–‡æ¡£</a>ã€‚</p><div class="note primary"><p>å‚è€ƒé“¾æ¥:</p><ul><li><a href="https://iq.opengenus.org/memory-management-in-java-mark-sweep-compact-copy/">https://iq.opengenus.org/memory-management-in-java-mark-sweep-compact-copy/</a></li><li><a href="https://plumbr.io/handbook/garbage-collection-algorithms">https://plumbr.io/handbook/garbage-collection-algorithms</a></li><li><a href="https://dzone.com/articles/java-memory-architecture-model-garbage-collection">https://dzone.com/articles/java-memory-architecture-model-garbage-collection</a></li><li><a href="https://www.journaldev.com/2856/java-jvm-memory-model-memory-management-in-java#memory-management-in-java-8211-old-generation">https://www.journaldev.com/2856/java-jvm-memory-model-memory-management-in-java#memory-management-in-java-8211-old-generation</a></li></ul></div><div class="note info"><p><strong>Related posts:</strong></p><ul><li><a href="/posts/4661f621/">JVMçŸ¥è¯†ä½“ç³» (ä¸€) | ç±»çš„è£…è½½</a></li><li><a href="/posts/12448424/">JDK, JRE, JVM | æ·±å…¥äº†è§£</a></li></ul></div>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img data-src=&quot;/images/java/basic/run-time-data-areas.png&quot; alt=&quot;run-time-data-areas&quot; /&gt;&lt;br /&gt;
ä¸»è¦ç®€å•çš„äº†è§£JVMçš„å†…å­˜åŒº(Memory Area)ä»¥åŠGC(Garbage Collection)åƒåœ¾å›æ”¶æœºåˆ¶ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="http://rovo98.github.io/categories/Java/"/>
    
    
    <category term="JVM" scheme="http://rovo98.github.io/tags/JVM/"/>
    
  </entry>
  
  <entry>
    <title>JVMçŸ¥è¯†ä½“ç³» (ä¸€) | ç±»çš„è£…è½½</title>
    <link href="http://rovo98.github.io/posts/4661f621/"/>
    <id>http://rovo98.github.io/posts/4661f621/</id>
    <published>2019-04-04T04:00:00.000Z</published>
    <updated>2021-09-09T14:11:36.666Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/java/basic/class-loading-subsystem.png" alt="class-loading-subsystem" /></p><p>äº†è§£Javaä¸­<strong>ç±»çš„ç»“æ„</strong>(class file struture, è¿™é‡ŒæŒ‡<code>.class</code>æ–‡ä»¶çš„ç»“æ„)ã€<strong>ç±»çš„åŠ è½½æœºåˆ¶</strong>ã€<strong>ç±»çš„åŠ è½½è¿‡ç¨‹</strong>ã€<strong>ç±»åŠ è½½å™¨çš„åº”ç”¨</strong>ã€‚</p><span id="more"></span><h2 id="ä¸€-ç±»çš„ç»“æ„"><a class="markdownIt-Anchor" href="#ä¸€-ç±»çš„ç»“æ„"></a> ä¸€ã€ç±»çš„ç»“æ„</h2><p>æˆ‘ä»¬çŸ¥é“é™¤äº†<code>java</code>ä»¥å¤–ï¼Œè¿˜æœ‰è®¸å¤šçš„ç¼–ç¨‹è¯­è¨€(å¦‚ï¼šGroovy/Kotlin/Scalaç­‰)åŒæ ·ä¹Ÿæ˜¯ç¼–è¯‘æˆ<code>.class</code>å­—èŠ‚ç æ–‡ä»¶ï¼Œç„¶åç”±JVMæ‰§è¡Œçš„ã€‚å¯ä»¥çœ‹å‡ºJVMåªå…³å¿ƒ<code>.class</code>æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰å¿…è¦äº†è§£ä¸€ä¸‹è¿™ä¸ª<strong>class</strong>æ–‡ä»¶ä¸­åˆ°åº•åŒ…å«ä»€ä¹ˆä¸œè¥¿ã€‚</p><p>JVMè§„èŒƒä¸¥æ ¼å®šä¹‰äº†<strong>class</strong>æ–‡ä»¶çš„æ ¼å¼ï¼Œæœ‰ä¸¥æ ¼æ•°æ®ç»“æ„ï¼Œä¸‹é¢æ˜¯<code>.class</code>æ–‡ä»¶çš„ç»“æ„:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ClassFile &#123;</span><br><span class="line">    u4             magic;</span><br><span class="line">    u2             minor_version;</span><br><span class="line">    u2             major_version;</span><br><span class="line">    u2             constant_pool_count;</span><br><span class="line">    cp_info        constant_pool[constant_pool_count-1];</span><br><span class="line">    u2             access_flags;</span><br><span class="line">    u2             this_class;</span><br><span class="line">    u2             super_class;</span><br><span class="line">    u2             interfaces_count;</span><br><span class="line">    u2             interfaces[interfaces_count];</span><br><span class="line">    u2             fields_count;</span><br><span class="line">    field_info     fields[fields_count];</span><br><span class="line">    u2             methods_count;</span><br><span class="line">    method_info    methods[methods_count];</span><br><span class="line">    u2             attributes_count;</span><br><span class="line">    attribute_info attributes[attributes_count];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-ç±»æ–‡ä»¶çš„æ ¼å¼the-class-file-format"><a class="markdownIt-Anchor" href="#1-ç±»æ–‡ä»¶çš„æ ¼å¼the-class-file-format"></a> 1. ç±»æ–‡ä»¶çš„æ ¼å¼(The class file format)</h3><ul><li>æ¯ä¸ªç±»æ–‡ä»¶åŒ…å«ä¸€ä¸ªç±»æˆ–è€…æ¥å£çš„å®šä¹‰ï¼Œè™½ç„¶ç±»æˆ–è€…æ¥å£ä¸éœ€è¦åœ¨æ–‡ä»¶ä¸­çœŸæ­£åŒ…å«å¤–éƒ¨è¡¨ç¤º(å› ä¸ºç±»æ˜¯ç”±ç±»åŠ è½½å™¨ç”Ÿæˆçš„)ï¼Œä½†æ˜¯æˆ‘ä»¬é€šå¸¸<strong>ç±»æˆ–æ¥å£çš„ä»»ä½•æœ‰æ•ˆè¡¨ç¤ºç§°ä¸ºç±»æ–‡ä»¶æ ¼å¼</strong>ï¼›</li><li><strong>ä¸€ä¸ªç±»æ–‡ä»¶ç”±8ä½(bit)çš„å­—èŠ‚æµç»„æˆ</strong>ã€‚æ‰€æœ‰16ä½ï¼Œ32ä½å’Œ64ä½å­—èŠ‚åˆ†åˆ«é€šè¿‡è¯»å–ä¸¤ä¸ªï¼Œå››ä¸ªå’Œå…«ä¸ªè¿ç»­8ä½å­—èŠ‚æ„æˆã€‚å¤šå­—èŠ‚æ•°æ®é¡¹å§‹ç»ˆä»¥å¤§ç«¯é¡ºåº(big-endian)å­˜å‚¨(å³é«˜å­—èŠ‚ä½é¦–å…ˆå‡ºç°)ã€‚åœ¨Java SEå¹³å°ä¸­ï¼Œæ¥å£<code>java.io.DataInput</code>å’Œ<code>java.io.DataOutput</code>ä»¥åŠ<code>java.io.DataInputStream</code>å’Œ<code>java.io.DataOutputStream</code>ç­‰æ”¯æŒè¿™ç§æ ¼å¼ï¼›</li><li>JVMè§„èŒƒä¸­å®šä¹‰äº†ä¸€ç»„è¡¨ç¤ºç±»æ–‡ä»¶æ•°æ®çš„æ•°æ®ç±»å‹:<code>u1</code>, <code>u2</code>, <code>u4</code>åˆ†åˆ«è¡¨ç¤ºæ— ç¬¦å·çš„ä¸€ä¸ªï¼Œä¸¤ä¸ªå’Œå››ä¸ªå­—èŠ‚çš„æ•°é‡ã€‚åœ¨Java SEå¹³å°ä¸­ï¼Œå¯ä»¥é€šè¿‡è¯¸å¦‚<code>readUnsignedByte</code>, <code>readUnsignedShort</code>å’Œ<code>java.io.DataInput</code>æ¥å£çš„<code>readInt</code>ä¹‹ç±»çš„æ–¹æ³•æ¥è¯»å–è¿™äº›ç±»å‹çš„æ•°æ®;</li><li>è§„èŒƒä¸­ä½¿ç”¨ç±»ä¼¼<strong>C</strong>è¯­è¨€ç»“æ„ç¬¦å·ç¼–å†™çš„ä¼ªç»“æ„æ¥è¡¨ç¤ºç±»æ–‡ä»¶æ ¼å¼ã€‚ä¸ºäº†é¿å…ä¸ç±»çš„å­—æ®µå’Œç±»å®ä¾‹ç­‰æ··æ·†ï¼Œå°†æè¿°ç±»æ–‡ä»¶ç»“æ„çš„å†…å®¹ç§°ä¸º<strong>é¡¹(item)</strong>ï¼Œå¤šä¸ªè¿ç»­çš„é¡¹æŒ‰é¡ºåºå­˜å‚¨åœ¨ç±»æ–‡ä»¶ä¸­ï¼Œæ— éœ€å¡«å……å’Œå¯¹é½ï¼›</li><li>ä¸€ä¸ª**è¡¨(Tables)**åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªé¡¹(<em>item</em>)ï¼Œç”¨äºè¡¨ç¤ºå¤šä¸ªç±»æ–‡ä»¶ç»“æ„ã€‚<strong>å°½ç®¡ä½¿ç”¨ç±»ä¼¼Cè¯­è¨€çš„æ•°ç»„è¯­æ³•æ¥å¼•ç”¨è¡¨é¡¹ï¼Œä½†è¡¨æ˜¯ä¸åŒå¤§å°ç»“æ„çš„æµè¿™ä¸€äº‹å®ï¼Œæ„å‘³ç€æ— æ³•å°†è¡¨ç´¢å¼•ç›´æ¥è½¬æ¢ä¸ºè¡¨ä¸­çš„å­—èŠ‚åç§»é‡</strong>ã€‚</li></ul><h3 id="2-é¡¹å«ä¹‰ç®€å•è¯´æ˜"><a class="markdownIt-Anchor" href="#2-é¡¹å«ä¹‰ç®€å•è¯´æ˜"></a> 2. é¡¹å«ä¹‰ç®€å•è¯´æ˜</h3><ul><li>1ã€<strong>magic</strong></li></ul><p><code>magic</code>é¡¹æä¾›æ ‡è¯†ç±»æ–‡ä»¶æ ¼å¼çš„<em>magic number</em>, è¿™æ˜¯ä¸€ä¸ªé¢„å…ˆå®šä¹‰å¥½çš„å€¼ï¼Œæ˜¯JVMç”¨æ¥è¯†åˆ«<code>.class</code>ç±»æ–‡ä»¶æ˜¯å¦ç”±åˆæ³•çš„ç¼–è¯‘å™¨äº§ç”Ÿã€‚ é¢„å…ˆå®šä¹‰çš„å€¼æ˜¯16è¿›åˆ¶æ ¼å¼ï¼Œä¾‹å¦‚: <code>0xCAFEBABE</code></p><p>æˆ‘ä»¬å¯ä»¥åšä»¥ä¸‹æµ‹è¯•æ¥è¿›è¡Œç®€å•çš„éªŒè¯:</p><ul><li>é¦–å…ˆç¼–å†™ä¸€ä¸ªç®€å•çš„<code>Sample.java</code>æºæ–‡ä»¶:</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Magic Number&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>ä½¿ç”¨<code>javac</code>å°†å…¶ç¼–è¯‘æˆ<code>Sample.class</code>æ–‡ä»¶ï¼Œæ‰“å¼€å¹¶éšæ„åˆ é™¤æˆ–ä¿®æ”¹ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œç„¶åä¿å­˜<br /><img data-src="jvm-1-sample-class.png" alt="sample-class-file" /></p></li><li><p><code>java sample</code>æŸ¥çœ‹ç»“æœ<br /><img data-src="jvm-1-incompatible-magic-value.png" alt="" /></p></li><li><p>2ã€<strong>minor_version å’Œ major_version</strong><br />å®ƒä»¬åˆåœ¨ä¸€èµ·è¡¨ç¤º<code>.class</code>ç±»æ–‡ä»¶çš„ç‰ˆæœ¬ã€‚JVMä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬ä¿¡æ¯æ¥è¯†åˆ«å½“å‰çš„ç±»æ–‡ä»¶æ˜¯ç”±å“ªä¸ªç‰ˆæœ¬çš„ç¼–è¯‘äº§ç”Ÿçš„ã€‚è§„èŒƒç”¨<code>M.m</code>çš„æ ¼å¼æ¥è¡¨ç¤ºç‰ˆæœ¬ï¼Œ<code>M</code>è¡¨ç¤ºä¸»ç‰ˆæœ¬(<code>major_version</code>)ï¼Œè€Œ<code>m</code>è¡¨ç¤ºæ¬¡ç‰ˆæœ¬(<code>minor_version</code>)ã€‚</p></li></ul><div class="note warning"><p><strong>[Notice]</strong>: ä½ç‰ˆæœ¬çš„ç¼–è¯‘å™¨ç”Ÿæˆçš„<code>.class</code>ç±»æ–‡ä»¶å¯ä»¥è¢«é«˜ç‰ˆæœ¬çš„JVMæ‰§è¡Œï¼Œä½†æ˜¯é«˜ç‰ˆæœ¬çš„ç¼–è¯‘å™¨ç”Ÿæˆçš„<code>.class</code>ç±»æ–‡ä»¶æ— æ³•è¢«è¾ƒä½ç‰ˆæœ¬çš„JVMæ‰§è¡Œã€‚</p><p>ä¼šæŠ¥é”™: <code>UnsupportedClassVersionError: ***</code></p></div><div class="note primary"><p>JDK 1.0.2ç‰ˆæœ¬ä¸­çš„Oracle Java è™šæ‹Ÿæœºæ”¯æŒåŒ…å«45.0 ~ 45.3ç‰ˆæœ¬çš„ç±»æ–‡ä»¶æ ¼å¼ã€‚</p><p>JDKå‘å¸ƒ1.1.*æ”¯æŒçš„ç±»æ–‡ä»¶æ ¼å¼ç‰ˆæœ¬ï¼ŒèŒƒå›´ä¸º45.0 ~ 45.65535ã€‚ å¯¹äº<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>&gt;</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">k \gt 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>, JDKç‰ˆæœ¬1.k æ”¯æŒ45.0 ~ 44 + k.0 èŒƒå›´å†…çš„ç±»æ–‡ä»¶æ ¼å¼ç‰ˆæœ¬ã€‚</p><p>ä¾‹å¦‚: JDK 1.8.0 ç‰ˆæœ¬æ”¯æŒçš„ç±»æ–‡ä»¶æ ¼å¼ç‰ˆæœ¬èŒƒå›´ä¸º: 45.0 ~ 52.0</p></div><ul><li>3ã€<strong>constant_pool_count</strong></li></ul><p><code>constant_pool_count</code>é¡¹çš„å€¼ç­‰äº<code>constant_pool</code>è¡¨(<em>Table</em>)ä¸­çš„é¡¹(<em>item</em>)æ•°åŠ 1ã€‚å®ƒè¡¨ç¤ºå¸¸é‡æ± ä¸­å­˜åœ¨çš„å¸¸é‡æ•°(å½“ç¼–è¯‘Javaæ–‡ä»¶æ—¶ï¼Œå¯¹å˜é‡å’Œæ–¹æ³•çš„æ‰€æœ‰å¼•ç”¨éƒ½å­˜å‚¨åœ¨å¸¸é‡æ± ä½œä¸ºç¬¦å·å¼•ç”¨-<em>Symbolic reference</em>)ã€‚</p><ul><li>4ã€<strong>constant_pool[]</strong></li></ul><p><code>constant_pool[]</code>æ˜¯ä¸€ä¸ªç»“æ„è¡¨(<em>Table</em>), è¡¨ç¤ºå„ç§å­—ç¬¦ä¸²å¸¸é‡ï¼Œç±»å’Œæ¥å£åç§°ï¼Œå­—æ®µåç§°ä»¥åŠåœ¨ç±»æ–‡ä»¶ç»“æ„åŠå…¶å­ç»“æ„ä¸­å¼•ç”¨çš„å…¶ä»–å¸¸é‡ã€‚æ¯ä¸ªå¸¸é‡æ± æ¡ç›®(<em>entry</em>)çš„æ ¼å¼ç”±ç¬¬ä¸€ä¸ª&quot;æ ‡è®°(<em>tag</em>)&quot;å­—èŠ‚è¡¨ç¤ºã€‚</p><ul><li>5ã€<strong>access_flags</strong></li></ul><p><code>access_flags</code>é¡¹æä¾›å…³äºç±»æ–‡ä»¶ä¸­å£°æ˜çš„ä¿®é¥°ç¬¦(<em>modifier</em>)çš„ä¿¡æ¯ã€‚<code>access_flags</code>çš„å€¼ç”¨äºè¡¨ç¤ºå¯¹è¯¥ç±»æˆ–æ¥å£å±æ€§çš„è®¿é—®æƒé™ã€‚</p><table><thead><tr><th style="text-align:center">Flag Name</th><th style="text-align:center">Value</th><th style="text-align:center">Interpretation</th></tr></thead><tbody><tr><td style="text-align:center">ACC_PUBLIC</td><td style="text-align:center">0x0001</td><td style="text-align:center">å£°æ˜<code>public</code>ï¼Œå¯ä»¥ä»åŒ…çš„å¤–éƒ¨è¿›è¡Œè®¿é—®</td></tr><tr><td style="text-align:center">ACC_FINAL</td><td style="text-align:center">0x0010</td><td style="text-align:center">å£°æ˜<code>final</code>, ä¸å…è®¸å­ç±»ç»§æ‰¿</td></tr><tr><td style="text-align:center">ACC_SUPER</td><td style="text-align:center">0x0020</td><td style="text-align:center">åœ¨è°ƒç”¨<code>invokespecial</code>æŒ‡ä»¤æ—¶ç‰¹åˆ«å¤„ç†è¶…ç±»çš„æ–¹æ³•</td></tr><tr><td style="text-align:center">ACC_INTERFACE</td><td style="text-align:center">0x0200</td><td style="text-align:center">æ ‡æ˜æ˜¯ä¸€ä¸ªæ¥å£ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç±»</td></tr><tr><td style="text-align:center">ACC_ABSTRACT</td><td style="text-align:center">0x0400</td><td style="text-align:center">å£°æ˜<code>abstract</code>ï¼Œä¸èƒ½å®ä¾‹åŒ–</td></tr><tr><td style="text-align:center">ACC_SYNTHETIC</td><td style="text-align:center">0x1000</td><td style="text-align:center">å£°æ˜<code>synthetic</code>ï¼Œè¡¨ç¤ºç±»æˆ–è€…æ¥å£ç”±ç¼–è¯‘å™¨ç”Ÿæˆï¼Œä¸ä¼šå‡ºç°åœ¨æºä»£ç ä¸­</td></tr><tr><td style="text-align:center">ACC_ANNOTATION</td><td style="text-align:center">0x2000</td><td style="text-align:center">å£°æ˜ä¸€ä¸ªæ³¨è§£<code>annotation</code>ç±»å‹</td></tr><tr><td style="text-align:center">ACC_ENUM</td><td style="text-align:center">0x4000</td><td style="text-align:center">å£°æ˜ä¸€ä¸ªæšä¸¾<code>enum</code>ç±»å‹</td></tr></tbody></table><ul><li>6ã€<strong>this_class</strong></li></ul><p>è¯¥ç±»é¡¹çš„å€¼å¿…é¡»æ˜¯å¸¸é‡æ± è¡¨(<code>constant_pool[]</code>)ä¸­çš„æœ‰æ•ˆç´¢å¼•ã€‚ç´¢å¼•å¤„çš„å¸¸é‡æ± æ¡ç›®å¿…é¡»æ˜¯ä¸€ä¸ª<code>CONSTANT_Class_info</code>ç»“æ„ï¼Œè¡¨ç¤ºæ­¤ç±»æ–‡ä»¶å®šä¹‰çš„ç±»æˆ–æ¥å£ã€‚ç®€å•çš„è¯´ï¼Œå®ƒè¡¨ç¤ºç±»æ–‡ä»¶çš„å®Œå…¨é™å®šåã€‚</p><ul><li>7ã€<strong>super_class</strong></li></ul><p><code>super_class</code>è¡¨ç¤ºå½“å‰ç±»çš„ç›´æ¥è¶…ç±»çš„å®Œå…¨é™å®šåã€‚ä¾‹å¦‚ä¸Šé¢<code>Sample.java</code>æ–‡ä»¶ã€‚å½“æˆ‘ä»¬ç¼–è¯‘å®ƒæ—¶ï¼Œå¯ä»¥è¯´<code>this_class</code>æ˜¯<code>Sample</code>ç±»ï¼Œè€Œ<code>super_class</code>æ˜¯<code>Object</code>ç±»ã€‚</p><ul><li>8ã€<strong>interface_count</strong></li></ul><p><code>interface_count</code>è¡¨ç¤ºå½“å‰ç±»æ–‡ä»¶å®ç°çš„æ¥å£æ•°é‡ã€‚</p><ul><li>9ã€<strong>interface[]</strong></li></ul><p><code>interface[]</code>å­˜æ”¾å½“å‰ç±»æ–‡ä»¶å®ç°çš„æ¥å£ä¿¡æ¯ã€‚</p><ul><li>10ã€<strong>fields_count</strong></li></ul><p><code>fields_count</code>è¡¨ç¤ºå½“å‰ç±»æ–‡ä»¶ä¸­çš„å­—æ®µæ•°(ç±»æˆ–æ¥å£ä¸­å£°æ˜çš„æ‰€æœ‰å­—æ®µï¼ŒåŒ…æ‹¬ç±»å˜é‡å’Œå®ä¾‹å˜é‡)ã€‚</p><ul><li>11ã€<strong>fields[]</strong></li></ul><p><code>fields[]</code>è¡¨ä¸­çš„æ¯ä¸ªå€¼å¿…é¡»æ˜¯<code>field_info</code>ç»“æ„ï¼Œç»™å‡ºè¯¥ç±»æˆ–æ¥å£ä¸­å­—æ®µçš„å®Œæ•´æè¿°ã€‚<code>fields</code>è¡¨ä»…åŒ…æ‹¬ç”±å½“å‰(<em>this</em>)ç±»æˆ–æ¥å£å£°æ˜çš„é‚£äº›å­—æ®µï¼Œä¸åŒ…æ‹¬ä»è¶…ç±»(<em>super class</em>)æˆ–è¶…æ¥å£(<em>super interface</em>)ç»§æ‰¿çš„å­—æ®µçš„é¡¹ã€‚</p><ul><li>12ã€<strong>method_count</strong></li></ul><p><code>method_count</code>è¡¨ç¤ºå½“å‰ç±»æ–‡ä»¶ä¸­çš„æ–¹æ³•çš„æ•°é‡(å³<code>methods[]</code>è¡¨ä¸­<code>method_info</code>é¡¹çš„æ•°é‡)ã€‚</p><ul><li>13ã€<strong>methods[]</strong></li></ul><p><code>methods[]</code>è¡¨ä¸­çš„æ¯ä¸ªå€¼å¿…é¡»æ˜¯<code>method_info</code>ç»“æ„ï¼Œå®ƒç»™å‡ºäº†è¯¥ç±»æˆ–æ¥å£ä¸­çš„æ–¹æ³•çš„å®Œæ•´æè¿°ã€‚<br /><code>method_info</code>ç»“æ„è¡¨ç¤ºè¯¥ç±»æˆ–æ¥å£ä¸­å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ï¼ŒåŒ…æ‹¬å®ä¾‹æ–¹æ³•ã€ç±»æ–¹æ³•ã€å®ä¾‹åˆå§‹åŒ–æ–¹æ³•å’Œä»»ä½•ç±»çš„æˆ–æ¥å£çš„åˆå§‹åŒ–æ–¹æ³•ã€‚ä½†æ˜¯<code>methods[]</code>è¡¨ä¸åŒ…å«è¡¨ç¤ºä»è¶…ç±»æˆ–è¶…æ¥å£ç»§æ‰¿çš„æ–¹æ³•çš„é¡¹ã€‚</p><ul><li>14ã€<strong>attributes_count</strong></li></ul><p>åŒä¸Šï¼Œ<code>attributes_count</code>è¡¨ç¤º<code>attributes[]</code>è¡¨ä¸­<code>attribute_info</code>é¡¹çš„æ•°é‡ã€‚</p><ul><li>15ã€<strong>attributes[]</strong></li></ul><p><code>attributes[]</code>è¡¨å­˜æ”¾<code>attribute_info</code>ç»“æ„é¡¹ã€‚æä¾›å½“å‰ç±»ä¸­æ‰€æœ‰å±æ€§çš„ä¿¡æ¯ã€‚</p><p><strong>ç±»æ–‡ä»¶ç»“æ„çš„æ•´ä½“å¸ƒå±€</strong>:</p><p><img data-src="jvm-1-class-file-structure.png" alt="class-file-structure" /></p><p>å¯ä»¥ç®€å•åœ°å°†æ¯ä¸ªç±»çš„æ–‡ä»¶ç»“æ„ç†è§£æˆä¸€ä¸ªä¸ªæ•°æ®åº“ï¼Œé‡Œé¢æœ‰å¸¸é‡æ± (<code>constant_pool</code>)ã€æ¥å£(<code>interfaces</code>)ã€å­—æ®µ(<code>fields</code>)ã€æ–¹æ³•(<code>methods</code>)å’Œå±æ€§(<code>attributes</code>)è¡¨ï¼Œç±»ä¼¼ä¸æ•°æ®åº“ä¸­çš„æ•°æ®è¡¨ï¼Œè¡¨ä¸è¡¨ä¹‹é—´å­˜åœ¨å…³è”ï¼Œä¾‹å¦‚ï¼šå¸¸é‡æ± å­˜æ”¾è¿™å…¶ä»–è¡¨éœ€è¦çš„æ‰€æœ‰å­—é¢é‡(<em>literal</em>)ã€‚</p><div class="note primary"><p>ä»¥ä¸Šå†…å®¹å¤§å¤šå‚ç…§<em>The Java@ Virtual Machine Specification Java SE 8 Edition</em></p><p>è¯¦ç»†çš„å†…å®¹ï¼Œå¯ä»¥ä»”ç»†é˜…è¯»Hotspot JVMè§„èŒƒè¯´æ˜ä¹¦ç»™å‡ºçš„Classæ–‡ä»¶æ ¼å¼è¯´æ˜ã€‚<br /><a href="https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.1">https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.1</a></p></div><div class="note primary"><p><strong>[å‚è€ƒé“¾æ¥]:</strong><br /><a href="https://www.geeksforgeeks.org/java-class-file/">https://www.geeksforgeeks.org/java-class-file/</a></p></div><h2 id="äºŒ-åŠ è½½æœºåˆ¶"><a class="markdownIt-Anchor" href="#äºŒ-åŠ è½½æœºåˆ¶"></a> äºŒã€åŠ è½½æœºåˆ¶</h2><h3 id="1-ç±»çš„å…¥å£"><a class="markdownIt-Anchor" href="#1-ç±»çš„å…¥å£"></a> 1. ç±»çš„å…¥å£</h3><p>æˆ‘ä»¬çŸ¥é“ç¼–ç¨‹è¯­è¨€åœ¨è®¡ç®—æœºä½“ç³»ç»“æ„ä¸­çš„æŒ‰åŠŸèƒ½çš„åˆ†å±‚æ˜¯å±äºä¸Šé¢ä¸‰å±‚çš„ï¼ˆæ±‡ç¼–è¯­è¨€ã€é«˜çº§è¯­è¨€ã€åº”ç”¨è¯­è¨€ï¼‰ï¼Œåœ¨å‘ä½ä¸€çº§åˆ«è™šæ‹Ÿæœºè¯­è¨€è½¬æ¢æ—¶ï¼Œä½¿ç”¨çš„æ˜¯**ç¿»è¯‘(Translation)**çš„æ–¹å¼ï¼Œå³å°†é«˜ä¸€çº§åˆ«æœºå™¨ä¸Šçš„ç¨‹åºè½¬æ¢ä¸ºä½ä¸€çº§åˆ«æœºå™¨ä¸Šçš„ä¸€æ®µç­‰æ•ˆç¨‹åºï¼Œç„¶åå†æ‰§è¡Œã€‚</p><p>Javaã€Cç­‰å¤§å¤šæ˜¯ç”¨è¿™ç§æ–¹å¼ï¼Œä¾‹å¦‚æˆ‘ä»¬å›é¡¾ä¸€ä¸‹æˆ‘ä»¬æ˜¯å¦‚ä½•è¿è¡Œä¸€ä¸ªCç¨‹åºçš„:</p><ul><li>(1). ç¼–å†™<code>helloworld.c</code>æºæ–‡ä»¶:</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hello, world!&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(2). ä½¿ç”¨<code>gcc/g++</code>ç¼–è¯‘å™¨å°†å®ƒç¼–è¯‘æˆæœºå™¨æŒ‡ä»¤é›†, ç„¶åè¯»å–åˆ°å†…å­˜ç›´æ¥åœ¨è®¡ç®—æœºçš„CPUä¸Šæ‰§è¡Œã€‚ä»æ“ä½œç³»ç»Ÿçš„å±‚é¢ä¸Šï¼Œå°±æ˜¯ä¸€ä¸ªè¿›ç¨‹çš„å¯åŠ¨åˆ°ç»“æŸçš„ç”Ÿå‘½å‘¨æœŸã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ gcc helloworld.c -o helloworld <span class="comment"># é»˜è®¤è¾“å‡º a.out</span></span><br><span class="line">$ ./helloworld</span><br><span class="line"></span><br><span class="line">hello, world!</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬å†çœ‹Javaçš„ç¨‹åºæ˜¯å¦‚ä½•è¿è¡Œçš„ã€‚</p><p><strong>ç®€å•çš„æ¥è¯´ï¼Œç¼–å†™Javaç¨‹åºæºä»£ç , ç„¶åä½¿ç”¨</strong><code>javac</code><strong>ç¼–è¯‘å™¨å°†æºä»£ç ç¼–è¯‘æˆ</strong><code>.class</code><strong>ç±»æ–‡ä»¶ï¼Œç»è¿‡JVMçš„ç±»åŠ è½½å­ç³»ç»Ÿï¼Œå°†å¿…è¦çš„æ•°æ®è£…å…¥å†…å­˜åŒºï¼Œç„¶åç”±æ‰§è¡Œå¼•æ“æ‰§è¡Œï¼ˆæ­¤è¿‡ç¨‹æ˜¯è§£é‡Šæ‰§è¡Œçš„ï¼ŒåŠ ä¸ŠJITåŠæ—¶ç¼–è¯‘ï¼‰</strong>ã€‚</p><ul><li>(1)å…ˆæœ‰æºç :</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello, world!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(2) ç¼–è¯‘æ‰§è¡Œ:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ javac HelloWorld.java</span><br><span class="line">$ java HelloWorld</span><br><span class="line"></span><br><span class="line">hello, world!</span><br></pre></td></tr></table></figure><p>å¯¹æ¯”Cè¯­è¨€åœ¨å‘½ä»¤è¡Œç›´æ¥è¿è¡Œç¼–è¯‘åçš„<code>helloworld</code>äºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒJavaåˆ™æ˜¯åœ¨å‘½ä»¤æ‰§è¡Œ<code>.class</code>ç±»æ–‡ä»¶ï¼Œ<strong>ä»å‘½ä»¤çš„åŒºåˆ«ï¼Œæˆ‘ä»¬çŸ¥é“æ“ä½œå¯åŠ¨çš„å…¶å®æ˜¯</strong><code>java</code><strong>è¿›ç¨‹, è€Œ</strong><code>HelloWorld.class</code>ç±»æ–‡ä»¶åªæ˜¯ä½œä¸ºå‘½ä»¤è¡Œå‚æ•°ï¼Œåœ¨æ“ä½œç³»ç»Ÿçœ‹æ¥<code>java</code>ä¹Ÿæ˜¯ä¸€ä¸ªæ™®é€šçš„è¿›ç¨‹è€Œå·²ï¼Œè¿™ä¸ªè¿›ç¨‹å°±æ˜¯JVMçš„æ‰§è¡Œå½¢æ€ã€‚</p><p>æˆ‘ä»¬éƒ½æ˜¯Javaçš„å…¥å£æ–¹æ³•æ˜¯<code>public static void main(String[] args)</code>, ç¼ºä¸€ä¸å¯ï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥éªŒè¯ä¸ºä»€ä¹ˆï¼Ÿ</p><ul><li>(1) å»æ‰<code>public</code>ä¿®é¥°:<br /><img data-src="jvm-1-public-error.png" alt="" /><br />è¯´æ˜JVMåœ¨è°ƒç”¨<code>main</code>æ–¹æ³•æ—¶æ˜¯åœ¨å¤–éƒ¨è°ƒç”¨çš„(JVMè°ƒç”¨<code>main</code>æ–¹æ³•æ˜¯åº•å±‚çš„JNIæ–¹æ³•è°ƒç”¨)ï¼Œä¸ºäº†ç¡®ä¿èƒ½å¤Ÿè°ƒç”¨<code>main</code>ï¼Œå…¥å£æ–¹æ³•éœ€å£°æ˜ä¸º<code>public</code>ã€‚</li><li>(2) å»æ‰<code>static</code>ä¿®é¥°:<br /><img data-src="jvm-1-static-error.png" alt="" /><br />JVMè°ƒç”¨<code>main</code>æ–¹æ³•æ—¶ä¸ä¼šåˆ›å»ºç±»çš„å®ä¾‹ï¼Œå› æ­¤å°†<code>main</code>æ–¹æ³•ä¿®é¥°ä¸º<code>static</code>ã€‚</li><li>(3) ä¿®æ”¹æ–¹æ³•çš„è¿”å›æ¥ç±»å‹ä¸º<code>int</code>:<br /><img data-src="jvm-1-return-type-error.png" alt="" /><br /><code>void</code>ç±»å‹JVMè°ƒç”¨<code>main</code>æ–¹æ³•åæ— éœ€å…³å¿ƒè°ƒç”¨è€…çš„ä½¿ç”¨æƒ…å†µï¼Œæ‰§è¡Œå®Œæˆå°±åœæ­¢ï¼Œç®€åŒ–JVMçš„è®¾è®¡ã€‚</li><li>(4) ä¿®æ”¹<code>main</code>ä¸º<code>main1</code>:<br /><img data-src="jvm-1-main1-error.png" alt="" /><br /><code>main</code>æ–¹æ³•çš„å‘½åå…¶å®æ˜¯çº¦å®šä¿—æˆçš„ï¼Œæ¯•ç«Ÿä¹Ÿæ˜¯<em>c-family</em>è¯­è¨€ï¼Œä¸Cè¯­è¨€ç›¸åŒã€‚</li></ul><p>ä¸Šé¢è¯´äº†è¿™ä¹ˆå¤šï¼Œå…¶å®æˆ‘ä»¬ä¸€èˆ¬åªå…³å¿ƒä¸‹é¢è¿™ä¸¤ç‚¹:</p><ul><li><code>HelloWorld</code>æ˜¯å¦‚ä½•è¢«JVMä½¿ç”¨çš„;</li><li><code>HelloWorld</code>ç±»é‡Œé¢çš„<code>main</code>æ–¹æ³•æ˜¯å¦‚ä½•è¢«æ‰§è¡Œçš„.</li></ul><p>ä¸‹é¢æˆ‘ä»¬è¯¦ç»†äº†è§£ä¸€ä¸‹JVMæ˜¯å¦‚ä½•ä½¿ç”¨<code>HelloWorld</code>è¿™ä¸ªç±»æ–‡ä»¶çš„ã€‚</p><p>æˆ‘ä»¬çŸ¥é“JVMçš„å®ç°æ˜¯ç”±C/C<ins>å®ç°çš„(æˆ‘ä»¬å¯ä»¥ä»ä¸‹è½½çš„JDKä¸­çš„<code>src</code>æºä»£ç ä¸­çœ‹åˆ°), JVMåœ¨è·Ÿ<code>.class</code>æ‰“äº¤é“æ—¶éœ€è¦ç”¨åˆ°JNI(<em>Java Native Interface</em>), å½“æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œæ‰§è¡Œjavaæ—¶ï¼Œç”±C/C</ins>å®ç°çš„javaåº”ç”¨ç¨‹åºé€šè¿‡JNIæ‰¾åˆ°äº†<code>HelloWorld</code>ä¸­ç¬¦åˆè§„èŒƒçš„<code>main</code>ï¼Œç„¶åå¼€å§‹è°ƒç”¨ã€‚</p><ul><li>æºä»£ç :<br /><img data-src="jvm-1-jdk8-launcher-source-codes.png" alt="" /></li><li><code>int JNICALL javaMain(void *args)</code>æ–¹æ³•:<br /><img data-src="jvm-1-launcher-source-code-javaMain.png" alt="" /></li></ul><h3 id="2-ç±»åŠ è½½å™¨"><a class="markdownIt-Anchor" href="#2-ç±»åŠ è½½å™¨"></a> 2. ç±»åŠ è½½å™¨</h3><p>JVMåœ¨æ‰§è¡Œç±»çš„å…¥å£ä¹‹å‰ï¼Œé¦–å…ˆå¿…é¡»æ‰¾åˆ°ç±»æ–‡ä»¶ï¼Œç„¶åå°†ç±»æ–‡ä»¶è£…å…¥JVMå®ä¾‹ä¸­ï¼Œä¹Ÿå°±æ˜¯JVMè¿›ç¨‹ç»´æŠ¤çš„å†…å­˜åŒºåŸŸ(Runtime Data Areaæˆ–Memory Area)ä¸­ã€‚æˆ‘ä»¬éƒ½çŸ¥é“æœ‰ä¸€ä¸ªå«åš**ç±»åŠ è½½å™¨(<em>ClassLoader</em>)**çš„å·¥å…·è´Ÿè´£æŠŠç±»åŠ è½½åˆ°JVMå®ä¾‹ä¸­ï¼ŒæŠ›å¼€ç»†èŠ‚ä»æ“ä½œç³»ç»Ÿå±‚é¢è§‚å¯Ÿï¼Œé‚£ä¹ˆå°±æ˜¯JVMå®ä¾‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­é€šè¿‡IOä»ç¡¬ç›˜æˆ–è€…ç½‘ç»œè¯»å–<code>.class</code>ç±»æ–‡ä»¶ï¼Œç„¶ååœ¨JVMç®¡è¾–çš„å†…å­˜åŒºåŸŸå­˜æ”¾å¯¹åº”çš„æ–‡ä»¶ã€‚</p><p>æˆ‘ä»¬å¯¹äºç±»åŠ è½½å™¨çš„å®ç°è¿˜ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œä½†æ˜¯ä»åŠŸèƒ½éœ€æ±‚ä¸Šäº†è§£åˆ°ï¼Œæ— éå°±æ˜¯è¯»å–æ–‡ä»¶åˆ°å†…å­˜ï¼Œçœ‹èµ·æ¥æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„æ“ä½œã€‚</p><p>å¦‚æœç±»åŠ è½½å™¨çš„å®ç°æ˜¯ç”¨C/C++å®ç°çš„ï¼Œé‚£ä¹ˆå¤§æ¦‚å¯èƒ½æ˜¯å¦‚ä¸‹ä»£ç å®ç°çš„:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">fgets</span><span class="params">( <span class="keyword">char</span> *buf, <span class="keyword">int</span> n, FILE *fp )</span></span>;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯JAVAå®ç°çš„è¯(ä¸Šé¢å·²ç»æåˆ°è¿‡æˆ‘ä»¬å¯ä»¥ç”¨<code>java.io.InputStream</code>ç­‰æ¥å£æ¥è¯»å–ç±»æ–‡ä»¶ä¸­çš„æ•°æ®), é‚£ä¹ˆä¹Ÿæ˜¯å¾ˆç®€å•çš„:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InputStream is = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;temporary/code/java/HelloWorld.class&quot;</span>);</span><br></pre></td></tr></table></figure><p>ä»æ“ä½œç³»ç»Ÿå±‚é¢çœ‹ï¼Œå¦‚æœåªæ˜¯åŠ è½½ï¼Œä»¥ä¸Šçš„ä»£ç å°±è¶³ä»¥æŠŠç±»æ–‡ä»¶åŠ è½½åˆ°JVMå†…å­˜ä¸­ã€‚ä½†æ˜¯ç¼ºä¹è‰¯å¥½çš„ç®¡ç†ï¼Œè¿˜å¿…é¡»è®¾è®¡ä¸€å¥—è§„åˆ™æ¥ç®¡ç†å­˜æ”¾åˆ°å†…å­˜ä¸­çš„ç±»æ–‡ä»¶, <strong>è€Œè¿™ä¸€å¥—è§„åˆ™å°±æ˜¯æ‰€è°“çš„ç±»çš„åŠ è½½æœºåˆ¶</strong>ã€‚</p><p>åœ¨å¯åŠ¨JVMçš„æ—¶å€™ä¼šæŠŠJREé»˜è®¤çš„ä¸€äº›ç±»åŠ è½½åˆ°å†…å­˜ï¼Œè¿™éƒ¨åˆ†çš„ç±»åŠ è½½ä½¿ç”¨çš„æ˜¯ç³»ç»Ÿæä¾›çš„å†…ç½®ç±»åŠ è½½å™¨<code>Bootstrap</code>å’Œ<code>Extensions</code>ç±»åŠ è½½å™¨ï¼Œä½†æ˜¯å†…ç½®çš„ç±»åŠ è½½å™¨åªèƒ½åŠ è½½æŒ‡å®šè·¯å¾„ä¸‹çš„jaråŒ…(ç±»æ–‡ä»¶é›†åˆ)ã€‚JREåªæ˜¯æä¾›äº†åº•å±‚æ‰€éœ€çš„ç±»ï¼Œæ›´å¤šçš„ä¸šåŠ¡éœ€è¦æˆ‘ä»¬ä»å¤–éƒ¨åŠ è½½ç±»æ¥æ”¯æŒï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŒ‡å®šæ–°çš„ç±»åŠ è½½è§„åˆ™ï¼Œä»¥æ–¹ä¾¿åŠ è½½æˆ‘ä»¬æ‰€éœ€çš„å¤–éƒ¨è·¯å¾„çš„ç±»æ–‡ä»¶ã€‚</p><h4 id="21-ç³»ç»Ÿé»˜è®¤åŠ è½½å™¨"><a class="markdownIt-Anchor" href="#21-ç³»ç»Ÿé»˜è®¤åŠ è½½å™¨"></a> 2.1. ç³»ç»Ÿé»˜è®¤åŠ è½½å™¨</h4><h5 id="211-bootstrap-class-loader"><a class="markdownIt-Anchor" href="#211-bootstrap-class-loader"></a> 2.1.1 Bootstrap class loader</h5><blockquote><p>ä½œç”¨: å¯åŠ¨ç±»åŠ è½½å™¨ï¼Œ åŠ è½½JDKæ ¸å¿ƒç±»<br />å®ç°: C/C++å®ç°<br />ç±»åŠ è½½è·¯å¾„: <code>/jre/lib</code>ç›®å½•ä¸‹çš„jaråŒ…å’Œç±»æ–‡ä»¶</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sun.misc.Launcher;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> rovo98</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BoostrapClassLoaderTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        URL[] urls = Launcher.getBootstrapClassPath().getURLs();</span><br><span class="line">        <span class="keyword">for</span> (URL url : urls) &#123;</span><br><span class="line">            System.out.println(url.toString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ javac BoostrapClassLoaderTest.java</span><br><span class="line">$ java BoostrapClassLoaderTest</span><br><span class="line"></span><br><span class="line">file:/opt/jdk1.8.0_181/jre/lib/resources.jar</span><br><span class="line">file:/opt/jdk1.8.0_181/jre/lib/rt.jar</span><br><span class="line">file:/opt/jdk1.8.0_181/jre/lib/sunrsasign.jar</span><br><span class="line">file:/opt/jdk1.8.0_181/jre/lib/jsse.jar</span><br><span class="line">file:/opt/jdk1.8.0_181/jre/lib/jce.jar</span><br><span class="line">file:/opt/jdk1.8.0_181/jre/lib/charsets.jar</span><br><span class="line">file:/opt/jdk1.8.0_181/jre/lib/jfr.jar</span><br><span class="line">file:/opt/jdk1.8.0_181/jre/classes</span><br></pre></td></tr></table></figure><h5 id="212extensions-class-loader"><a class="markdownIt-Anchor" href="#212extensions-class-loader"></a> 2.1.2.Extensions class loader</h5><blockquote><p>ä½œç”¨: æ‰©å±•ç±»åŠ è½½å™¨ï¼ŒåŠ è½½JAVAæ‰©å±•ç±»åº“<br />å®ç°: Javaå®ç°<br />ç±»åŠ è½½å™¨: <code>sun.misc.Launcher$ExtClassLoader</code><br />ç±»åŠ è½½è·¯å¾„: <code>/jre/lib/ext</code></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(System.getProperty(<span class="string">&quot;java.ext.dirs&quot;</span>));</span><br><span class="line"></span><br><span class="line">/opt/jdk1<span class="number">.8</span><span class="number">.0_181</span>/jre/lib/ext:/usr/java/packages/lib/ext</span><br></pre></td></tr></table></figure><p>å®ç°åŸç†ï¼šæ‰©å±•ç±»åŠ è½½å™¨<code>ExtClassLoader</code>æœ¬è´¨ä¸Šæ˜¯<code>URLClassLoader</code>ã€‚</p><p>å‚è€ƒ<code>jdk8</code>ä¸­çš„<code>sun.misc.Launcher.java</code>æºç :</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Launcheræ„é€ æ–¹æ³•éƒ¨åˆ†ä»£ç ï¼Œè·å–ç±»åŠ è½½å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Launcher</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Launcher.ExtClassLoader var1; <span class="comment">// ExtClassLoader ç±»åŠ è½½å™¨</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 1. è·å–Extensions ç±»åŠ è½½å™¨</span></span><br><span class="line">        var1 = Launcher.ExtClassLoader.getExtClassLoader();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException var10) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> InternalError(<span class="string">&quot;Could not create extension class loader&quot;</span>, var10);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.loader = Launcher.AppClassLoader.getAppClassLoader(var1);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException var9) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> InternalError(<span class="string">&quot;Could not create application class loader&quot;</span>, var9);</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ExtClassLoader å®ç°</span></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ExtClassLoader</span> <span class="keyword">extends</span> <span class="title">URLClassLoader</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> Launcher.ExtClassLoader instance;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. è·å–Extensionsç±»åŠ è½½å™¨å®ä¾‹(instance)</span></span><br><span class="line">    <span class="comment">// å¯ä»¥çœ‹åˆ°æ˜¯ç”¨äº†ClassLevelLock(ç±»çº§åˆ«é”ï¼Œåœ¨è¯¥ç±»ä»¥åŠç±»çš„æ‰€æœ‰å®ä¾‹ä¸­ï¼Œ</span></span><br><span class="line">    <span class="comment">// åœ¨åŒä¸€æ—¶é—´å†…åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿè¿™ä¸€ä¸´ç•ŒåŒºCritical Section)å®ç°å®ä¾‹çš„</span></span><br><span class="line">    <span class="comment">// å•ä¾‹æ¨¡å¼(Singleton Pattern)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Launcher.<span class="function">ExtClassLoader <span class="title">getExtClassLoader</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            Class var0 = Launcher.ExtClassLoader.class;</span><br><span class="line">            <span class="keyword">synchronized</span>(Launcher.ExtClassLoader.class) &#123;</span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="comment">// 3. åˆ›å»ºExtensionsç±»åŠ è½½å™¨</span></span><br><span class="line">                    instance = createExtClassLoader();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 4. åˆ›å»ºExtensionsç±»åŠ è½½å™¨çš„å…·ä½“å®ç°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Launcher.<span class="function">ExtClassLoader <span class="title">createExtClassLoader</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> (Launcher.ExtClassLoader)AccessController.doPrivileged(<span class="keyword">new</span> PrivilegedExceptionAction&lt;Launcher.ExtClassLoader&gt;() &#123;</span><br><span class="line">                <span class="keyword">public</span> Launcher.<span class="function">ExtClassLoader <span class="title">run</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">                    <span class="comment">// 5. è·å–Extensionsç±»åŠ è½½å™¨åŠ è½½ç›®æ ‡ç±»çš„ç›®å½•</span></span><br><span class="line">                    File[] var1 = Launcher.ExtClassLoader.getExtDirs();</span><br><span class="line">                    <span class="keyword">int</span> var2 = var1.length;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> var3 = <span class="number">0</span>; var3 &lt; var2; ++var3) &#123;</span><br><span class="line">                        MetaIndex.registerDirectory(var1[var3]);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// 7 æ„é€ Extensionsç±»åŠ è½½å™¨</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> Launcher.ExtClassLoader(var1);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (PrivilegedActionException var1) &#123;</span><br><span class="line">            <span class="keyword">throw</span> (IOException)var1.getException();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addExtURL</span><span class="params">(URL var1)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.addURL(var1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 8. Extensionsç±»åŠ è½½å™¨æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ExtClassLoader</span><span class="params">(File[] var1)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(getExtURLs(var1), (ClassLoader)<span class="keyword">null</span>, Launcher.factory);</span><br><span class="line">        SharedSecrets.getJavaNetAccess().getURLClassPath(<span class="keyword">this</span>).initLookupCache(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 6. Extensionsç±»åŠ è½½å™¨åŠ è½½ç›®å½•è·¯å¾„</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> File[] getExtDirs() &#123;</span><br><span class="line">        <span class="comment">// å³ /jre/lib/ext ç›®å½•</span></span><br><span class="line">        String var0 = System.getProperty(<span class="string">&quot;java.ext.dirs&quot;</span>);</span><br><span class="line">        File[] var1;</span><br><span class="line">        <span class="keyword">if</span> (var0 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            StringTokenizer var2 = <span class="keyword">new</span> StringTokenizer(var0, File.pathSeparator);</span><br><span class="line">            <span class="keyword">int</span> var3 = var2.countTokens();</span><br><span class="line">            var1 = <span class="keyword">new</span> File[var3];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> var4 = <span class="number">0</span>; var4 &lt; var3; ++var4) &#123;</span><br><span class="line">                var1[var4] = <span class="keyword">new</span> File(var2.nextToken());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            var1 = <span class="keyword">new</span> File[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// var1(File[]):</span></span><br><span class="line">        <span class="comment">// /opt/jdk1.8.0_181/jre/lib/ext</span></span><br><span class="line">        <span class="comment">// /usr/java/packages/lib/ext</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="keyword">return</span> var1;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> URL[] getExtURLs(File[] var0) <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        Vector var1 = <span class="keyword">new</span> Vector();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> var2 = <span class="number">0</span>; var2 &lt; var0.length; ++var2) &#123;</span><br><span class="line">            <span class="comment">// File å¯¹è±¡çš„list()æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">            <span class="comment">// è¿™é‡Œä¼šè¿”å›ç±»åŠ è½½ç›®å½•ä¸‹çš„æ‰€æœ‰jaråŒ…ç­‰</span></span><br><span class="line">            String[] var3 = var0[var2].list();</span><br><span class="line">            <span class="keyword">if</span> (var3 != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> var4 = <span class="number">0</span>; var4 &lt; var3.length; ++var4) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (!var3[var4].equals(<span class="string">&quot;meta-index&quot;</span>)) &#123;</span><br><span class="line">                        File var5 = <span class="keyword">new</span> File(var0[var2], var3[var4]);</span><br><span class="line">                        var1.add(Launcher.getFileURL(var5));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        URL[] var6 = <span class="keyword">new</span> URL[var1.size()];</span><br><span class="line">        var1.copyInto(var6);</span><br><span class="line">        <span class="keyword">return</span> var6;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">findLibrary</span><span class="params">(String var1)</span> </span>&#123;</span><br><span class="line">        var1 = System.mapLibraryName(var1);</span><br><span class="line">        URL[] var2 = <span class="keyword">super</span>.getURLs();</span><br><span class="line">        File var3 = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> var4 = <span class="number">0</span>; var4 &lt; var2.length; ++var4) &#123;</span><br><span class="line">            URI var5;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                var5 = var2[var4].toURI();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (URISyntaxException var9) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            File var6 = Paths.get(var5).toFile().getParentFile();</span><br><span class="line">            <span class="keyword">if</span> (var6 != <span class="keyword">null</span> &amp;&amp; !var6.equals(var3)) &#123;</span><br><span class="line">                String var7 = VM.getSavedProperty(<span class="string">&quot;os.arch&quot;</span>);</span><br><span class="line">                File var8;</span><br><span class="line">                <span class="keyword">if</span> (var7 != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    var8 = <span class="keyword">new</span> File(<span class="keyword">new</span> File(var6, var7), var1);</span><br><span class="line">                    <span class="keyword">if</span> (var8.exists()) &#123;</span><br><span class="line">                        <span class="keyword">return</span> var8.getAbsolutePath();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                var8 = <span class="keyword">new</span> File(var6, var1);</span><br><span class="line">                <span class="keyword">if</span> (var8.exists()) &#123;</span><br><span class="line">                    <span class="keyword">return</span> var8.getAbsolutePath();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            var3 = var6;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> AccessControlContext <span class="title">getContext</span><span class="params">(File[] var0)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        PathPermissions var1 = <span class="keyword">new</span> PathPermissions(var0);</span><br><span class="line">        ProtectionDomain var2 = <span class="keyword">new</span> ProtectionDomain(<span class="keyword">new</span> CodeSource(var1.getCodeBase(), (Certificate[])<span class="keyword">null</span>), var1);</span><br><span class="line">        AccessControlContext var3 = <span class="keyword">new</span> AccessControlContext(<span class="keyword">new</span> ProtectionDomain[]&#123;var2&#125;);</span><br><span class="line">        <span class="keyword">return</span> var3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        ClassLoader.registerAsParallelCapable();</span><br><span class="line">        instance = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="213system-class-loader"><a class="markdownIt-Anchor" href="#213system-class-loader"></a> 2.1.3.System class loader</h5><blockquote><p>ä½œç”¨: ç³»ç»Ÿç±»åŠ è½½å™¨ï¼ŒåŠ è½½åº”ç”¨æŒ‡å®šç¯å¢ƒå˜é‡(classpath)è·¯å¾„ä¸‹çš„ç±»<br />ç±»åŠ è½½å™¨: <code>sun.misc.Launcher$AppClassLoader</code><br />å®ç°åŸç†: <code>AppClassLoader</code>æœ¬è´¨ä¸Šä¹Ÿæ˜¯<code>URLClassLoader</code></p></blockquote><p>å‚è€ƒ<code>jdk8</code>ä¸­çš„<code>sun.misc.Launcher.java</code>æºç :</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Launcheræ„é€ æ–¹æ³•éƒ¨åˆ†ä»£ç ï¼Œè·å–ç±»åŠ è½½å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Launcher</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Launcher.ExtClassLoader var1;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        var1 = Launcher.ExtClassLoader.getExtClassLoader();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException var10) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> InternalError(<span class="string">&quot;Could not create extension class loader&quot;</span>, var10);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 1. è·å–ç³»ç»Ÿç±»åŠ è½½å™¨AppClassLoader</span></span><br><span class="line">        <span class="keyword">this</span>.loader = Launcher.AppClassLoader.getAppClassLoader(var1);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException var9) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> InternalError(<span class="string">&quot;Could not create application class loader&quot;</span>, var9);</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// AppClassLoaderå…·ä½“å®ç°</span></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">AppClassLoader</span> <span class="keyword">extends</span> <span class="title">URLClassLoader</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> URLClassPath ucp = SharedSecrets.getJavaNetAccess().getURLClassPath(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. ä¸ä¸Šé¢æåˆ°çš„Extensionsç±»åŠ è½½å™¨ç±»ä¼¼ï¼Œå®ç°é€»è¾‘å·®ä¸å¤š</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ClassLoader <span class="title">getAppClassLoader</span><span class="params">(<span class="keyword">final</span> ClassLoader var0)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> String var1 = System.getProperty(<span class="string">&quot;java.class.path&quot;</span>);</span><br><span class="line">        <span class="keyword">final</span> File[] var2 = var1 == <span class="keyword">null</span> ? <span class="keyword">new</span> File[<span class="number">0</span>] : Launcher.getClassPath(var1);</span><br><span class="line">        <span class="keyword">return</span> (ClassLoader)AccessController.doPrivileged(<span class="keyword">new</span> PrivilegedAction&lt;Launcher.AppClassLoader&gt;() &#123;</span><br><span class="line">            <span class="keyword">public</span> Launcher.<span class="function">AppClassLoader <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                URL[] var1x = var1 == <span class="keyword">null</span> ? <span class="keyword">new</span> URL[<span class="number">0</span>] : Launcher.pathToURLs(var2);</span><br><span class="line">                <span class="comment">// 3. æ„é€ AppClassLoaderç±»åŠ è½½å™¨</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> Launcher.AppClassLoader(var1x, var0);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// AppClassLoaderæ„é€ æ–¹æ³•</span></span><br><span class="line">    AppClassLoader(URL[] var1, ClassLoader var2) &#123;</span><br><span class="line">        <span class="keyword">super</span>(var1, var2, Launcher.factory);</span><br><span class="line">        <span class="keyword">this</span>.ucp.initLookupCache(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Class&lt;?&gt; loadClass(String var1, <span class="keyword">boolean</span> var2) <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">        <span class="keyword">int</span> var3 = var1.lastIndexOf(<span class="number">46</span>);</span><br><span class="line">        <span class="keyword">if</span> (var3 != -<span class="number">1</span>) &#123;</span><br><span class="line">            SecurityManager var4 = System.getSecurityManager();</span><br><span class="line">            <span class="keyword">if</span> (var4 != <span class="keyword">null</span>) &#123;</span><br><span class="line">                var4.checkPackageAccess(var1.substring(<span class="number">0</span>, var3));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.ucp.knownToNotExist(var1)) &#123;</span><br><span class="line">            Class var5 = <span class="keyword">this</span>.findLoadedClass(var1);</span><br><span class="line">            <span class="keyword">if</span> (var5 != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (var2) &#123;</span><br><span class="line">                    <span class="keyword">this</span>.resolveClass(var5);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> var5;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> ClassNotFoundException(var1);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">super</span>.loadClass(var1, var2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> PermissionCollection <span class="title">getPermissions</span><span class="params">(CodeSource var1)</span> </span>&#123;</span><br><span class="line">        PermissionCollection var2 = <span class="keyword">super</span>.getPermissions(var1);</span><br><span class="line">        var2.add(<span class="keyword">new</span> RuntimePermission(<span class="string">&quot;exitVM&quot;</span>));</span><br><span class="line">        <span class="keyword">return</span> var2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">appendToClassPathForInstrumentation</span><span class="params">(String var1)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">assert</span> Thread.holdsLock(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">super</span>.addURL(Launcher.getFileURL(<span class="keyword">new</span> File(var1)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> AccessControlContext <span class="title">getContext</span><span class="params">(File[] var0)</span> <span class="keyword">throws</span> MalformedURLException </span>&#123;</span><br><span class="line">        PathPermissions var1 = <span class="keyword">new</span> PathPermissions(var0);</span><br><span class="line">        ProtectionDomain var2 = <span class="keyword">new</span> ProtectionDomain(<span class="keyword">new</span> CodeSource(var1.getCodeBase(), (Certificate[])<span class="keyword">null</span>), var1);</span><br><span class="line">        AccessControlContext var3 = <span class="keyword">new</span> AccessControlContext(<span class="keyword">new</span> ProtectionDomain[]&#123;var2&#125;);</span><br><span class="line">        <span class="keyword">return</span> var3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        ClassLoader.registerAsParallelCapable();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="22-è‡ªå®šä¹‰ç±»åŠ è½½å™¨"><a class="markdownIt-Anchor" href="#22-è‡ªå®šä¹‰ç±»åŠ è½½å™¨"></a> 2.2. è‡ªå®šä¹‰ç±»åŠ è½½å™¨</h4><p>JVMå†…ç½®çš„ç±»åŠ è½½å™¨åªåŠ è½½äº†æœ€å°‘éœ€è¦çš„æ ¸å¿ƒJAVAåŸºç¡€ç±»å’Œç¯å¢ƒå˜é‡ä¸‹çš„ç±»ï¼Œä½†æ˜¯æˆ‘ä»¬å¾€å¾€éœ€è¦ä¾èµ–ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶æ¥å®Œæˆé¢å¤–çš„ä¸šåŠ¡ï¼Œé‚£ä¹ˆå¦‚ä½•æŠŠå®ƒä»¬çš„ç±»åŠ è½½è¿›æ¥å°±æ˜¾å¾—æ ¼å¤–çš„é‡è¦ã€‚</p><p>å¹¸å¥½JVMæä¾›äº†è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å®Œæˆè‡ªå®šä¹‰æ“ä½œï¼Œæœ€ç»ˆçš„ç›®çš„ä¹Ÿæ˜¯å°†æˆ‘ä»¬éœ€è¦çš„ç±»åŠ è½½åˆ°JVMå†…å­˜ä¸­ã€‚</p><p>é€šè¿‡ç»§æ‰¿<code>ClassLoader</code>ç±»å¹¶é‡å†™(<em>Override</em>)<code>findClass</code>æ–¹æ³•å’Œ<code>loadClass</code>æ–¹æ³•å°±å¯ä»¥è¾¾åˆ°è‡ªå®šä¹‰è·å–<code>.class</code>æ–‡ä»¶çš„ç›®çš„ã€‚</p><p><code>ClassLoader</code>ä¸­çš„æ ¸å¿ƒæ–¹æ³•<code>loadClass</code>æ–¹æ³•:</p><p><code>java.lang.ClassLoader</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Loads the class with the specified &lt;a href=&quot;#name&quot;&gt;binary name&lt;/a&gt;.  The</span></span><br><span class="line"><span class="comment"> * default implementation of this method searches for classes in the</span></span><br><span class="line"><span class="comment"> * following order:</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;ol&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   &lt;li&gt;&lt;p&gt; Invoke &#123;<span class="doctag">@link</span> #findLoadedClass(String)&#125; to check if the class</span></span><br><span class="line"><span class="comment"> *   has already been loaded.  &lt;/p&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   &lt;li&gt;&lt;p&gt; Invoke the &#123;<span class="doctag">@link</span> #loadClass(String) &lt;tt&gt;loadClass&lt;/tt&gt;&#125; method</span></span><br><span class="line"><span class="comment"> *   on the parent class loader.  If the parent is &lt;tt&gt;null&lt;/tt&gt; the class</span></span><br><span class="line"><span class="comment"> *   loader built-in to the virtual machine is used, instead.  &lt;/p&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   &lt;li&gt;&lt;p&gt; Invoke the &#123;<span class="doctag">@link</span> #findClass(String)&#125; method to find the</span></span><br><span class="line"><span class="comment"> *   class.  &lt;/p&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;/ol&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt; If the class was found using the above steps, and the</span></span><br><span class="line"><span class="comment"> * &lt;tt&gt;resolve&lt;/tt&gt; flag is true, this method will then invoke the &#123;<span class="doctag">@link</span></span></span><br><span class="line"><span class="comment"> * #resolveClass(Class)&#125; method on the resulting &lt;tt&gt;Class&lt;/tt&gt; object.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt; Subclasses of &lt;tt&gt;ClassLoader&lt;/tt&gt; are encouraged to override &#123;<span class="doctag">@link</span></span></span><br><span class="line"><span class="comment"> * #findClass(String)&#125;, rather than this method.  &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt; Unless overridden, this method synchronizes on the result of</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> #getClassLoadingLock &lt;tt&gt;getClassLoadingLock&lt;/tt&gt;&#125; method</span></span><br><span class="line"><span class="comment"> * during the entire class loading process.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  name</span></span><br><span class="line"><span class="comment"> *         The &lt;a href=&quot;#name&quot;&gt;binary name&lt;/a&gt; of the class</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  resolve</span></span><br><span class="line"><span class="comment"> *         If &lt;tt&gt;true&lt;/tt&gt; then resolve the class</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>  The resulting &lt;tt&gt;Class&lt;/tt&gt; object</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span>  ClassNotFoundException</span></span><br><span class="line"><span class="comment"> *          If the class could not be found</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">protected</span> Class&lt;?&gt; loadClass(String name, <span class="keyword">boolean</span> resolve)</span><br><span class="line">    <span class="keyword">throws</span> ClassNotFoundException</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (getClassLoadingLock(name)) &#123;</span><br><span class="line">        <span class="comment">// First, check if the class has already been loaded</span></span><br><span class="line">        <span class="comment">// å…ˆåˆ¤æ–­ç±»æ˜¯å¦å·²ç»åŠ è½½</span></span><br><span class="line">        Class&lt;?&gt; c = findLoadedClass(name);</span><br><span class="line">        <span class="keyword">if</span> (c == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">long</span> t0 = System.nanoTime();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// åˆ¤æ–­é¡¶å±‚parentç±»åŠ è½½å™¨æ˜¯å¦ä¸ºnull, ä¸ä¸ºç©ºä½¿ç”¨å®ƒè¿›è¡ŒåŠ è½½</span></span><br><span class="line">                <span class="keyword">if</span> (parent != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    c = parent.loadClass(name, <span class="keyword">false</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// parent ä¸º null, ä½¿ç”¨ç³»ç»Ÿå†…ç½®ç±»åŠ è½½å™¨</span></span><br><span class="line">                    c = findBootstrapClassOrNull(name);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">                <span class="comment">// ClassNotFoundException thrown if class not found</span></span><br><span class="line">                <span class="comment">// from the non-null parent class loader</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (c == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="comment">// If still not found, then invoke findClass in order</span></span><br><span class="line">                <span class="comment">// to find the class.</span></span><br><span class="line">                <span class="comment">// ä»æ‰¾ä¸åˆ°ï¼Œæ‰§è¡ŒfindClassæ–¹æ³•ç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                <span class="keyword">long</span> t1 = System.nanoTime();</span><br><span class="line">                c = findClass(name);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// this is the defining class loader; record the stats</span></span><br><span class="line">                sun.misc.PerfCounter.getParentDelegationTime().addTime(t1 - t0);</span><br><span class="line">                sun.misc.PerfCounter.getFindClassTime().addElapsedTimeFrom(t1);</span><br><span class="line">                sun.misc.PerfCounter.getFindClasses().increment();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (resolve) &#123;  <span class="comment">// æ‰¾åˆ°ç±»ï¼Œè¿›è¡Œè§£æ</span></span><br><span class="line">            resolveClass(c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿”å›ç±»ç±»å‹å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªè‡ªå®šä¹‰ç±»åŠ è½½çš„ç®€å•ä¾‹å­: <code>UserDefinedClassLoaderExample.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> basical.test.userDefinedClassLoaderTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> rovo98</span></span><br><span class="line"><span class="comment"> * date: 2019.04.06 23:42</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDefinedClassLoaderExample</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Driver the program to test the methods</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args command-line arguments.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// å®šä¹‰è¦åŠ è½½ç±»çš„å®Œå…¨é™å®šå</span></span><br><span class="line">            String className = <span class="string">&quot;basical.test.userDefinedClassLoaderTest.UserDefinedClassLoaderExample$Demo&quot;</span>;</span><br><span class="line">            Class&lt;?&gt; class1 = Demo.class; <span class="comment">// ç”¨ç³»ç»Ÿé»˜è®¤ç±»åŠ è½½å™¨åŠ è½½(AppClassLoader)</span></span><br><span class="line">            <span class="comment">// ç”¨æˆ‘ä»¬è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨åŠ è½½</span></span><br><span class="line">            Class&lt;?&gt; class2 = <span class="keyword">new</span> UserDefinedClassLoader(<span class="string">&quot;/home/rovo98/rovo98-dev-resources/ideaProjects/JavaDataStructure/out/production/DataStructureAndAlgorithmWithJavaImplement&quot;</span>)</span><br><span class="line">                    .loadClass(className);</span><br><span class="line">            System.out.println(<span class="string">&quot;---------------------------Class Name--------------------------------------&quot;</span>);</span><br><span class="line">            System.out.println(class1.getName());</span><br><span class="line">            System.out.println(class2.getName());</span><br><span class="line">            System.out.println(<span class="string">&quot;---------------------------ClassLoader Name-------------------------------&quot;</span>);</span><br><span class="line">            System.out.println(class1.getClassLoader());</span><br><span class="line">            System.out.println(class2.getClassLoader());</span><br><span class="line">            Demo.example = <span class="number">1</span>; <span class="comment">// ä¿®æ”¹çš„æ˜¯ç³»ç»Ÿé»˜è®¤ç±»åŠ è½½å™¨åŠ è½½è¿›å»çš„ç±»</span></span><br><span class="line">            System.out.println(<span class="string">&quot;---------------------------Field Value------------------------------------&quot;</span>);</span><br><span class="line">            System.out.println(class1.getDeclaredField(<span class="string">&quot;example&quot;</span>).get(<span class="keyword">null</span>));</span><br><span class="line">            System.out.println(class2.getDeclaredField(<span class="string">&quot;example&quot;</span>).get(<span class="keyword">null</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span>(ClassNotFoundException | NoSuchFieldException | IllegalAccessException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * A demo class to be loaded to test the &#123;<span class="doctag">@code</span> UserDefinedClassLoader&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> example = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * UserDefined class loader.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDefinedClassLoader</span> <span class="keyword">extends</span> <span class="title">ClassLoader</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> String classPath;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * default constructor</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@param</span> classPath the class path of the specify class to be loaded.</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">UserDefinedClassLoader</span><span class="params">(String classPath)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.classPath = classPath;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Class&lt;?&gt; loadClass(String name) <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">            <span class="keyword">if</span> (!name.contains(<span class="string">&quot;java.lang&quot;</span>)) &#123; <span class="comment">// æ’é™¤åŠ è½½ç³»ç»Ÿçš„æ ¸å¿ƒç±»</span></span><br><span class="line">                <span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    data = loadByte(name);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> defineClass(name, data, <span class="number">0</span>, data.length);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">super</span>.loadClass(name);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * Loading binary class file into the memory</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@param</span> name the name of the class file to be loaded.</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@return</span> binary data of the class file to be loaded.</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="meta">@SuppressWarnings(&quot;ResultOfMethodCallIgnored&quot;)</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">byte</span>[] loadByte(String name) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">            name = name.replaceAll(<span class="string">&quot;\\.&quot;</span>, <span class="string">&quot;/&quot;</span>);</span><br><span class="line">            String dir = classPath + <span class="string">&quot;/&quot;</span> + name + <span class="string">&quot;.class&quot;</span>;</span><br><span class="line">            FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(dir);</span><br><span class="line">            <span class="keyword">int</span> len = fileInputStream.available();</span><br><span class="line">            <span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[len];</span><br><span class="line">            fileInputStream.read(data);</span><br><span class="line">            fileInputStream.close();</span><br><span class="line">            <span class="keyword">return</span> data;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Console output:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---------------------------Class Name--------------------------------------</span><br><span class="line">basical.test.userDefinedClassLoaderTest.UserDefinedClassLoaderExample$Demo</span><br><span class="line">basical.test.userDefinedClassLoaderTest.UserDefinedClassLoaderExample$Demo</span><br><span class="line">---------------------------ClassLoader Name-------------------------------</span><br><span class="line">sun.misc.Launcher$AppClassLoader@18b4aac2</span><br><span class="line">basical.test.userDefinedClassLoaderTest.UserDefinedClassLoaderExample$UserDefinedClassLoader@6d6f6e28</span><br><span class="line">---------------------------Field Value------------------------------------</span><br><span class="line">1</span><br><span class="line">0</span><br></pre></td></tr></table></figure><p>ä»æ‰§è¡Œç»“æœå¯ä»¥çœ‹åˆ°ï¼ŒåŠ è½½åˆ°å†…å­˜ä¸­çš„ä¸¤ä¸ªç±»çš„åŒ…å+å…¨ç§°é™å®šåæ˜¯ç›¸åŒçš„, è€Œå¯¹åº”çš„ç±»åŠ è½½å™¨å´æ˜¯ä¸åŒçš„ï¼Œè¾“å‡ºçš„è¢«åŠ è½½ç±»çš„å€¼ä¹Ÿæ˜¯ä¸åŒçš„ã€‚</p><h3 id="3-åŠ è½½æœºåˆ¶"><a class="markdownIt-Anchor" href="#3-åŠ è½½æœºåˆ¶"></a> 3. åŠ è½½æœºåˆ¶</h3><p>ç±»åŠ è½½æœºåˆ¶æ˜¯è§„å®šç±»åŠ è½½å™¨å¦‚ä½•åŠ è½½<code>.class</code>ç±»æ–‡ä»¶åˆ°JVMå†…å­˜åŒºåŸŸä¸­ä»¥åŠå¦‚ä½•ç®¡ç†çš„è§„åˆ™ã€‚</p><h4 id="31-åŒäº²å§”æ´¾æœºåˆ¶"><a class="markdownIt-Anchor" href="#31-åŒäº²å§”æ´¾æœºåˆ¶"></a> 3.1 åŒäº²å§”æ´¾æœºåˆ¶</h4><blockquote><p>Parent-Delegation Principle or Delegation-Hierarchy principle</p></blockquote><p>å®šä¹‰ï¼šæŸä¸ªç‰¹å®šçš„ç±»åŠ è½½å™¨åœ¨æ¥åˆ°åŠ è½½ç±»çš„è¯·æ±‚åï¼Œé¦–å…ˆå°†è¯·æ±‚å§”æ‰˜ç»™å®ƒçš„ä¸Šä¸€çº§çˆ¶ç±»åŠ è½½å™¨ï¼Œä¾æ¬¡é€’å½’ï¼ŒçŸ¥é“æœ€é¡¶å±‚<code>Bootstrap</code>ç±»åŠ è½½å™¨ï¼Œå¦‚æœèƒ½å¤ŸåŠ è½½ï¼Œåˆ™æˆåŠŸè¿”å›ï¼Œå¦åˆ™ï¼Œå°†ç±»çš„åŠ è½½è¯·æ±‚ä¾æ¬¡å¾€ä¸‹ä¸€çº§åˆ«çš„ç±»åŠ è½½å™¨ä¼ é€’ï¼Œé€’å½’ï¼Œæ­¤è¿‡ç¨‹ä¸­ï¼Œå¦‚æœç±»æ‰¾åˆ°åˆ™æˆåŠŸåŠ è½½ï¼Œå¦åˆ™åˆ°æœ€åå°†æŠ›å‡º<code>ClassNotFound</code>å¼‚å¸¸ã€‚</p><div class="note info"><p>ç®€å•çš„æ¥è¯´ï¼ŒåŒäº²å§”æ´¾åŸåˆ™å¯¹äºå½“å‰ç±»åŠ è½½å™¨ï¼Œé¦–å…ˆä¼šå°†åŠ è½½ç±»çš„è¯·æ±‚(<em>classloading request</em>)å§”æ‰˜ç»™å®ƒçš„çˆ¶ç±»åŠ è½½å™¨ï¼Œåªæœ‰å®ƒçˆ¶ç±»åŠ è½½å™¨æ— æ³•åŠ è½½è¯·æ±‚çš„ç±»æ—¶ï¼Œå®ƒæ‰ä¼šå»å“åº”ç±»åŠ è½½è¯·æ±‚å¹¶å°è¯•åŠ è½½ç±»ã€‚</p></div><p>å®ç°ï¼šå‚è€ƒ<code>java.lang.ClassLoader.java</code>ä¸­çš„<code>loadClass</code>æ–¹æ³•ã€‚</p><div class="note warning"><p>ä»Java SE JVM è§„èŒƒæ–‡æ¡£ä¸­äº†è§£åˆ°ï¼Œ<code>java.lang.ClassLoader</code>åŠå…¶å­ç±»ä¸­çš„æ„é€ å‡½æ•°å…è®¸æˆ‘ä»¬åœ¨å®ä¾‹åŒ–æ–°çš„ç±»åŠ è½½å™¨æ—¶æŒ‡å®šçˆ¶çº§ç±»åŠ è½½å™¨ã€‚å¦‚æœæœªæ˜ç¡®çˆ¶çº§ï¼Œåˆ™é»˜è®¤ä½¿ç”¨JVMçš„é»˜è®¤ç±»åŠ è½½å™¨ä½œä¸ºçˆ¶çº§åŠ è½½å™¨ã€‚</p><p><code>ClassLoader</code>ä¸­çš„<code>loadClass</code>ä¸»è¦åšä¸‰ä»¶äº‹æƒ…(ä»ä¸Šé¢ç»™çš„æºç æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ°):</p><ul><li>1.å¦‚æœå·²ç»ç±»åŠ è½½ç›´æ¥è¿”å›è¯¥ç±»ï¼›</li><li>2.å¦åˆ™ï¼Œå°†åŠ è½½ç±»çš„è¯·æ±‚å§”æ‰˜ç»™çˆ¶çº§ç±»åŠ è½½å™¨ï¼›</li><li>3.å¦‚æœçˆ¶çº§ç±»åŠ è½½å™¨æœªæ‰¾åˆ°è¯¥ç±»ï¼Œåˆ™è°ƒç”¨<code>findClass</code>æ–¹æ³•æ¥åŠ è½½ã€‚</li></ul><p>å¦‚æœçˆ¶çº§ç±»åŠ è½½å™¨æ‰¾ä¸åˆ°ç±»ï¼Œåˆ™<code>ClassLoader</code>çš„<code>findClass</code>æ–¹æ³•å°†åœ¨å½“å‰ç±»åŠ è½½å™¨ä¸­æœç´¢è¯¥ç±»ã€‚åœ¨åº”ç”¨ç¨‹åºä¸­å®ä¾‹åŒ–ç±»åŠ è½½å™¨å­ç±»ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè¦†ç›–(<code>Overriding</code>)æ­¤æ–¹æ³•ã€‚</p><p><code>java.net.URLClassLoader</code>ç±»ä½œä¸ºåŸºæœ¬ç±»åŠ è½½å™¨çš„æ‰©å±•å’Œå…¶ä»–jaræ–‡ä»¶ï¼Œè¦†ç›–<code>java.lang.ClassLoader</code>çš„<code>findClass</code>æ–¹æ³•ï¼Œå¯ä»¥æœç´¢ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®šçš„<code>URL</code>ä»¥è·å–ç±»å’Œèµ„æºã€‚</p></div><ul><li><strong>visibility principle</strong></li></ul><blockquote><p>Visibility principle allows child class loader to see all the classes loaded by parent ClassLoader, but parent class loader can not see classes loaded by child.</p></blockquote><p>å¯è§æ€§åŸåˆ™: çˆ¶ç±»åŠ è½½å™¨åŠ è½½çš„æ‰€æœ‰ç±»å¯¹äºå…¶å­ç±»åŠ è½½å™¨éƒ½æ˜¯æ˜¯å¯è§çš„ï¼Œä½†æ˜¯è‡ªç±»åŠ è½½å™¨çš„åŠ è½½çš„ç±»å¯¹äºçˆ¶ç±»åŠ è½½å™¨æ˜¯ä¸å¯è§çš„ã€‚</p><p>ç®€å•éªŒè¯ï¼šå‡è®¾æˆ‘ä»¬éšä¾¿å†™ä¸€ä¸ªç±»ï¼Œç„¶åæ˜¾å¼åœ°(explicitly)ç”¨è¿™ä¸ªç±»çš„ç±»åŠ è½½å™¨(<code>AppClassLoader</code>)çš„çˆ¶ç±»åŠ è½½å™¨(<code>ExtClassLoader</code>)æ¥åŠ è½½åŒä¸€ä¸ªç±»ï¼Œç„¶åéªŒè¯å®ƒä»¬æ—¶å€™æ˜¯åŒä¸€ä¸ªç±»ã€‚</p><blockquote><p>ps: å¦‚æœå­ç±»åŠ è½½å™¨åŠ è½½çš„ç±»å¯¹äºå…¶çˆ¶ç±»åŠ è½½æ˜¯å¯è§çš„ï¼Œé‚£ä¹ˆåº”è¯¥æ˜¯åŒä¸€ä¸ªç±»ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rovo98.miscExamples.classLoading;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.logging.Level;</span><br><span class="line"><span class="keyword">import</span> java.util.logging.Logger;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> rovo98</span></span><br><span class="line"><span class="comment"> * date: 2019.04.08 22:36</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VisibilityPrincipleTest</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Driver the program to test the visibility principle in class loading.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args command-line arguments.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ClassLoader classLoader = VisibilityPrincipleTest.class.getClassLoader();</span><br><span class="line">            <span class="comment">// print out the class loader of this class.</span></span><br><span class="line">            System.out.println(<span class="string">&quot;VisibilityPrincipleTest&#x27;s class loader is &quot;</span> + classLoader);</span><br><span class="line">            ClassLoader parentClassLoader = classLoader.getParent();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// loading this class using its parent class loader</span></span><br><span class="line">            Class.forName(<span class="string">&quot;com.rovo98.miscExamples.classLoading.VisibilityPrincipleTest&quot;</span>,</span><br><span class="line">                    <span class="keyword">true</span>, parentClassLoader);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            Logger.getLogger(VisibilityPrincipleTest.class.getName()).log(Level.SEVERE, <span class="keyword">null</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Output</strong>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">VisibilityPrincipleTest&#x27;s class loader is sun.misc.Launcher$AppClassLoader@18b4aac2</span><br><span class="line">java.lang.ClassNotFoundException: com.rovo98.miscExamples.classLoading.VisibilityPrincipleTest</span><br><span class="line">at java.net.URLClassLoader.findClass(URLClassLoader.java:381)</span><br><span class="line">at java.lang.ClassLoader.loadClass(ClassLoader.java:424)</span><br><span class="line">at java.lang.ClassLoader.loadClass(ClassLoader.java:357)</span><br><span class="line">at java.lang.Class.forName0(Native Method)</span><br><span class="line">at java.lang.Class.forName(Class.java:348)</span><br><span class="line">at com.rovo98.miscExamples.classLoading.VisibilityPrincipleTest.main(VisibilityPrincipleTest.java:24)</span><br><span class="line">Apr 08, 2019 10:42:41 PM com.rovo98.miscExamples.classLoading.VisibilityPrincipleTest main</span><br><span class="line">SEVERE: null</span><br><span class="line">java.lang.ClassNotFoundException: com.rovo98.miscExamples.classLoading.VisibilityPrincipleTest</span><br><span class="line">at java.net.URLClassLoader.findClass(URLClassLoader.java:381)</span><br><span class="line">at java.lang.ClassLoader.loadClass(ClassLoader.java:424)</span><br><span class="line">at java.lang.ClassLoader.loadClass(ClassLoader.java:357)</span><br><span class="line">at java.lang.Class.forName0(Native Method)</span><br><span class="line">at java.lang.Class.forName(Class.java:348)</span><br><span class="line">at com.rovo98.miscExamples.classLoading.VisibilityPrincipleTest.main(VisibilityPrincipleTest.java:24)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure><ul><li><strong>uniqueness principle</strong></li></ul><blockquote><p>Uniqueness principle allows to load a class exactly once, which i sbasically achieved by delegation and ensures that child ClassLoader doesnâ€™t reload the class already loaded by parent.</p></blockquote><p>å”¯ä¸€æ€§åŸåˆ™ï¼Œä¸€ä¸ªç±»åªåŠ è½½ä¸€æ¬¡ï¼ŒåŒäº²å§”æ´¾åŸåˆ™å·²ç»å®ç°äº†è¿™ä¸€åŸåˆ™ã€‚</p><p><img data-src="jvmclassloader.jpg" alt="" /></p><p>åŒäº²å§”æ´¾æœºåˆ¶æ¯”è¾ƒå¥½ç†è§£ï¼Œç›®çš„æ˜¯ä¸ºäº†<strong>ä¸é‡å¤åŠ è½½å·²ç»åŠ è½½çš„ç±», æé«˜æ•ˆç‡</strong>, è¿˜æœ‰å°±æ˜¯<strong>å¼ºåˆ¶ä»æœ€é¡¶å±‚çš„ç±»åŠ è½½å™¨å¼€å§‹æœç´¢ç±»æ–‡ä»¶ï¼Œç¡®ä¿æ ¸å¿ƒåŸºç¡€ç±»ä¼˜å…ˆåŠ è½½</strong>ã€‚</p><p>ä¸‹é¢ä»‹ç»<strong>ç ´ååŒäº²å§”æ´¾æœºåˆ¶</strong>, äº†è§£ä¸ºä»€å¹ºè¦ç ´åçœ‹ä¼¼å¾ˆå¥½çš„åŒäº²å§”æ´¾æœºåˆ¶ã€‚</p><h4 id="32-ç ´ååŒäº²å§”æ´¾æœºåˆ¶"><a class="markdownIt-Anchor" href="#32-ç ´ååŒäº²å§”æ´¾æœºåˆ¶"></a> 3.2 ç ´ååŒäº²å§”æ´¾æœºåˆ¶</h4><h5 id="321-å”¯ä¸€æ ‡è¯†"><a class="markdownIt-Anchor" href="#321-å”¯ä¸€æ ‡è¯†"></a> 3.2.1. å”¯ä¸€æ ‡è¯†</h5><p>å¯¹äºä»»æ„çš„ä¸€ä¸ªç±»ï¼Œéƒ½éœ€è¦ç”±<strong>åŠ è½½å®ƒçš„ç±»åŠ è½½å™¨</strong>å’Œè¿™ä¸ª<strong>ç±»æœ¬èº«</strong>æ¥ä¸€åŒç¡®å®šå…¶åœ¨Javaè™šæ‹Ÿæœºä¸­<strong>å”¯ä¸€æ€§</strong>ã€‚</p><p>éªŒè¯ä¾‹å­: <code>DifferentClassLoaderTest.java</code></p><p>åˆ¤æ–­ä¸€ä¸ªç±»æ˜¯å¦ç›¸åŒï¼Œé€šå¸¸ç”¨<code>equals()</code>æ–¹æ³•ï¼Œ<code>isInstance()</code>æ–¹æ³•å’Œ<code>isAssignableFrom()</code>æ–¹æ³•æ¥åˆ¤æ–­ï¼Œå¯¹äºåŒä¸€ç±»ï¼Œå¦‚æœæ²¡ç”¨é‡‡ç”¨ç›¸åŒçš„ç±»åŠ è½½å™¨æ¥åŠ è½½ï¼Œé‚£ä¹ˆå³ä½¿æ˜¯åŒä¸€ä¸ªç±»ï¼ŒJVMä¹Ÿæ˜¯åˆ¤æ–­å®ƒä¸ºä¸åŒç±»çš„(å”¯ä¸€æ ‡è¯†ä¸åŒ)ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> basical.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> rovo98</span></span><br><span class="line"><span class="comment"> * date: 2019.04.07 17:47</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DifferentClassLoaderTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Driver the program to test</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args command-line arguments.</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception if ClassNotFoundException throws</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// a user defined classloader</span></span><br><span class="line">        ClassLoader classLoader = <span class="keyword">new</span> ClassLoader() &#123;</span><br><span class="line">            <span class="meta">@SuppressWarnings(&quot;ResultOfMethodCallIgnored&quot;)</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Class&lt;?&gt; loadClass(String name) <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">                String fileName = name.substring(name.lastIndexOf(<span class="string">&quot;.&quot;</span>) + <span class="number">1</span>) + <span class="string">&quot;.class&quot;</span>;</span><br><span class="line">                InputStream stream = getClass().getResourceAsStream(fileName);</span><br><span class="line">                <span class="keyword">if</span> (stream == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">super</span>.loadClass(name);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[stream.available()];</span><br><span class="line">                    <span class="comment">// å°†æµå†™å…¥å­—èŠ‚æ•°ç»„bä¸­</span></span><br><span class="line">                    stream.read(b);</span><br><span class="line">                    <span class="keyword">return</span> defineClass(name, b, <span class="number">0</span>, b.length);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">super</span>.loadClass(name);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Object obj = classLoader.loadClass(<span class="string">&quot;basical.test.DifferentClassLoaderTest&quot;</span>).newInstance();</span><br><span class="line">        System.out.println(obj.getClass());</span><br><span class="line">        System.out.println(obj <span class="keyword">instanceof</span> DifferentClassLoaderTest);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Output:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">class basical.test.DifferentClassLoaderTest</span><br><span class="line">false</span><br></pre></td></tr></table></figure><p>å¦‚æœåœ¨é€šè¿‡å®ä¾‹åŒ–çš„ä½¿ç”¨ï¼Œç›´æ¥è½¬åŒ–æˆ<code>DifferentClassLoaderTest</code>å¯¹è±¡:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object obj = (DifferentClassLoaderTest) classLoader.loadClass(<span class="string">&quot;basical.test.DifferentClassLoaderTest&quot;</span>).newInstance();</span><br></pre></td></tr></table></figure><p>å°±ä¼šæŠ¥<code>java.lang.ClassCastException</code>, å› ä¸ºä¸¤è€…ä¸å±äºåŒä¸€ç±»åŠ è½½å™¨åŠ è½½ï¼Œæ‰€ä»¥ä¸èƒ½è½¬åŒ–ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.lang.ClassCastException: basical.test.DifferentClassLoaderTest cannot be cast to basical.test.DifferentClassLoaderTest</span><br><span class="line">at basical.test.DifferentClassLoaderTest.main(DifferentClassLoaderTest.java:40)</span><br></pre></td></tr></table></figure><h5 id="322-ä¸ºä»€ä¹ˆéœ€è¦ç ´ååŒäº²å§”æ´¾æœºåˆ¶"><a class="markdownIt-Anchor" href="#322-ä¸ºä»€ä¹ˆéœ€è¦ç ´ååŒäº²å§”æ´¾æœºåˆ¶"></a> 3.2.2. ä¸ºä»€ä¹ˆéœ€è¦ç ´ååŒäº²å§”æ´¾æœºåˆ¶</h5><p>åœ¨æŸäº›æ—¶å€™çˆ¶ç±»åŠ è½½å™¨éœ€è¦å§”æ‰˜å­ç±»åŠ è½½å™¨å»åŠ è½½<code>.class</code>æ–‡ä»¶ã€‚å—åˆ°åŠ è½½èŒƒå›´çš„é™åˆ¶ï¼Œçˆ¶ç±»åŠ è½½å™¨æ— æ³•åŠ è½½åˆ°éœ€è¦çš„æ–‡ä»¶ï¼Œä»¥<code>Driver</code>æ¥å£ä¸ºä¾‹ï¼Œç”±äº<code>Driver</code>æ¥å£å®šä¹‰åœ¨JDKä¸­ï¼Œè€Œå…¶å®ç°ç”±å„ä¸ªæ•°æ®åº“çš„æœåŠ¡å•†æ¥æä¾›ï¼Œæ¯”å¦‚MySQLçš„å°±å†™äº†<code>MySQL Connector</code>ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œ<code>DriverManager</code>ï¼ˆä¹Ÿç”±JDKæä¾›ï¼‰è¦åŠ è½½å„ä¸ªå®ç°<code>Driver</code>æ¥å£çš„å®ç°ç±»ï¼Œç„¶åè¿›è¡Œç®¡ç†ï¼Œä½†æ˜¯<code>DriverManager</code>ç”±<code>Bootstrap</code>ç±»åŠ è½½å™¨åŠ è½½ï¼Œåªèƒ½è®°è½½<code>JAVA_HOME</code>çš„<code>lib</code>ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œè€Œå…¶å®å®ç°æ˜¯ç”±æœåŠ¡å•†æä¾›çš„ï¼Œç”±ç³»ç»Ÿç±»åŠ è½½å™¨åŠ è½½ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦<code>Bootstrap</code>ç±»åŠ è½½å™¨æ¥å§”æ‰˜å­ç±»åŠ è½½å™¨æ¥åŠ è½½<code>Driver</code>å®ç°ï¼Œä»è€Œç ´åäº†åŒäº²å§”æ´¾ï¼Œè¿™ä»…ä»…æ˜¯ç ´ååŒäº²å§”æ´¾æœºåˆ¶çš„ä¸€ä¸ªç®€å•ä¾‹å­ã€‚</p><h5 id="323-ç ´ååŒäº²å§”æ´¾æœºåˆ¶çš„å®ç°"><a class="markdownIt-Anchor" href="#323-ç ´ååŒäº²å§”æ´¾æœºåˆ¶çš„å®ç°"></a> 3.2.3. ç ´ååŒäº²å§”æ´¾æœºåˆ¶çš„å®ç°</h5><p>æ—¢ç„¶æˆ‘ä»¬å·²ç»çŸ¥é“äº†ä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æœºåˆ¶(<em>Delegation-Hierarchy Principle or Parent-Delegation principle</em>)ï¼Œ é‚£ä¹ˆå®ç°ç ´ååŒäº²å§”æ´¾æœºåˆ¶è¦åšçš„å°±æ˜¯æ‰“ç ´åŒäº²å§”æ´¾æœºåˆ¶æŒ‡å®šçš„è§„åˆ™ã€‚</p><p>å…·ä½“å®ç°å¤§æ¦‚å°±æ˜¯è‡ªå®šä¹‰ç±»åŠ è½½ï¼Œé€šè¿‡å¤å†™<code>loadClass</code>å’Œ<code>findClass</code>æ¥å®ç°ã€‚è¿™é‡Œå°±ä¸å†å±•å¼€æ¢è®¨ã€‚</p><div class="note primary"><p>å‚è€ƒè¿æ¥:</p><ul><li><a href="https://www.geeksforgeeks.org/jvm-works-jvm-architecture/">https://www.geeksforgeeks.org/jvm-works-jvm-architecture/</a></li><li><a href="http://www.cnblogs.com/joemsu/p/9310226.html">http://www.cnblogs.com/joemsu/p/9310226.html</a></li><li><a href="https://docs.oracle.com/javase/tutorial/ext/basics/load.html">https://docs.oracle.com/javase/tutorial/ext/basics/load.html</a></li><li><a href="https://dzone.com/articles/demystify-java-class-loading">https://dzone.com/articles/demystify-java-class-loading</a></li></ul></div><h3 id="4-åŠ è½½è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#4-åŠ è½½è¿‡ç¨‹"></a> 4. åŠ è½½è¿‡ç¨‹</h3><p>é€šè¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œæˆ‘ä»¬å·²ç»å¤§è‡´äº†è§£äº†ç±»åŠ è½½å™¨çš„å·¥ä½œåŸç†ã€‚ä¸‹é¢ä¸»è¦äº†è§£çš„æ˜¯JVMåŠ è½½ç±»çš„è¿‡ç¨‹ã€‚</p><p>å³JVMç±»çš„åŠ è½½å­ç³»ç»Ÿåˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿ</p><p>ç®€å•çš„æ¥è¯´ï¼Œç±»çš„åŠ è½½åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µ: <em>loading</em>(<strong>åŠ è½½</strong>)ã€<em>linking</em>(<strong>é“¾æ¥</strong>)ã€<em>intiailising</em>(<strong>åˆå§‹åŒ–</strong>)ã€‚</p><p><img data-src="jvm-1-class-loading-phases.gif" alt="" /></p><h4 id="41-åŠ è½½-loading"><a class="markdownIt-Anchor" href="#41-åŠ è½½-loading"></a> 4.1. åŠ è½½ - loading</h4><p>è¿™ä¸€é˜¶æ®µå°±æ˜¯æŠŠ<code>.class</code>ç±»æ–‡ä»¶ä»¥äºŒè¿›åˆ¶æ•°æ®çš„å½¢å¼åŠ è½½åˆ°JVMçš„å†…å­˜åŒºä¸­çš„æ–¹æ³•åŒº(Method Area, JVMå†…å­˜åŒºéƒ¨åˆ†å†…å®¹ä¼šè®²åˆ°)ä¸­ã€‚ç”±ç±»åŠ è½½å™¨æ¥å®Œæˆï¼Œæˆ‘ä»¬ç®€å•äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ—¶å€™ä¼šè§¦å‘JVMå»åŠ è½½å¤–éƒ¨çš„<code>.class</code>ç±»æ–‡ä»¶:</p><ul><li>æ˜¾å¼çš„å­—èŠ‚ç æŒ‡ä»¤é›†(<code>new/getstatic/putstatic/invokestatic</code>): å¯¹åº”çš„åœºæ™¯å°±æ˜¯åˆ›å»ºå¯¹è±¡æˆ–è€…è°ƒç”¨åˆ°ç±»æ–‡ä»¶çš„é™æ€å˜é‡/é™æ€æ–¹æ³•/é™æ€ä»£ç å—;</li><li>åå°„: é€šè¿‡å¯¹è±¡åå°„è·å–ç±»å¯¹è±¡æ—¶;</li><li>ç»§æ‰¿: åˆ›å»ºå­ç±»è§¦å‘çˆ¶ç±»åŠ è½½;</li><li>å…¥å£: åŒ…å«<code>main</code>æ–¹æ³•çš„ç±»é¦–å…ˆè¢«åŠ è½½ã€‚</li></ul><p>éœ€è¦çŸ¥é“çš„æ˜¯ï¼ŒJVMåªå®šäº†ç±»åŠ è½½å™¨çš„è§„èŒƒï¼Œä½†æ˜¯å´ä¸æ˜ç¡®çš„è§„å®šç±»åŠ è½½å™¨çš„ç›®æ ‡æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒJVMæŠŠå…·ä½“åŠ è½½ç±»çš„é€»è¾‘äº¤ç»™ç”¨æˆ·æ¥å¤„ç†ï¼Œæˆ‘ä»¬å¯ä»¥ä»ç¡¬ç›˜ã€ç½‘ç»œã€ä¸­é—´æ–‡ä»¶ç­‰æ¥åŠ è½½<code>.class</code>æ–‡ä»¶ï¼Œåªè¦åŠ è½½è¿›å»å†…å­˜çš„äºŒè¿›åˆ¶æ•°æ®ç¬¦åˆJVMè§„å®šçš„æ ¼å¼ï¼Œéƒ½æ˜¯åˆæ³•çš„ã€‚</p><h4 id="42-é“¾æ¥-linking"><a class="markdownIt-Anchor" href="#42-é“¾æ¥-linking"></a> 4.2. é“¾æ¥ - linking</h4><p>ç±»åŠ è½½åˆ°JVMçš„å†…å­˜åŒºä¸­åï¼Œåœ¨<strong>é“¾æ¥</strong> é˜¶æ®µè¦ç»è¿‡<strong>éªŒè¯(verifing)</strong>ã€<strong>å‡†å¤‡(preparation)</strong>ã€**è§£æ(Resolving)**ä¸‰ä¸ªé˜¶æ®µçš„å¤„ç†ã€‚</p><ul><li><strong>éªŒè¯(Bytecode verification)</strong>: ä¸»è¦åŒ…å«å¯¹ç±»æ–‡ä»¶å¯¹åº”å†…å­˜äºŒè¿›åˆ¶æ•°æ®çš„æ ¼å¼ã€è¯­ä¹‰å…³è”ã€è¯­æ³•é€»è¾‘å’Œç¬¦å·å¼•ç”¨(Symbolic Reference)çš„éªŒè¯ï¼Œ å¦‚æœéªŒè¯ä¸é€šè¿‡åˆ™æŠ›å‡º<code>VerifyError</code>é”™è¯¯ã€‚ä½†æ˜¯è¯¥é˜¶æ®µæ˜¯ä¸å¼ºåˆ¶æ€§æ‰§è¡Œçš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŒ‡å®šJVMçš„å‚æ•°<code>-Xverify:none</code>æ¥å…³é—­ï¼Œæé«˜æ€§èƒ½(åœ¨ç¡®ä¿å­—èŠ‚ç æ•°æ®æ— éœ€å†éªŒè¯çš„æƒ…å†µä¸‹);</li><li><strong>å‡†å¤‡(Class preparation)</strong>: å½“æˆ‘ä»¬é€šè¿‡éªŒè¯é˜¶æ®µåï¼Œå†…å­˜çš„æ–¹æ³•åŒºå­˜æ”¾çš„æ˜¯è¢«â€œç´§å¯†å‹ç¼©â€çš„æ•°æ®æ®µï¼Œåœ¨è¿™ä¸ªé˜¶æ®µä¼šå¯¹é™æ€(<em>static</em>)å˜é‡è¿›è¡Œå†…å­˜åˆ†é…ï¼Œæ‰©å±•å†…å­˜æ®µçš„ç©ºé—´ï¼Œä½†æ˜¯<strong>è¿˜æœªåˆå§‹åŒ–æ•°æ®ï¼Œå³è¿˜æ˜¯</strong><code>0</code><strong>æˆ–</strong><code>null</code>;</li><li><strong>è§£æ(Resolving)</strong>: æŠŠæ–¹æ³•åŒºä¸­çš„æ‰€æœ‰ç¬¦å·å¼•ç”¨(<strong>Symbolic Reference</strong>)å…¨éƒ¨æ›¿æ¢æˆç›´æ¥å¼•ç”¨(<strong>Direct Reference</strong>)ï¼Œ ç»è¿‡è§£æé˜¶æ®µåï¼Œç±»åœ¨æ–¹æ³•åŒºä¸­å ç”¨çš„ç©ºé—´å°†è†¨èƒ€å˜å¤§ã€‚</li></ul><h4 id="43-åˆå§‹åŒ–-initializing"><a class="markdownIt-Anchor" href="#43-åˆå§‹åŒ–-initializing"></a> 4.3. åˆå§‹åŒ– - initializing</h4><p>ç±»åŠ è½½è¿‡ç¨‹çš„æœ€åä¸€ä¸ªé˜¶æ®µï¼Œä¸ºæ‰€æœ‰çš„é™æ€å˜é‡èµ‹åˆå€¼ï¼Œå¹¶æ‰§è¡Œé™æ€ä»£ç å—(<em>static block</em>)</p><p><strong>misc</strong>:</p><p>ç±»çš„ä½¿ç”¨å¯¹åº”è¿™ç±»åŠ è½½çš„è§¦å‘çš„æ¡ä»¶ï¼Œå°±æ˜¯è¯´çš„ç±»çš„ä½¿ç”¨å°±æ˜¯è§¦å‘ç±»åŠ è½½çš„æ¡ä»¶ï¼Œä¸è¿‡å¯¹ç±»çš„ä½¿ç”¨éœ€è¦çš„åˆå§‹åŒ–æ“ä½œè¿‡åã€‚</p><p>æœ€åæ˜¯ç±»çš„å¸è½½ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“JVMæœ‰ä¸“é—¨çš„åƒåœ¾å›æ”¶æœºåˆ¶æ¥å¤„ç†ã€‚ä»¥ä¸Šå°±æ˜¯ç±»çš„ç”Ÿå‘½å‘¨æœŸäº†ã€‚</p><div class="note primary"><p>å‚è€ƒé“¾æ¥:</p><ul><li><a href="http://www.techjava.de/topics/2008/01/java-class-loading/">http://www.techjava.de/topics/2008/01/java-class-loading/</a></li></ul><p>æˆ‘ä¹‹å‰å†™è¿‡çš„ç›¸å…³æ–‡ç« :</p><ul><li><a href="/posts/12448424/">JDK, JRE, JVM | æ·±å…¥äº†è§£</a></li></ul></div><h2 id="ä¸‰-åº”ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#ä¸‰-åº”ç”¨åœºæ™¯"></a> ä¸‰ã€åº”ç”¨åœºæ™¯</h2><p>é€šè¿‡å‰æ–‡ï¼Œæˆ‘ä»¬å·²ç»åŸºæœ¬äº†è§£äº†ç±»åŠ è½½å™¨çš„å·¥ä½œåŸç†ä»¥åŠç±»çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><p>ä¸‹é¢æˆ‘ä»¬éœ€è¦äº†è§£çš„æ˜¯è¯¥å¦‚ä½•åˆ©ç”¨ç±»åŠ è½½å™¨çš„ç‰¹ç‚¹ï¼Œæœ€å¤§é™åº¦åœ°å‘æŒ¥å®ƒçš„ä½œç”¨ã€‚</p><h3 id="1-çƒ­éƒ¨ç½²"><a class="markdownIt-Anchor" href="#1-çƒ­éƒ¨ç½²"></a> 1. çƒ­éƒ¨ç½²</h3><p>è¯´åˆ°çƒ­éƒ¨ç½²ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ—¶é—´å¯èƒ½æƒ³åˆ°çš„æ˜¯åœ¨ç”Ÿäº§æœºå™¨ä¸Šæ›´æ–°ä»£ç åï¼Œæ— éœ€é‡å¯åº”ç”¨å®¹å™¨å°±èƒ½æ›´æ–°æœåŠ¡ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯æœåŠ¡æ— éœ€ä¸­æ–­å¯ä»¥æŒç»­è¿è¡Œï¼Œé‚£ä¹ˆä¸ä¹‹å¯¹åº”çš„<strong>å†·éƒ¨ç½²</strong>å°±æ˜¯éœ€è¦é‡å¯å®¹å™¨å®ä¾‹çš„ã€‚</p><ul><li><strong>çƒ­éƒ¨ç½²(Hot Deployment)</strong>: çƒ­éƒ¨ç½²æ˜¯åº”ç”¨å®¹å™¨è‡ªåŠ¨æ›´æ–°åº”ç”¨çš„ä¸€ç§èƒ½åŠ›ã€‚</li></ul><p>é¦–å…ˆçƒ­éƒ¨ç½²åº”ç”¨æ˜¯å®¹å™¨æ‹¥æœ‰çš„ä¸€ç§èƒ½åŠ›ï¼Œè¿™ç§èƒ½åŠ›æ˜¯å®¹å™¨æœ¬èº«è®¾è®¡å‡ºæ¥çš„ï¼Œè·Ÿå…·ä½“çš„IDEå¼€å‘å·¥å…·æ— å…³ã€‚è€Œä¸”çƒ­éƒ¨ç½²æ— éœ€é‡å¯æœåŠ¡å™¨ï¼Œåº”ç”¨å¯ä»¥ä¿æŒç”¨æˆ·æ€ä¸å—å½±å“ã€‚</p><div class="note danger"><p>æœ‰ä¸€ç§çœ‹ä¼¼å¾ˆåƒçƒ­éƒ¨ç½²çš„æƒ…å†µæˆ‘ä»¬éœ€è¦æ³¨æ„ï¼š åœ¨ä½¿ç”¨IDEå¼€å‘æ—¶ä¹Ÿä¸éœ€è¦é‡å¯æœåŠ¡ï¼Œä¿®æ”¹ä»£ç åå³æ—¶ç”Ÿæ•ˆï¼Œè¿™çœ‹èµ·æ¥å’Œçƒ­éƒ¨ç½²çš„æœåŠ¡æ— éœ€é‡å¯ä¸€æ ·ï¼Œä½†æ˜¯å®ƒèƒŒåçš„è¿è¡Œæœºåˆ¶å´æ˜¯æˆªç„¶ä¸åŒçš„ã€‚å®ƒåº”ç”¨çš„æ˜¯JVMçš„æœ¬èº«é™„å¸¦çš„**çƒ­æ›¿æ¢(Hot Swap)**èƒ½åŠ›ã€‚çƒ­éƒ¨ç½²å’Œçƒ­æ›¿æ¢æ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„æ¦‚å¿µã€‚</p><p>ç”±äºåœ¨å¼€å‘çš„æ—¶å€™ï¼Œå®ƒä»¬ç»å¸¸ä¸€èµ·ä½¿ç”¨ï¼Œæ‰€ä»¥éå¸¸å®¹æ˜“æŠŠä»–ä»¬ææ··ã€‚</p></div><h4 id="11-åŸç†"><a class="markdownIt-Anchor" href="#11-åŸç†"></a> 1.1. åŸç†</h4><p>ä»çƒ­éƒ¨ç½²çš„å®šä¹‰æ¥çœ‹ï¼Œæˆ‘ä»¬çŸ¥é“å®ƒå…¶å®åº”ç”¨å®¹å™¨çš„ä¸€ç§èƒ½åŠ›ï¼Œè¦è¾¾åˆ°çš„ç›®çš„æ˜¯<strong>åœ¨æœåŠ¡æ²¡æœ‰é‡å¯çš„æƒ…å†µä¸‹æ›´æ–°åº”ç”¨ï¼Œä¹Ÿå°±æ˜¯æŠŠæ–°çš„ä»£ç ç¼–è¯‘åäº§ç”Ÿçš„æ–°ç±»æ–‡ä»¶æ›¿æ¢æ‰å†…å­˜ä¸­çš„æ—§ç±»æ–‡ä»¶</strong>ã€‚</p><p>ç»“åˆå‰æ–‡å·²ç»ä»‹ç»è¿‡çš„ç±»åŠ è½½å™¨çš„ç‰¹æ€§ï¼Œçƒ­éƒ¨ç½²çš„è¿‡ç¨‹å¤§æ¦‚è¦åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤è¿›è¡Œ:</p><ul><li>ç”±äºåŒä¸€ç±»åŠ è½½å™¨åªèƒ½åŠ è½½ä¸€æ¬¡ç±»æ–‡ä»¶(åŒä¸€ç±»æ–‡ä»¶, å› ä¸ºæœ‰ç¼“å­˜), åœ¨æ²¡æœ‰æŠŠæ–°ç±»æ–‡ä»¶åŠ è½½è¿›å†…å­˜ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸èƒ½æŠŠæ—§çš„ç±»æ–‡ä»¶å¸è½½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡ä¸€ä¸ªå¿ƒå¾—ç±»åŠ è½½å™¨æ¥åŠ è½½ã€‚(<strong>æ­¤æ—¶ï¼Œå†…å­˜å­˜åœ¨ä¸¤ä¸ªæ–°æ—§çš„ç±»æ–‡ä»¶, å®ƒä»¬çš„ç±»åè·¯å¾„ç›¸åŒä½†ç±»åŠ è½½å™¨ä¸åŒï¼Œå³ç±»çš„å”¯ä¸€æ ‡è¯†ä¸åŒ</strong>)</li><li>æœ€åä¸€æ­¥ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯å¦‚ä½•ä½¿ç”¨æ–°çš„ç±»æ–‡ä»¶ï¼Œå¹¶å¸è½½æ—§çš„ç±»æ–‡ä»¶åŠå…¶å¯¹è±¡ã€‚</li></ul><p>å®Œæˆä¸Šé¢ä¸¤ä¸ªæ­¥éª¤ï¼Œå°±å¯ä»¥è¾¾åˆ°æ–°ä»£ç çƒ­éƒ¨ç½²çš„æ•ˆæœã€‚</p><h4 id="12-å®ç°"><a class="markdownIt-Anchor" href="#12-å®ç°"></a> 1.2. å®ç°</h4><p>ä¸‹é¢é€šè¿‡ä¸€ç³»åˆ—ç®€å•çš„ä¾‹å­æ¥ä¸€æ­¥æ­¥å®ç°çƒ­éƒ¨ç½²ã€‚</p><ul><li><strong>å®ç°è‡ªå®šä¹‰ç±»åŠ è½½</strong></li></ul><p>ä½¿ç”¨ä¸åŒçš„ç±»åŠ è½½å™¨å¯ä»¥æŠŠåŒä¸€ä¸ªç±»æ–‡ä»¶åŠ è½½åˆ°JVMçš„æ–¹æ³•åŒºä¸­ï¼Œä½†æ˜¯æ³¨æ„å®ƒä»¬æœ¬è´¨è¿˜æ˜¯ä¸åŒçš„&quot;ç±»(ä¸€ä¸ªç±»ç”±å®ƒçš„å…¨ç§°é™å®šååŠ ä¸Šå®ƒçš„ç±»åŠ è½½å™¨ç±»æ¥æ ‡è¯†)&quot;</p><ul><li><strong>æ›¿æ¢è‡ªå®šä¹‰ç±»åŠ è½½å™¨</strong></li></ul><p>æ—¢ç„¶ä¸€ä¸ªç±»å¯ä»¥é€šè¿‡ä¸åŒçš„ç±»åŠ è½½å™¨å¤šæ¬¡çš„åŠ è½½åˆ°JVMçš„æ–¹æ³•åŒºä¸­ï¼Œé‚£ä¹ˆä¸€ä¸ªç±»ç»è¿‡ä¿®æ”¹ç¼–è¯‘åå†åŠ è½½è¿›å»ï¼Œä»åº”ç”¨çš„è§’åº¦æ¥çœ‹ï¼Œè¿™å°±åšåˆ°äº†åº”ç”¨æ›´æ–°ï¼Œé‚£ä¹ˆå¦‚ä½•åœ¨çº¿ç¨‹è¿è¡Œä¸ä¸­æ–­çš„æƒ…å†µä¸‹æ›´æ–°ç±»å‘¢ï¼Ÿ</p><p>ä¸‹é¢ç»™å‡ºä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œ<code>ClassReloading</code>å¯åŠ¨<code>main</code>æ–¹æ³•é€šè¿‡æ­»å¾ªç¯æ¥ä¸æ–­åˆ›å»ºç±»åŠ è½½å™¨ï¼ŒåŒæ—¶ä¸æ–­åœ°åŠ è½½ç±»è€Œä¸”æ‰§è¡Œç±»çš„æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rovo98.miscExamples.hotDeployment;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> rovo98</span></span><br><span class="line"><span class="comment"> * date: 2019.04.09 15:01</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassReloading</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Driver the program to test the class reloading</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args command-line arguments.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;InfiniteLoopStatement&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchMethodException, InvocationTargetException, IllegalAccessException, InterruptedException, InstantiationException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (;;) &#123;</span><br><span class="line">            count++;</span><br><span class="line">            <span class="comment">// Using infinite loop to make the thread keep running.</span></span><br><span class="line">            String className = <span class="string">&quot;com.rovo98.miscExamples.hotDeployment.ClassReloading$User&quot;</span>;</span><br><span class="line">            Class&lt;?&gt; target = <span class="keyword">new</span> MyClassLoader().loadClass(className);</span><br><span class="line">            <span class="comment">// Invokes the method of the loaded class using Reflection</span></span><br><span class="line">            System.out.println(count + <span class="string">&quot; round: loading target successfully, ready to invoke the method!&quot;</span>);</span><br><span class="line">            target.getDeclaredMethod(<span class="string">&quot;execute&quot;</span>).invoke(target.newInstance());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// If we use system class loader, it will be &#x27;AppClassLoader&#x27;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// Sleep to avoid the case happen that it will occurs &#x27;ClassNotFoundException&#x27; error</span></span><br><span class="line">            <span class="comment">// if the target class had been removed.</span></span><br><span class="line">            <span class="comment">// so make the thread stop to avoid this case happen.</span></span><br><span class="line">            Thread.sleep(<span class="number">10000</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The class to be tested for loading.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            ask();</span><br><span class="line"><span class="comment">//            say();</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">ask</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;What is your name?&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">say</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;My name is rovo98!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// a user defined classloader</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClassLoader</span> <span class="keyword">extends</span> <span class="title">ClassLoader</span> </span>&#123;</span><br><span class="line">        <span class="meta">@SuppressWarnings(&quot;ResultOfMethodCallIgnored&quot;)</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Class&lt;?&gt; loadClass(String name) <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">            String fileName = name.substring(name.lastIndexOf(<span class="string">&quot;.&quot;</span>) + <span class="number">1</span>) + <span class="string">&quot;.class&quot;</span>;</span><br><span class="line">            InputStream stream = getClass().getResourceAsStream(fileName);</span><br><span class="line">            <span class="keyword">if</span> (stream == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">super</span>.loadClass(name); <span class="comment">// load the class using system default class loaders</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[stream.available()];</span><br><span class="line">                <span class="comment">// write the stream into the byte array b</span></span><br><span class="line">                stream.read(b);</span><br><span class="line">                <span class="keyword">return</span> defineClass(name, b, <span class="number">0</span>, b.length);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">super</span>.loadClass(name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>ClassReloading</code>çº¿ç¨‹è¿è¡Œèµ·æ¥ï¼Œç„¶åé€šè¿‡ä¿®æ”¹ä»£ç æ¥æŸ¥çœ‹ç»“æœï¼Œè¿™é‡Œå¯ä»¥ç®€å•é€šè¿‡äº¤æ›¿æ³¨é‡Š<code>User</code>ç±»ä¸­çš„<code>ask()</code>å’Œ<code>say()</code>æ–¹æ³•æ¥æµ‹è¯•ã€‚</p><p><strong>Output</strong>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1 round: loading target successfully, ready to invoke the method!</span><br><span class="line">What is your name?</span><br><span class="line">2 round: loading target successfully, ready to invoke the method!</span><br><span class="line">What is your name?</span><br><span class="line">3 round: loading target successfully, ready to invoke the method!</span><br><span class="line">My name is rovo98!</span><br><span class="line">4 round: loading target successfully, ready to invoke the method!</span><br><span class="line">What is your name?</span><br><span class="line">5 round: loading target successfully, ready to invoke the method!</span><br><span class="line">What is your name?</span><br><span class="line">6 round: loading target successfully, ready to invoke the method!</span><br><span class="line">My name is rovo98!</span><br><span class="line">7 round: loading target successfully, ready to invoke the method!</span><br><span class="line">My name is rovo98!</span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>æ¯æ¬¡å¾ªç¯è°ƒç”¨éƒ½æ–°åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨ï¼Œç„¶åé€šè¿‡åå°„åˆ›å»ºå¯¹è±¡è°ƒç”¨æ–¹æ³•ï¼Œåœ¨ä¿®æ”¹ä»£ç ç¼–è¯‘åï¼Œæ–°çš„ç±»å°±ä¼šé€šè¿‡åå°„è¢«åˆ›å»ºï¼Œå¹¶æ‰§è¡Œæ–°çš„ä»£ç ä¸šåŠ¡ï¼Œè€Œä¸»çº¿ç¨‹ä¸€ç›´æ²¡æœ‰åœè¿‡(æ­»å¾ªç¯)ã€‚</p><p>åˆ°äº†è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»ç®€å•å®ç°äº†çƒ­éƒ¨ç½²äº†ï¼Œå³å®ç°äº†æ‰‹åŠ¨æ— ä¸­æ–­éƒ¨ç½²ï¼Œä½†æ˜¯å­˜åœ¨å¾ˆæ˜æ˜¾çš„ç¼ºç‚¹ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ç¼–è¯‘ä»£ç (å½“ç„¶åœ¨IDEä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•çš„è®¾ç½®, ä½¿å¾—ç±»æ–‡ä»¶ä¿®æ”¹åéšç€ä¿å­˜æ“ä½œè€Œè‡ªåŠ¨ç¼–è¯‘, ä½†è¿™ä¹Ÿæ˜¯å±äº&quot;æ‰‹åŠ¨ç¼–è¯‘&quot;), è€Œä¸”å†…å­˜ä¸­ä¼šä¸æ–­æ–°å¢çš„ç±»åŠ è½½å™¨å’Œå¯¹è±¡ï¼Œå¦‚æœé€Ÿåº¦è¿‡å¿«è€Œä¸”è¿‡äºé¢‘ç¹æ›´æ–°ï¼Œå°±éå¸¸å®¹æ˜“é€ æˆå †æº¢å‡º(<code>OutOfMemoryError</code>), ä¸‹é¢çš„ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å°†é€šè¿‡å¢åŠ ä¸€äº›è§„åˆ™æ¥ä¿è¯æ—§çš„ç±»å’Œå¯¹è±¡èƒ½å¤Ÿè¢«åƒåœ¾æ”¶é›†å™¨(GC, Garbage Collector)è‡ªåŠ¨å›æ”¶ã€‚</p><ul><li><strong>å›æ”¶è‡ªå®šä¹‰ç±»åŠ è½½å™¨</strong></li></ul><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œç±»åŠ è½½å™¨ä¼šæŒæœ‰è¯¥åŠ è½½å™¨åŠ è½½è¿‡çš„æ‰€æœ‰ç±»çš„å¼•ç”¨, æ‰€ä»¥å¦‚æœç±»æ˜¯ç»ç³»ç»Ÿé»˜è®¤ç±»åŠ è½½å™¨åŠ è½½çš„è¯ï¼Œé‚£å°±å¾ˆéš¾è¢«å›æ”¶ï¼Œé™¤éç¬¦åˆæ ¹èŠ‚ç‚¹ä¸å¯è¾¾åŸåˆ™(GC ç®—æ³•å†…å®¹ï¼Œè§ä¸‹é¢ç»™å‡ºçš„ç®€å•è¯´æ˜)æ‰ä¼šè¢«å›æ”¶ã€‚</p><div class="note warning"><p>GCç®—æ³•ï¼Œ é¦–å…ˆGCçš„åƒåœ¾å›æ”¶ç®—æ³•ä½¿ç”¨çš„ä¸æ˜¯<strong>å¼•ç”¨è®¡æ•°(Reference counting)åŸç†</strong>, å› ä¸ºä¼šå‡ºç°&quot;å¾ªç¯å¼•ç”¨â€œ -&gt; å¦‚ï¼š å¦‚æœå­˜åœ¨ä¸å¯è¾¾å¯¹è±¡(dead object)<code>A</code>å’Œ<code>B</code>, å®ƒä»¬äº’ç›¸æŒ‡å‘å¯¹æ–¹ï¼Œé‚£ä¹ˆåƒåœ¾å›æ”¶å™¨å°†æ°¸è¿œæ— æ³•å›æ”¶å®ƒä»¬ã€‚</p><p>ä¸ºæ­¤GCå¼•å…¥ä»¥ä¸‹ç®—æ³•:</p><ul><li><strong>1.</strong><code>mark</code>æ ‡è®°ï¼Œ å³æ ‡è®°ç°æœ‰çš„å¯è¾¾å¯¹è±¡(alive object), é€‰æ‹©ä¸€ä¸ªå¯¹è±¡(æ–¹æ³•ï¼Œçº¿ç¨‹å±€éƒ¨å˜é‡ç­‰)ä½œä¸º<code>GC root</code>ï¼Œç„¶åä»è¿™ä¸ªæ ¹å¼€å§‹éå†å›¾ï¼Œç›´åˆ°æ‰€æœ‰çš„ç»“ç‚¹éå†å®Œï¼Œéå†è¿‡çš„ç»“ç‚¹æ ‡è®°ä¸ºalive.</li></ul><blockquote><p>ä¸ºäº†ç¡®ä¿è¿™ä¸€æ­¥éª¤èƒ½å¤Ÿé¡ºåˆ©è¿›è¡Œï¼ŒJVMéœ€è¦æŒ‚èµ·æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ï¼Œå› ä¸ºå¯¹è±¡å¦‚æœä¸€ç›´å‘ç”Ÿå˜åŒ–çš„è¯ï¼Œå›¾çš„éå†æ˜¯æ— æ³•æˆåŠŸéå†çš„ã€‚è¿™ä¸€ç°è±¡ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç§°ä¸º<code>Stop the world pause</code></p></blockquote><p><img data-src="jvm-1-gc-mark.png" alt="" /></p><ul><li><strong>2.</strong><code>sweep</code>æ¸…é™¤é˜¶æ®µï¼šå³æ¸…é™¤ä¸å¯è¾¾å¯¹è±¡, æœ‰ç›´æ¥å¯¹å †å†…å­˜ä¸Šçš„å¯¹è±¡ç›´æ¥æ¸…é™¤ç„¶åä¸ç®¡çš„ï¼Œæœ‰æ¸…é™¤ä¹‹åï¼Œè¿›è¡Œå‹ç¼©çš„ï¼Œæœ‰å°†å †å†…å­˜åˆ†æˆä¸¤ä¸ªåˆ†åŒºï¼Œæ¯æ¬¡åªä½¿ç”¨ä¸€ä¸ªåˆ†åŒºï¼Œå½“<code>mark</code>æ“ä½œç»“æŸåï¼Œå°†<strong>alive objects</strong>å¤åˆ¶åˆ°å¦ä¸€ä¸ªåˆ†åŒºï¼Œç„¶åæ¸…é™¤å½“å‰åˆ†åŒºï¼Œä½¿ç”¨å¦ä¸€ä¸ªåˆ†åŒºï¼Œäº¤æ›¿è¿›è¡Œã€‚ åˆ†åˆ«å¯¹åº”ä¸‹é¢æ˜¯ä¸‰ç§æƒ…å†µã€‚</li><li><code>mark-sweep</code><br /><img data-src="jvm-1-gc-mark-sweep.png" alt="" /></li><li><code>mark-sweep-compact</code><br /><img data-src="jvm-1-gc-mark-sweep-compact.png" alt="" /></li><li><code>mark-copy</code><br /><img data-src="jvm-1-gc-mark-copy.png" alt="" /></li></ul><p>å½“ç„¶ï¼Œå®é™…ä¸ŠJVMä½¿ç”¨çš„GCç®—æ³•è¿˜æœ‰æ›´å¤šï¼Œåƒåœ¾æ”¶é›†å™¨ä¹Ÿå¾ˆå¤šç§ï¼Œä¾‹å¦‚å¯¹å †å†…å­˜åˆ†ä»£(generations, young generation, old generation, permanent generation), ä¸åŒçš„ç”Ÿä»£ä½¿ç”¨ä¸åŒçš„ç­–ç•¥ã€‚</p><p>ğŸ˜…é¢ã€‚ã€‚ã€‚å·®ç‚¹è·‘åäº†ï¼Œè¿™é‡Œå°±ä¸å†åšè¿‡å¤šçš„è§£é‡Šäº†ã€‚</p></div><p>ä¸‹é¢ç»§ç»­ç»™å‡ºä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬çŸ¥é“ä¸Šæ–‡çš„<code>ClassReloading</code>åªæ˜¯ä¸æ–­åˆ›å»ºå¿ƒå¾—ç±»åŠ è½½å™¨ç±»åŠ è½½æ–°ç±»ï¼Œä»è€Œæ›´æ–°ç±»çš„æ–¹æ³•ã€‚ä¸‹é¢çš„ä¾‹å­ï¼Œé€šè¿‡æ¨¡æ‹ŸWEBåº”ç”¨ï¼Œæ›´æ–°æ•´ä¸ªåº”ç”¨çš„ä¸Šä¸‹æ–‡<code>Context</code>ã€‚å…¶å®ä»£ç æœ¬è´¨ä¸Šå’Œä¸Šé¢çš„æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡æˆ‘ä»¬é€šè¿‡åŠ è½½<code>Model</code>å±‚ã€<code>DAO</code>å±‚å’Œ<code>Service</code>å±‚æ¥æ¨¡æ‹ŸWEBåº”ç”¨ã€‚</p><div class="note warning"><p>ä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œæ‰€æœ‰çš„ç±»å‡å†™åœ¨åŒä¸€ä¸ªç±»æ–‡ä»¶ä¸­ã€‚</p></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rovo98.miscExamples.hotDeployment;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> rovo98</span></span><br><span class="line"><span class="comment"> * date: 2019.04.09 16:18</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ContextReloading</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Driver the program to test the &#123;<span class="doctag">@code</span> ContextReloading&#125;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args command-line arguments.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;InfiniteLoopStatement&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchMethodException,</span></span><br><span class="line"><span class="function">         InstantiationException, IllegalAccessException, InvocationTargetException, InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (;;) &#123;</span><br><span class="line">            count++;</span><br><span class="line">           Object context = newContext();</span><br><span class="line">            System.out.println(count + <span class="string">&quot; round: context loaded successfully, ready to invoke the methods!&quot;</span>);</span><br><span class="line">           invokeContext(context);</span><br><span class="line"></span><br><span class="line">           Thread.sleep(<span class="number">8000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 1. Create the Context</span></span><br><span class="line"><span class="comment">     * 2. Context object is used as a GC root</span></span><br><span class="line"><span class="comment">     * 3. Before returning the context object, we call the init() method.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> a Context Object.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">newContext</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchMethodException,</span></span><br><span class="line"><span class="function">         InvocationTargetException, IllegalAccessException, InstantiationException </span>&#123;</span><br><span class="line">        String className = <span class="string">&quot;com.rovo98.miscExamples.hotDeployment.ContextReloading$Context&quot;</span>;</span><br><span class="line">        Class&lt;?&gt; contextClass = <span class="keyword">new</span> MyClassLoader().loadClass(className);</span><br><span class="line">        Object context = contextClass.newInstance();</span><br><span class="line">        contextClass.getDeclaredMethod(<span class="string">&quot;init&quot;</span>).invoke(context);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> context;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    Simply invokes the method of the context class</span></span><br><span class="line"><span class="comment">    since the method&#x27;s rules will be update during the runtime</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">invokeContext</span><span class="params">(Object context)</span> <span class="keyword">throws</span> NoSuchMethodException,</span></span><br><span class="line"><span class="function">         InvocationTargetException, IllegalAccessException </span>&#123;</span><br><span class="line">        context.getClass().getDeclaredMethod(<span class="string">&quot;showUser&quot;</span>).invoke(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Context</span> </span>&#123;</span><br><span class="line">       <span class="keyword">private</span> UserService userService = <span class="keyword">new</span> UserService();</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">           System.out.println(userService.getUserMessage());</span><br><span class="line">           System.out.println(<span class="string">&quot;method invoked&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// initialize the object</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//            System.out.println(&quot;init successfully&quot;);</span></span><br><span class="line">           UserDao userDao = <span class="keyword">new</span> UserDao();</span><br><span class="line">           userDao.setUser(<span class="keyword">new</span> User());</span><br><span class="line">           userService.setUserDao(userDao);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// simple user service object</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">       <span class="keyword">private</span> UserDao userDao;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> String <span class="title">getUserMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">           <span class="keyword">return</span> userDao.getUserName();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserDao</span><span class="params">(UserDao userDao)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.userDao = userDao;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// simple user DAO object</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> User user;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getUserName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> user.getName();</span><br><span class="line"><span class="comment">//            return user.getAlias();</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUser</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.user = user;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// A simple model class</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> String name = <span class="string">&quot;rovo98&quot;</span>;</span><br><span class="line">        <span class="keyword">private</span> String alias = <span class="string">&quot;testUser&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getAlias</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> alias;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAlias</span><span class="params">(String alias)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.alias = alias;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// a user defined class loader.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClassLoader</span> <span class="keyword">extends</span> <span class="title">ClassLoader</span> </span>&#123;</span><br><span class="line">        <span class="meta">@SuppressWarnings(&quot;ResultOfMethodCallIgnored&quot;)</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Class&lt;?&gt; loadClass(String name) <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">            String fileName = name.substring(name.lastIndexOf(<span class="string">&quot;.&quot;</span>) + <span class="number">1</span>) + <span class="string">&quot;.class&quot;</span>;</span><br><span class="line">            InputStream stream = getClass().getResourceAsStream(fileName);</span><br><span class="line">            <span class="keyword">if</span> (stream == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">super</span>.loadClass(name);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[stream.available()];</span><br><span class="line">                stream.read(b);</span><br><span class="line">                <span class="keyword">return</span> defineClass(name, b, <span class="number">0</span>, b.length);</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">super</span>.loadClass(name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Output</strong>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">1 round: context loaded successfully, ready to invoke the methods!</span><br><span class="line">rovo98</span><br><span class="line">2 round: context loaded successfully, ready to invoke the methods!</span><br><span class="line">rovo98</span><br><span class="line">3 round: context loaded successfully, ready to invoke the methods!</span><br><span class="line">rovo98</span><br><span class="line">4 round: context loaded successfully, ready to invoke the methods!</span><br><span class="line">testUser</span><br><span class="line">5 round: context loaded successfully, ready to invoke the methods!</span><br><span class="line">testUser</span><br><span class="line">6 round: context loaded successfully, ready to invoke the methods!</span><br><span class="line">testUser</span><br><span class="line">init successfully</span><br><span class="line">7 round: context loaded successfully, ready to invoke the methods!</span><br><span class="line">testUser</span><br><span class="line">init successfully</span><br><span class="line">8 round: context loaded successfully, ready to invoke the methods!</span><br><span class="line">testUser</span><br><span class="line">init successfully</span><br><span class="line">9 round: context loaded successfully, ready to invoke the methods!</span><br><span class="line">testUser</span><br><span class="line">init successfully</span><br><span class="line">10 round: context loaded successfully, ready to invoke the methods!</span><br><span class="line">testUser</span><br><span class="line">11 round: context loaded successfully, ready to invoke the methods!</span><br><span class="line">rovo98</span><br><span class="line">method invoked</span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœå’Œä¸Šä¸€ä¸ªä¾‹å­ç±»ä¼¼ï¼Œå¯ä»¥è‡ªå·±è¿è¡Œç„¶åä¿®æ”¹ä¸šåŠ¡é€»è¾‘ã€‚ä¸åŒä¸ä¸Šä¸€ä¸ªä¾‹å­ï¼Œå®ƒè§£å†³äº†æ—§ç±»çš„ç§»é™¤é—®é¢˜ï¼Œå› ä¸º<code>context</code>å¯¹è±¡æ˜¯ä½œä¸ºGC rootçš„ï¼Œ<code>context</code>åˆç”±æˆ‘ä»¬è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨åŠ è½½, ç”±äº<code>User/Dao/Service</code>çš„ç±»éƒ½ä¾èµ–äº<code>context</code>ï¼Œæ‰€ä»¥å®ƒä»¬ä¹Ÿæ˜¯ç”±è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨åŠ è½½çš„ã€‚</p><p>æ ¹æ®GC roots åŸç†ï¼Œåœ¨åˆ›å»ºæ–°çš„è‡ªå®šä¹‰ç±»åŠ è½½åï¼Œæ—§çš„ç±»åŠ è½½å™¨å·²ç»æ²¡æœ‰äº†ä»»ä½•å¼•ç”¨é“¾å¯è¾¾ï¼Œç¬¦åˆGCå›æ”¶è§„åˆ™ï¼Œå°†ä¼šè¢«GCæ”¶é›†å™¨å›æ”¶é‡Šæ”¾å†…å­˜(æ³¨æ„ä¸æ˜¯é©¬ä¸Šå›æ”¶)ã€‚</p><blockquote><p>è¿è¡Œç¨‹åºï¼Œå¯åŠ¨çº¿ç¨‹ï¼Œç”¨jvisualvmå·¥å…·æŸ¥çœ‹ï¼Œå¹¶æ‰‹åŠ¨æ‰§è¡ŒGCæ¥éªŒè¯</p></blockquote><ul><li>çº¿ç¨‹å¯åŠ¨å¹¶è¿è¡Œä¸€å°ä¼šå(å¯ä»¥çœ‹åˆ°çº¿ç¨‹åŠ è½½çš„ç±»æ•°é‡åœ¨æŒç»­å¢åŠ ):<br /><img data-src="jvm-1-classreloading-vmdiagram-1.png" alt="" /></li><li>æ‰‹åŠ¨æ‰§è¡ŒGCæ¥å›æ”¶åƒåœ¾(ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°æ‰§è¡Œä¸€æ¬¡GCåå¸è½½äº†56ä¸ªç±»ï¼Œè€Œ<code>1615</code>ä¸ªç±»çš„åŠ è½½åˆšåˆšå°±æ˜¯ä¸€ä¸ªç±»è¿è¡Œæ‰€éœ€çš„åŸºæœ¬çš„ç±»(æ ¸å¿ƒåŸºç¡€ç±»ç­‰)):<br /><img data-src="jvm-1-classreloading-vmdiagram-2.png" alt="" /></li></ul><p>è‡³æ­¤å·²ç»å®Œæˆäº†çƒ­éƒ¨ç½²çš„æµç¨‹ï¼Œä½†æ˜¯æˆ‘ä»¬å¦‚æœä»”ç»†çœ‹çš„è¯ï¼Œè¿™ä¸ªçƒ­éƒ¨ç½²çš„å®ç°çš„ç­–ç•¥ä¼šæŠŠæ•´ä¸ª<code>context</code>å¯¹è±¡ä¹Ÿæ›¿æ¢æˆæ–°çš„, é‚£ä¹ˆç”¨æˆ·çš„çŠ¶æ€ä¹Ÿå°†æ— æ³•ä¿ç•™ã€‚è€Œå®é™…æƒ…å†µæ˜¯æˆ‘ä»¬åªéœ€è¦åŠ¨æ€æ›´æ–°æŸäº›æ¨¡å—å³å¯ï¼Œè€Œä¸æ˜¯å…¨å±€ã€‚è¿™ä¸ªä¹Ÿæ¯”è¾ƒå¥½å¤„ç†ï¼Œå°±æ˜¯ä»ä¸šåŠ¡ä¸Šå°†éœ€è¦çƒ­éƒ¨ç½²çš„äº¤ç»™è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨åŠ è½½ï¼Œè€ŒæŒä¹…åŒ–èµ„æºäº¤ç»™ç³»ç»Ÿé»˜è®¤çš„ç±»åŠ è½½å™¨å»å®ŒæˆåŠ è½½ã€‚</p><ul><li><strong>è‡ªåŠ¨åŠ è½½ç±»åŠ è½½å™¨</strong></li></ul><p>å…¶å®æ¶‰åŠåˆ°ä»£ç æ¶‰åŠä¼˜é›…é—®é¢˜ï¼ŒåŸºæœ¬ä¸Šæˆ‘ä»¬å°±éœ€è¦æ‹¿å‡ºè®¾è®¡æ¨¡å¼(<strong>Design Pattern</strong>) æ¥å¯¹å·å…¥åº§çš„è§£å†³é—®é¢˜ï¼Œæ¯•ç«Ÿè¿™æ˜¯å‰äººç»è¿‡åƒä¸‡å®è·µé”¤ç‚¼å‡ºæ¥çš„è½¯ä»¶æ„å»ºå†…åŠŸå¿ƒæ³•ã€‚</p><p>é’ˆå¯¹äºæˆ‘ä»¬çƒ­éƒ¨ç½²çš„åœºæ™¯ï¼Œå¦‚æœæƒ³æŠŠçƒ­éƒ¨ç½²ç»†èŠ‚å°è£…èµ·æ¥ï¼Œé‚£ä»£ç†æ¨¡å¼æ— ç–‘æ˜¯æœ€ç¬¦åˆè¦æ±‚çš„ï¼ŒæŠŠç±»åŠ è½½å™¨çš„æ›´æ›¿ã€å›æ”¶ï¼Œéš”ç¦»ç­‰ç»†èŠ‚éƒ½æ”¾åœ¨ä»£ç†å¯¹è±¡é‡Œé¢æ¥å®Œæˆï¼Œè€Œå¯¹äºç”¨æˆ·æ˜¯é€æ˜çš„ï¼Œå¯¹äºç»ˆç«¯ç”¨æˆ·è€Œè¨€ï¼Œç»™ä»–ä»¬çš„æ„Ÿè§‰å°±æ˜¯çº¯ç²¹çš„çƒ­éƒ¨ç½²äº†ã€‚</p><p>è‡³äºå¦‚ä½•å®ç°è‡ªåŠ¨çƒ­éƒ¨ç½²ï¼Œæ–¹å¼ä¹Ÿç›¸å¯¹æ¯”è¾ƒç®€å•å§ï¼Œç›‘å¬æˆ‘ä»¬éœ€è¦éƒ¨ç½²çš„ç›®å½•ï¼Œå¦‚æœæ–‡ä»¶çš„æ—¶é—´å’Œå¤§å°å‘ç”Ÿæ”¹å˜ï¼Œå³ä¿®æ”¹è¿‡åï¼Œåˆ™åˆ¤æ–­åº”ç”¨æ›´æ–°éœ€æ±‚ï¼Œè§¦å‘ç±»åŠ è½½å™¨çš„åˆ›å»ºå’Œæ—§å¯¹è±¡çš„å›æ”¶ï¼Œæ­¤æ—¶ä¹Ÿå¯ä»¥å¼•å…¥è§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°ã€‚</p><p>è‡³äºå®ç°ï¼Œæˆ‘ä»¬å‚è€ƒç°æœ‰çš„åˆ«äººå·²ç»å®ç°çš„çƒ­éƒ¨ç½²å·¥å…·:</p><ul><li><a href="http://akhikhl.github.io/gretty-doc/Hot-deployment.html">Gretty</a></li><li><a href="https://dcevm.github.io/">DECVM</a><br />ç­‰ç­‰ã€‚ã€‚</li></ul><p>æˆ–è€…ä½¿ç”¨ç°æˆçš„çƒ­éƒ¨ç½²å·¥å…·ã€‚<br />å‚è€ƒè¿™ç¯‡æ–‡ç« å³å¯:</p><ul><li><a href="https://dzone.com/articles/hot-swap-java-bytecode-on-runtime">https://dzone.com/articles/hot-swap-java-bytecode-on-runtime</a></li></ul><p>å…¶ä¸­æœ‰æ”¶è´¹çš„å•†ç”¨å·¥å…·JRabel, å…è´¹å¼€æºçš„DECVMç­‰ã€‚</p><div class="note primary"><p>å‚è€ƒé“¾æ¥:</p><ul><li><a href="https://stackoverflow.com/questions/35249234/how-hot-deployment-works-internally">https://stackoverflow.com/questions/35249234/how-hot-deployment-works-internally</a></li><li><a href="https://iq.opengenus.org/memory-management-in-java-mark-sweep-compact-copy/">https://iq.opengenus.org/memory-management-in-java-mark-sweep-compact-copy/</a></li><li><a href="https://plumbr.io/handbook/garbage-collection-algorithms">https://plumbr.io/handbook/garbage-collection-algorithms</a></li><li><a href="https://developer.jboss.org/wiki/CurrentStateOfHotDeploymentInJava">https://developer.jboss.org/wiki/CurrentStateOfHotDeploymentInJava</a></li><li><a href="https://www.future-processing.pl/blog/better-java-hot-code-replace-at-no-cost/">https://www.future-processing.pl/blog/better-java-hot-code-replace-at-no-cost/</a></li></ul></div><h3 id="2-ç±»éš”ç¦»"><a class="markdownIt-Anchor" href="#2-ç±»éš”ç¦»"></a> 2. ç±»éš”ç¦»</h3><h4 id="21-èƒŒæ™¯ä»‹ç»"><a class="markdownIt-Anchor" href="#21-èƒŒæ™¯ä»‹ç»"></a> 2.1. èƒŒæ™¯ä»‹ç»</h4><p>é€šå¸¸æˆ‘ä»¬çš„åº”ç”¨ä¾èµ–ä¸åŒçš„ç¬¬ä¸‰æ–¹ç±»åº“ä¼šå‡ºç°ä¸ªä¸åŒç‰ˆæœ¬çš„ç±»åº“ï¼Œå¦‚æœåªæ˜¯ä½¿ç”¨ç³»ç»Ÿå†…ç½®çš„ç±»åŠ è½½å™¨çš„è¯, é‚£ä¹ˆä¸€ä¸ªç±»åº“åªèƒ½åŠ è½½å”¯ä¸€çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œä¸‹é‚£ä¸ªå®¶åœ¨å…¶ä»–ç‰ˆæœ¬çš„æ—¶å€™ï¼Œä¼šä»åŠ è½½ç¼“å­˜é‡Œé¢å‘ç°ç±»å·²ç»å­˜åœ¨è€Œåœæ­¢åŠ è½½ã€‚ä½†æ˜¯ä¸åŒçš„ä¸šåŠ¡å¾€å¾€åˆéœ€è¦ä¸åŒç‰ˆæœ¬çš„ç±»åº“ï¼Œè¿™æ˜¯å°±ä¼šå‡ºç°<code>ClassNotFoundException</code>ã€‚ä¸€èˆ¬æ˜¯åœ¨è¿è¡Œæ—¶æ‰ä¼šå‡ºç°å¼‚å¸¸ï¼Œå› ä¸ºåœ¨ç¼–è¯‘çš„æ—¶å€™æˆ‘ä»¬é€šå¸¸éƒ½ä½¿ç”¨<a href="https://maven.apache.org/">MAVEN</a>ç­‰ç¼–è¯‘å·¥å…·æŠŠå†²çªçš„ç‰ˆæœ¬ç»™æ’é™¤æ‰äº†ã€‚</p><p>å¦å¤–ä¸€ç§æƒ…å†µæ˜¯WEBå®¹å™¨çš„å†…æ ¸ä¾èµ–çš„ç¬¬ä¸‰æ–¹ç±»åº“éœ€è¦è·Ÿåº”ç”¨ä¾èµ–çš„ç±»åº“éš”ç¦»å¼€æ¥, é¿å…ä¾ç¨€è€Œå®‰å…¨éšæ‚£ï¼Œä¸ç„¶å¦‚æœå…±ç”¨çš„è¯ï¼Œåº”ç”¨å‡çº§ä¾èµ–ç‰ˆæœ¬ä¼šå¯¼è‡´WEBå®¹å™¨ä¸ç¨³å®šã€‚</p><p>åŸºäºä»¥ä¸Šçš„ä»‹ç»ï¼Œæˆ‘ä»¬å·²ç»åŸºæœ¬çŸ¥é“äº†ä»€ä¹ˆæ˜¯**ç±»éš”ç¦»(class isolation)**ä»¥åŠå®ƒå¤§æ¦‚éœ€è¦è§£å†³çš„é—®é¢˜ã€‚</p><h4 id="22-åŸç†"><a class="markdownIt-Anchor" href="#22-åŸç†"></a> 2.2. åŸç†</h4><p>ç±»éš”ç¦»çš„åŸç†å…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œå‰æ–‡æˆ‘ä»¬ä»‹ç»è¿‡<strong>ç±»çš„å”¯ä¸€æ ‡è¯†</strong>(å†…å­˜ä¸­å®šä½ä¸€ä¸ªç±»å¤§æ¦‚æ˜¯è¿™æ ·çš„<code>&lt;ç±»åŠ è½½å™¨, ç±»å…¨ç§°é™å®šå&gt;</code>, å³ä¸€ä¸ªç±»çš„æ ‡è¯†æœ‰åŠ è½½å®ƒçš„ç±»åŠ è½½å™¨å’Œå®ƒçš„å…¨ç§°é™å®šåç»„æˆ)ã€‚ç”¨ä¸åŒçš„ç±»åŠ è½½å™¨åŠ è½½çš„ç›¸åŒçš„ç±»(å…¨ç§°é™å®šåä¸€æ ·ï¼Œä½†æ˜¯ç‰ˆæœ¬ä¸ä¸€æ ·), åœ¨JVMçœ‹æ¥ï¼Œæœ‰é€šè¿‡è¿™ç§æ–¹å¼åŠ è½½è¿›å»çš„å…·æœ‰ç›¸åŒå…¨ç§°é™å®šåçš„ç±»æ˜¯å®Œå…¨ä¸åŒçš„ã€‚<strong>ä½†æ˜¯åœ¨ä¸šåŠ¡è§†è§’ä¸Šæ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒä»¬çœ‹ä½œæ˜¯ç›¸åŒçš„ç±»ã€‚</strong></p><p>éªŒè¯å”¯ä¸€æ ‡è¯†çš„ä¾‹å­å¯ä»¥çœ‹ä¸Šæ–‡è®¨è®ºåŠ è½½æœºåˆ¶æ—¶æåˆ°çš„å”¯ä¸€æ ‡è¯†ã€‚ä¸‹é¢å†æä¾›ä¸€ä¸ªç®€å•çš„ä¾‹å­:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rovo98.miscExamples.classLoading;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> rovo98</span></span><br><span class="line"><span class="comment"> * date: 2019.04.10 16:21</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DifferentClassLoaders</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Driver the program to test loading the same class using different classloader</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args command-line arguments.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchFieldException,</span></span><br><span class="line"><span class="function">         IllegalAccessException, InstantiationException </span>&#123;</span><br><span class="line">       Class&lt;?&gt; clazz1 = Cat.class;</span><br><span class="line">       String className = <span class="string">&quot;com.rovo98.miscExamples.classLoading.DifferentClassLoaders$Cat&quot;</span>;</span><br><span class="line">       Class&lt;?&gt; clazz2 = <span class="keyword">new</span> MyClassLoader().loadClass(className);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Compare their class name(seems to be the same): &quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;clazz1: &quot;</span> + clazz1.getName());</span><br><span class="line">        System.out.println(<span class="string">&quot;clazz2: &quot;</span> + clazz2.getName());</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Compare their class loader: &quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;clazz1&#x27;s classloader: &quot;</span> + clazz1.getClassLoader());</span><br><span class="line">        System.out.println(<span class="string">&quot;clazz2&#x27;s classloader: &quot;</span> + clazz2.getClassLoader());</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;The static field value: &quot;</span> + Cat.age);</span><br><span class="line">        Cat.age = <span class="number">3</span>; <span class="comment">// change the static field of the class Cat</span></span><br><span class="line">        System.out.println(<span class="string">&quot;And to see the difference: &quot;</span>);</span><br><span class="line">        Field f1 = clazz1.getDeclaredField(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">        f1.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        Field f2 = clazz2.getDeclaredField(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">        f2.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;clazz1&#x27;s static field: &quot;</span> + f1.getInt(clazz1.newInstance()) + <span class="string">&quot;.&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;clazz2&#x27;s static field: &quot;</span> + f2.getInt(clazz2.newInstance()) + <span class="string">&quot;.&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * A simple for testing</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Cat</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> age = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClassLoader</span> <span class="keyword">extends</span> <span class="title">ClassLoader</span> </span>&#123;</span><br><span class="line">        <span class="meta">@SuppressWarnings(&quot;ResultOfMethodCallIgnored&quot;)</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Class&lt;?&gt; loadClass(String name) <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">            String fileName = name.substring(name.lastIndexOf(<span class="string">&quot;.&quot;</span>) + <span class="number">1</span>) + <span class="string">&quot;.class&quot;</span>;</span><br><span class="line">            InputStream is = getClass().getResourceAsStream(fileName);</span><br><span class="line">            <span class="keyword">if</span> (is == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">super</span>.loadClass(name); <span class="comment">// loading the class using system default classloader if MyClassLoader</span></span><br><span class="line">                                              <span class="comment">// can not the specify class.</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[is.available()];</span><br><span class="line">                is.read(b);</span><br><span class="line">                <span class="keyword">return</span> defineClass(name, b, <span class="number">0</span>, b.length);</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">super</span>.loadClass(name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Output</strong>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Compare their class name(seems to be the same): </span><br><span class="line">clazz1: com.rovo98.miscExamples.classLoading.DifferentClassLoaders$Cat</span><br><span class="line">clazz2: com.rovo98.miscExamples.classLoading.DifferentClassLoaders$Cat</span><br><span class="line"></span><br><span class="line">Compare their class loader: </span><br><span class="line">clazz1&#x27;s classloader: sun.misc.Launcher$AppClassLoader@18b4aac2</span><br><span class="line">clazz2&#x27;s classloader: com.rovo98.miscExamples.classLoading.DifferentClassLoaders$MyClassLoader@7f31245a</span><br><span class="line"></span><br><span class="line">The static field value: 2</span><br><span class="line">And to see the difference: </span><br><span class="line">clazz1&#x27;s static field: 3.</span><br><span class="line">clazz2&#x27;s static field: 2.</span><br></pre></td></tr></table></figure><h4 id="23-å®ç°"><a class="markdownIt-Anchor" href="#23-å®ç°"></a> 2.3. å®ç°</h4><p>è™½ç„¶ç±»éš”ç¦»çš„åŸç†å¾ˆç®€å•ï¼Œä½†æ˜¯å®ç°ä¸€ä¸ªé«˜æ€§èƒ½å¯æ‰©å±•çš„é«˜å¯ç”¨çš„éš”ç¦»å®¹å™¨å´ä¸æ˜¯ç®€å•çš„ã€‚å°±æ¯”å¦‚æˆ‘ä»¬éƒ½çŸ¥é“Springå®¹å™¨æœ¬è´¨å°±æ˜¯ä¸€ä¸ªç”Ÿäº§å’Œç®¡ç†<code>Bean</code>çš„é›†åˆå¯¹è±¡ï¼Œä½†æ˜¯å®ƒåŒ…å«äº†å¤§é‡ä¼˜ç§€çš„è®¾è®¡æ¨¡å¼å’Œå¤æ‚çš„æ¡†æ¶å®ç°ã€‚</p><p>ä¸Šæ–‡æåˆ°çš„ç±»éš”ç¦»åº”ç”¨åœºæ™¯æ˜¯åœ¨å†…å­˜è¿è¡Œæ—¶æ‰å‘ç°é—®é¢˜çš„ï¼Œéœ€è¦é€šè¿‡<strong>å†…å­˜éš”ç¦»</strong>æ¥å¤„ç†ã€‚è€Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªå…ˆäº†è§£ä¸€ä¸‹æ›´ä¸ºé€šç”¨å’Œç®€å•çš„å†²çªè§£å†³æ–¹æ³•ã€‚</p><ul><li><strong>å†²çªæ’é™¤</strong></li></ul><p>å†²çªæ€»æ˜¯å‘ç”Ÿåœ¨ç¼–è¯‘æ—¶æœŸï¼Œé‚£ä¹ˆåŸºæœ¬<a href="https://maven.apache.org/">Maven</a>å·¥å…·å¯ä»¥å¸®æˆ‘ä»¬å®Œæˆå¤§éƒ¨åˆ†çš„å·¥ä½œï¼ŒMavençš„å·¥ä½œæ¨¡å¼å°±æ˜¯å°†æˆ‘ä»¬ç¬¬ä¸‰æ–¹ç±»åº“çš„æ‰€æœ‰ä¾èµ–éƒ½ä¾æ¬¡æ£€ç´¢ï¼Œæœ€ç»ˆæ’é™¤æ‰äº§ç”Ÿå†²çªjaråŒ…çš„ç‰ˆæœ¬ã€‚</p><ul><li><strong>å†²çªåŒ¹é…</strong></li></ul><p>å½“æˆ‘ä»¬æ— æ³•é€šè¿‡ç®€å•çš„æ’é™¤æ¥è§£å†³é—®é¢˜çš„æ—¶å€™ï¼Œå¦å¤–ä¸€ä¸ªæ–¹æ³•å°±æ˜¯é‡æ–°è£…é…ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œä¾‹å¦‚é€šè¿‡<a href="https://github.com/shevek/jarjar">jarjar</a>å¼€æºå·¥å…·ç±»å¤„ç†ã€‚å®ƒå¯ä»¥é€šè¿‡å­—èŠ‚ç æŠ€æœ¯å°†æˆ‘ä»¬ä¾èµ–çš„ç¬¬ä¸‰æ–¹ç±»åº“é‡å‘½åï¼ŒåŒæ—¶ä¿®æ”¹ä»£ç é‡Œé¢å¯¹ç¬¬ä¸‰æ–¹ç±»åº“å¼•ç”¨çš„è·¯å¾„ã€‚è¿™æ ·å¦‚æœå‡ºç°åŒåç¬¬ä¸‰æ–¹ç±»åº“çš„è¯ï¼Œé€šè¿‡è¯¥&quot;ç¡¬ç¼–ç â€œçš„æ–¹å¼ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªç±»åº“ï¼Œä»è€Œæ¶ˆé™¤äº†å†²çªã€‚</p><ul><li><strong>å†²çªéš”ç¦»</strong></li></ul><p>ä¸Šé¢çš„ä¸¤ç§æ–¹å¼åœ¨å°å‹ç³»ç»Ÿä¸­æ¯”è¾ƒåˆé€‚ï¼Œä¹Ÿæ¯”è¾ƒæ•æ·é«˜æ•ˆã€‚ä½†æ˜¯å¯¹äºåˆ†å¸ƒå¼å¤§å‹ç³»ç»Ÿçš„è¯ï¼Œé€šè¿‡ç¡¬ç¼–ç æ–¹å¼æ¥è§£å†³å†²çªå°±éš¾ä»¥å®Œæˆäº†ã€‚åŠæ³•æ˜¯é€šè¿‡éš”ç¦»å®¹å™¨ï¼Œä»é€»è¾‘ä¸ŠåŒºåˆ†ç±»åº“çš„ä½œç”¨åŸŸï¼Œä»è€Œå¯¹å†…å­˜çš„ç±»è¿›è¡Œéš”ç¦»ã€‚</p><div class="note primary"><p>misc:</p><ul><li><a href="https://www.jcp.org/en/jsr/detail?id=121">åº”ç”¨ç¨‹åºéš”ç¦»è§„èŒƒ JSR 121 - https://www.jcp.org/en/jsr/detail?id=121</a></li><li><a href="https://www.flux.utah.edu/janos/jsr121-internal-review/java/lang/isolate/package-summary.html">An implementation of JSR 121 - https://www.flux.utah.edu/janos/jsr121-internal-review/java/lang/isolate/package-summary.html</a></li></ul><p>ç›¸å…³å¼€æºé¡¹ç›®:</p><ul><li><a href="https://github.com/chrisgleissner/jisolate">https://github.com/chrisgleissner/jisolate</a></li></ul><p>å‚è€ƒé“¾æ¥:</p><ul><li><a href="https://www.toptal.com/java/java-wizardry-101-a-guide-to-java-class-reloading">https://www.toptal.com/java/java-wizardry-101-a-guide-to-java-class-reloading</a></li><li><a href="https://stackoverflow.com/questions/3726635/using-classloader-for-isolating-two-static-classes">https://stackoverflow.com/questions/3726635/using-classloader-for-isolating-two-static-classes</a></li></ul></div><p>æœ‰å…³äºJVMä¸­ç±»åŠ è½½çš„å†…å®¹å°±å…ˆç®€å•äº†è§£åˆ°è¿™é‡Œäº†ï¼Œåç»­å†æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ·±å…¥å­¦ä¹ å§!ğŸ‘†</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img data-src=&quot;/images/java/basic/class-loading-subsystem.png&quot; alt=&quot;class-loading-subsystem&quot; /&gt;&lt;/p&gt;
&lt;p&gt;äº†è§£Javaä¸­&lt;strong&gt;ç±»çš„ç»“æ„&lt;/strong&gt;(class file struture, è¿™é‡ŒæŒ‡&lt;code&gt;.class&lt;/code&gt;æ–‡ä»¶çš„ç»“æ„)ã€&lt;strong&gt;ç±»çš„åŠ è½½æœºåˆ¶&lt;/strong&gt;ã€&lt;strong&gt;ç±»çš„åŠ è½½è¿‡ç¨‹&lt;/strong&gt;ã€&lt;strong&gt;ç±»åŠ è½½å™¨çš„åº”ç”¨&lt;/strong&gt;ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="http://rovo98.github.io/categories/Java/"/>
    
    
    <category term="JVM" scheme="http://rovo98.github.io/tags/JVM/"/>
    
  </entry>
  
  <entry>
    <title>JDK, JRE, JVM | æ·±å…¥äº†è§£</title>
    <link href="http://rovo98.github.io/posts/12448424/"/>
    <id>http://rovo98.github.io/posts/12448424/</id>
    <published>2019-03-20T04:10:00.000Z</published>
    <updated>2021-09-09T14:11:36.683Z</updated>
    
    <content type="html"><![CDATA[<p>äº†è§£<strong>JDK, JRE, JVMä¹‹é—´çš„åŒºåˆ«</strong>ï¼Œ<strong>JVM</strong>æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿä»€ä¹ˆæ˜¯<strong>ç±»åŠ è½½å™¨</strong>(<em>class loaders</em>), <strong>è§£é‡Šå™¨</strong>(<em>interpreter</em>)å’Œ<strong>åŠæ—¶ç¼–è¯‘å™¨</strong>(<em>JIT compilers</em>)</p><span id="more"></span><h2 id="1-javaç¨‹åºçš„æ‰§è¡Œ"><a class="markdownIt-Anchor" href="#1-javaç¨‹åºçš„æ‰§è¡Œ"></a> 1. Javaç¨‹åºçš„æ‰§è¡Œ</h2><p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å¿«é€Ÿçš„å›é¡¾ä¸€ä¸‹ä¸€ä¸ª<em>Java</em>ç¨‹åºæ˜¯å¦‚ä½•æ‰§è¡Œçš„</p><ol><li>ä½¿ç”¨ä¸€ä¸ªç¼–è¾‘å™¨æˆ–è€…IDE(<strong>integrated development enviroment</strong>, å¦‚<em>Eclipse</em>æˆ–<em>Intellij Idea</em>)ç¼–å†™<em>Java</em>æºä»£ç ï¼Œå‡è®¾æ˜¯<code>Simple.java</code>æ–‡ä»¶ï¼›</li><li>ç¨‹åºéœ€è¦ç¼–è¯‘æˆå­—èŠ‚ç (<em>bytecode</em>)ã€‚ä½¿ç”¨<em>Java</em>ç¼–è¯‘å™¨(<code>javac</code>)å°†æºä»£ç æ–‡ä»¶ç¼–è¯‘æˆ<code>Simple.class</code>æ–‡ä»¶ï¼›</li><li>åœ¨ä»»æ„å¹³å°(e.g.<em>Mac, Windows, Linux</em>)ä¸Šçš„<em>JVM</em>(<strong>java virtual machine</strong>)æ‰§è¡Œ<code>.class</code>æ–‡ä»¶ï¼›</li><li><em>JVM</em>å°†å­—èŠ‚ç ç¿»è¯‘æˆæœ¬æœºæœºå™¨ç (<em>native machine code</em>), èƒ½å¤Ÿè®©æœ¬æœºæ‰§è¡Œã€‚</li></ol><p><img data-src="Java-Execution-Flow.png" alt="java-execution-flow" /></p><h2 id="2-ä»€ä¹ˆæ˜¯jvm"><a class="markdownIt-Anchor" href="#2-ä»€ä¹ˆæ˜¯jvm"></a> 2. ä»€ä¹ˆæ˜¯JVM ?</h2><p><strong>Java virtual machine</strong>(JVM) æ˜¯ç”¨äºè¿è¡Œå­—èŠ‚ç çš„è™šæ‹Ÿæœºã€‚æˆ‘ä»¬é€šè¿‡å°†<em>Java</em>æºä»£ç æ–‡ä»¶ç¼–è¯‘æˆ<code>.class</code>å­—èŠ‚ç æ–‡ä»¶ï¼Œä¹‹åç”±<em>JVM</em>æ‰§è¡Œã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ<em>Java</em>å…·æœ‰**WORA(Write Once Run Anywhere)**ç‰¹æ€§çš„åŸå› ã€‚</p><p>åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œ<em>JVM</em>æ˜¯ä¸€ç§è§„èŒƒ(<em>specification</em>)ï¼Œå®ƒæä¾›ä¸€ç§ä½¿<em>Java</em>å­—èŠ‚ç èƒ½å¤Ÿæ‰§è¡Œçš„è¿è¡Œç¯å¢ƒ(<em>runtime environment</em>)ã€‚ä¸åŒçš„ä¾›åº”å•†è¿™ä¸ªè§„èŒƒçš„ä¸åŒå®ç°ï¼Œä¾‹å¦‚ï¼šè¿™ä¸ª<em>wiki</em>é¡µé¢åˆ—å‡ºçš„å°±æ˜¯<a href="https://en.wikipedia.org/wiki/List_of_Java_virtual_machines">JVMçš„ä¸åŒå®ç°</a>ã€‚</p><p>æœ€æµè¡Œçš„<em>JVM</em>å®ç°æ˜¯ç”±<em>Oracle Corporation</em>æ‹¥æœ‰å’Œæä¾›çš„<a href="https://www.oracle.com/technetwork/java/javase/tech/index-jsp-136373.html">Hotspot</a>ã€‚</p><p><em>JVM</em>ä½¿ç”¨äº†è®¸å¤šçš„å…ˆè¿›æŠ€æœ¯ä¸º<em>Java</em>åº”ç”¨ç¨‹åºæä¾›æœ€ä½³æ€§èƒ½ï¼ŒåŒ…æ‹¬å…ˆè¿›çš„å†…å­˜æ¨¡å‹(<em>memory model</em>)ï¼Œ<strong>åƒåœ¾æ”¶é›†å™¨</strong>(<em>garbage collector</em>)å’Œ<strong>è‡ªé€‚åº”ä¼˜åŒ–å™¨</strong>(<em>adaptive optimizer</em>)ã€‚</p><p><em>JVM</em>æä¾›ä¸¤ç§ä¸åŒçš„ç‰ˆæœ¬ - å®¢æˆ·ç«¯(<code>-client</code>)å’ŒæœåŠ¡å™¨(<code>-server</code>)ã€‚å°½ç®¡å®ƒä»¬å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯æœåŠ¡å™¨ç‰ˆæœ¬<em>JVM</em>ç»è¿‡ä¸“é—¨è°ƒæ•´ï¼Œèƒ½å¤Ÿæœ€å¤§é™åº¦åœ°æé«˜è¿è¡Œé€Ÿåº¦å³°å€¼ï¼Œå®ƒé€‚ç”¨äºåœ¨æœåŠ¡å™¨ä¸Šé•¿æœŸæ‰§è¡Œçš„åº”ç”¨ç¨‹åºï¼Œè¿™äº›åº”ç”¨éœ€è¦çš„æ˜¯å°½å¯èƒ½å¿«çš„è¿è¡Œé€Ÿåº¦ï¼Œè€Œä¸æ˜¯å¿«é€Ÿå¯åŠ¨æˆ–è¾ƒå°çš„è¿è¡Œæ—¶å†…å­˜å ç”¨ã€‚å¼€å‘è€…å¯ä»¥æŒ‡å®š<code>-client</code>æˆ–è€…<code>-server</code>æ¥é€‰æ‹©æƒ³è¦çš„<em>JVM</em>ã€‚</p><p><em>JVM</em>ä¹‹æ‰€ä»¥è¯´æ˜¯è™šæ‹Ÿ(<strong>virtual</strong>)çš„, æ˜¯å› ä¸ºå®ƒæä¾›çš„æœºå™¨æ¥å£(<em>machine interface</em>)ä¸ä¾èµ–äºåº•å±‚çš„æ“ä½œç³»ç»Ÿä»¥åŠæœºå™¨çš„ç¡¬ä»¶æ¶æ„ã€‚</p><h3 id="21-jvm-æ¶æ„"><a class="markdownIt-Anchor" href="#21-jvm-æ¶æ„"></a> 2.1 JVM æ¶æ„</h3><p><em>JVM</em>å¯ä»¥åˆ†æˆä¸‰ä¸ªä¸»è¦çš„å­ç³»ç»Ÿ(<em>subsystem</em>):</p><ol><li>ç±»åŠ è½½å­ç³»ç»Ÿ(<strong>Class Loader Subsystem</strong>)</li><li>è¿è¡Œæ•°æ®åŒº(å†…å­˜åŒº)(<strong>Runtime Data Area</strong> or <strong>Memory Area</strong>)</li><li>æ‰§è¡Œå¼•æ“(<strong>Execution Engine</strong>)</li></ol><p><img data-src="JVM-Architecture.png" alt="JVM-Architecture" /></p><h4 id="ç±»åŠ è½½å­ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#ç±»åŠ è½½å­ç³»ç»Ÿ"></a> ç±»åŠ è½½å­ç³»ç»Ÿ</h4><p>ç±»åŠ è½½å­ç³»ç»Ÿç”¨äºåŠ è½½ç±»æ–‡ä»¶(<em>class file</em>)ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½ä¸º: <strong>åŠ è½½</strong>(<strong>loading</strong>)ã€<strong>é“¾æ¥</strong>(<strong>linking</strong>)ã€<strong>åˆå§‹åŒ–</strong>(<strong>initialization</strong>)ã€‚</p><h5 id="1åŠ è½½loading"><a class="markdownIt-Anchor" href="#1åŠ è½½loading"></a> 1.åŠ è½½(<em>loading</em>)</h5><ul><li>ä¸ºäº†åŠ è½½ç±»æ–‡ä»¶ï¼Œ<em>JVM</em>æä¾›äº†ä¸‰ç§ç±»åŠ è½½å™¨: <strong>Bootstrap</strong>, <strong>extension</strong> å’Œ <strong>application</strong> ç±»åŠ è½½å™¨;</li><li>å½“åŠ è½½ä¸€ä¸ªç±»æ–‡ä»¶æ—¶ï¼Œ<em>JVM</em>éœ€è¦æ‰¾å‡ºè¯¥ç±»çš„ä¾èµ–ï¼›</li><li>é¦–å…ˆï¼Œ<em>bootstrap</em>ç±»åŠ è½½å™¨ä¼šåœ¨<code>$JAVA_HOME/jre/lib</code>ç›®å½•ä¸‹çš„<code>rt.jar</code>åŒ…ä¸­æŸ¥æ‰¾ï¼›</li><li>è‹¥æœ‰ç±»æ–‡ä»¶æœªæ‰¾åˆ°ï¼Œ<em>extension</em>ç±»åŠ è½½å™¨ä¼šåœ¨<code>$JAVA_HOME/jre/lib/ext</code>ç›®å½•ä¸‹çš„ç±»æ–‡ä»¶ï¼›</li><li>è‹¥ä»æœ‰ç±»æ–‡ä»¶æœªæ‰¾åˆ°ï¼Œ<em>application</em>ç±»åŠ è½½å™¨ä¼šæœç´¢æŸ¥æ‰¾<code>CLASSPATH</code>ç¯å¢ƒå˜é‡ä¸‹çš„æ‰€æœ‰ç±»æ–‡ä»¶å’Œ<em>jar</em>åŒ…æ–‡ä»¶ï¼›</li><li>é€šè¿‡è¿™äº›ç±»åŠ è½½æ‰¾åˆ°çš„ç±»æ–‡ä»¶ä¼šè¢«åŠ è½½ï¼Œæ‰¾ä¸åˆ°çš„ç±»æ–‡ä»¶åˆ™ä¼šæŠ›å‡º<code>ClassNotFoundException</code>å¼‚å¸¸ã€‚</li></ul><p>Java<strong>ä¸­ç±»åŠ è½½å™¨çš„åŠ è½½é‡‡ç”¨äº†åŒäº²å§”æ‰˜æœºåˆ¶</strong>(<strong>Delegation-Hierarchy principle</strong>)ã€‚</p><p>å½“ä¸€ä¸ªç±»åŠ è½½æ¥æ”¶åˆ°åŠ è½½ç±»çš„è¯·æ±‚æ—¶ï¼Œé¦–å…ˆä¼šå°†åŠ è½½ä»»åŠ¡å§”æ‰˜ç»™ä¸Šä¸€çº§ç±»åŠ è½½å™¨ï¼Œä¾æ¬¡é€’å½’ï¼Œç›´åˆ°æœ€åçš„<code>Bootstrap ClassLoader</code>ï¼Œè‹¥<code>Boostrap ClassLoader</code>æ‰¾ä¸åˆ°æ—¶ï¼Œåˆ™ä¼šå°†åŠ è½½è¯·æ±‚å§”æ‰˜ç»™ä¸‹ä¸€çº§çš„ç±»åŠ è½½å™¨ï¼Œä¾æ¬¡é€’å½’ï¼Œç›´åˆ°æœ€åçš„<code>Application ClassLoader</code>ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œè‹¥ç±»è¢«æ‰¾åˆ°åˆ™ç›´æ¥è¿”å›ï¼Œæ‰¾ä¸åˆ°åˆ™æœ€ç»ˆä¼šæŠ›å‡ºä¸€ä¸ª<code>java.lang.ClassNotFoundException</code>çš„è¿è¡Œæ—¶å¼‚å¸¸ã€‚</p><p><img data-src="jvmclassloader.jpg" alt="" /></p><p>ä½¿ç”¨è¿™ç§æœºåˆ¶çš„å¥½å¤„éå¸¸å¥½ç†è§£ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†<strong>é¿å…é‡å¤åŠ è½½å·²æœ‰çš„ç±»ï¼Œæé«˜æ•ˆç‡</strong>ï¼Œè¿˜æœ‰å°±æ˜¯å¼ºåˆ¶ä»æœ€é«˜ä¸€çº§å¼€å§‹é€çº§æœç´¢ç±»æ–‡ä»¶ï¼Œ<strong>ç¡®ä¿æ ¸å¿ƒåŸºç¡€ç±»ä¼˜å…ˆåŠ è½½</strong>ã€‚</p><div class="note primary"><p>JVMè§¦å‘ç±»åŠ è½½å™¨å»åŠ è½½å¤–éƒ¨ç±»çš„æƒ…å†µ:</p><ul><li>æ˜¾ç¤ºå­—èŠ‚ç æŒ‡ä»¤é›†(<code>new/getstatic/putstatic/invokestatic</code>): å¯¹åº”çš„åœºæ™¯æ˜¯åˆ›å»ºå¯¹è±¡æˆ–è€…è°ƒç”¨åˆ°ç±»æ–‡ä»¶çš„é™æ€å˜é‡/é™æ€æ–¹æ³•/é™æ€ä»£ç å—ï¼›</li><li>åå°„: é€šè¿‡å¯¹è±¡åå°„è·å–ç±»å¯¹è±¡æ—¶ï¼›</li><li>ç»§æ‰¿: åˆ›å»ºå­ç±»è§¦å‘çˆ¶ç±»åŠ è½½ï¼›</li><li>å…¥å£: åŒ…å«<code>main</code>æ–¹æ³•çš„ç±»é¦–å…ˆåŠ è¢«åŠ è½½ã€‚</li></ul></div><h5 id="2-é“¾æ¥linking"><a class="markdownIt-Anchor" href="#2-é“¾æ¥linking"></a> 2. é“¾æ¥(<em>linking</em>)</h5><p>æ­¤è¿‡ç¨‹åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µ:</p><ol><li><strong>éªŒè¯é˜¶æ®µ</strong>(<strong>Verify</strong>): å­—èŠ‚ç éªŒè¯å™¨(<strong>Bytecode verifier</strong>)ä¼šéªŒè¯ç”Ÿæˆçš„å­—èŠ‚ç æ˜¯å¦æ­£ç¡®ï¼ŒéªŒè¯ä¸é€šè¿‡åˆ™ä¼šæŠ›å‡ºéªŒè¯ï¼›</li></ol><blockquote><p>éªŒè¯é˜¶æ®µå¯¹äºè™šæ‹Ÿæœºçš„ç±»åŠ è½½æœºåˆ¶æ¥è¯´ï¼Œæ˜¯ä¸€ä¸ªéå¸¸é‡è¦ä½†ä¸ä¸€å®šæ˜¯å¿…è¦çš„é˜¶æ®µã€‚å¦‚æœæ‰€è¿è¡Œçš„å…¨éƒ¨ä»£ç éƒ½å·²ç»è¢«åå¤ä½¿ç”¨å’ŒéªŒè¯è¿‡ï¼Œåœ¨å®æ–½é˜¶æ®µå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨<code>-Xverify:none</code>å‚æ•°æ¥å…³é—­å¤§éƒ¨åˆ†çš„ç±»éªŒè¯æªæ–½ï¼Œä»è€Œç¼©çŸ­è™šæ‹Ÿæœºç±»åŠ è½½çš„æ—¶é—´ã€‚</p></blockquote><ol start="2"><li><strong>å‡†å¤‡é˜¶æ®µ</strong>(<strong>Prepare</strong>): ä¸ºç±»ä¸­çš„é™æ€å˜é‡(<em>static variables</em>)<strong>åˆ†é…å†…å­˜ç©ºé—´</strong>, ä½†è¿˜æœªåˆå§‹åŒ–ï¼Œä¹Ÿå°±æ˜¯<code>0</code>æˆ–è€…<code>null</code>ï¼›</li><li><strong>è§£æé˜¶æ®µ</strong>(<strong>Resolve</strong>): å°†æ–¹æ³•åŒº(<strong>Method Area</strong>)çš„æ‰€æœ‰ç¬¦å·å¼•ç”¨(<strong>symbolic memory references</strong>)å…¨éƒ¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨(<strong>Direct Reference</strong>)</li></ol><div class="note primary"><p><strong>ç¬¦å·å¼•ç”¨</strong>(<em>Symbolic Reference</em>): ç¬¦å·å¼•ç”¨ä»¥ä¸€ç»„ç¬¦å·æ¥æè¿°æ‰€å¼•ç”¨çš„ç›®æ ‡ï¼Œç¬¦å·å¼•ç”¨å¯ä»¥æ˜¯ä»»ä½•å½¢å¼çš„å­—é¢é‡ï¼Œç¬¦å·å¼•ç”¨ä¸è™šæ‹Ÿæœºå®ç°çš„å†…å­˜å¸ƒå±€æ— å…³ï¼Œå¼•ç”¨çš„ç›®æ ‡å¹¶ä¸ä¸€å®šå·²ç»åœ¨å†…å­˜ä¸­ã€‚<br /><strong>ç›´æ¥å¼•ç”¨</strong>(<em>Direct Reference</em>): ç›´æ¥å¼•ç”¨å¯ä»¥æ˜¯ç›´æ¥æŒ‡å‘ç›®æ ‡çš„æŒ‡é’ˆã€ç›¸å¯¹åç§»é‡æˆ–æ˜¯ä¸€ä¸ªèƒ½é—´æ¥å®šä½åˆ°ç›®æ ‡çš„å¥æŸ„ã€‚ç›´æ¥å¼•ç”¨ä¸è™šæ‹Ÿæœºå®ç°çš„å†…å­˜å¸ƒå±€ç›¸å…³ï¼ŒåŒä¸€ç¬¦å·å¼•ç”¨åœ¨ä¸åŒçš„è™šæ‹Ÿæœºä¸Šç¿»è¯‘å‡ºæ¥çš„ç›´æ¥å¼•ç”¨ä¸€èˆ¬éƒ½ä¸ç›¸åŒï¼Œå¦‚æœæœ‰äº†ç›´æ¥å¼•ç”¨ï¼Œé‚£å¼•ç”¨çš„ç›®æ ‡å¿…å®šå·²ç»åœ¨å†…å­˜ä¸­å­˜åœ¨ã€‚</p></div><h5 id="3-åˆå§‹åŒ–initialization"><a class="markdownIt-Anchor" href="#3-åˆå§‹åŒ–initialization"></a> 3. åˆå§‹åŒ–(<em>Initialization</em>)</h5><p>ä½œä¸ºç±»åŠ è½½è¿‡ç¨‹çš„æœ€åä¸€ä¸ªé˜¶æ®µï¼Œå®ƒä¸ºæ‰€æœ‰çš„é™æ€å˜é‡èµ‹åˆå€¼ï¼Œå¹¶æ‰§è¡Œé™æ€ä»£ç å—(<em>static blocks</em>)ã€‚</p><h4 id="jvmå†…å­˜åŒºåŸŸ"><a class="markdownIt-Anchor" href="#jvmå†…å­˜åŒºåŸŸ"></a> JVMå†…å­˜åŒºåŸŸ</h4><p>åœ¨ä¸€ä¸ª<em>Java</em>ç¨‹åºæ‰§è¡Œæ—¶ï¼Œ<em>JVM</em>ä¸ºå®ƒå®šäº†è®¸å¤š<strong>è¿è¡Œæ—¶æ•°æ®åŒº</strong>(<strong>runtime data areas</strong>)ã€‚ å…¶ä¸­ä¸€äº›æ•°æ®åŒºåœ¨<em>JVM</em>å¯åŠ¨çš„æ—¶å€™åˆ›å»ºï¼Œå¹¶åœ¨<em>JVM</em>é€€å‡ºçš„æ—¶æ‰ä¼šé”€æ¯(<em>Destroy</em>)ã€‚å…¶ä½™çš„æ•°æ®åŒºæ˜¯æ¯ä¸ªçº¿ç¨‹(<em>Thread</em>)å„è‡ªéƒ½æœ‰çš„ï¼Œåœ¨çº¿ç¨‹åˆ›å»ºçš„æ—¶å€™åˆ›å»ºï¼Œçº¿ç¨‹é€€å‡ºçš„æ—¶å€™é”€æ¯ã€‚</p><blockquote><p>åœ¨ä¸Šé¢ç»™å‡ºçš„<em>JVM</em>æ¶æ„å›¾å°±å¯ä»¥çœ‹åˆ°, æ–¹æ³•åŒº(<em>Method Area</em>)ã€å †åŒº(<em>Heap Area</em>)ã€æœ¬åœ°æ–¹æ³•åŒº(Native Method Area)æ˜¯éšJVMå¯åŠ¨è€Œåˆ›å»ºçš„(ä¸€ä¸ªJVMåªèƒ½æœ‰ä¸€ä¸ª)ï¼› æ ˆåŒº(Stack Area)å’Œç¨‹åºè®¡æ•°å¯„å­˜å™¨(PC Registers)æ˜¯æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰çš„ï¼Œéšçº¿ç¨‹åˆ›å»ºè€Œåˆ›å»ºï¼Œé”€æ¯è€Œé”€æ¯ã€‚</p></blockquote><ol><li><strong>æ–¹æ³•åŒºåŸŸ</strong>(<em>Method Area</em>): æ–¹æ³•åŒºå­˜æ”¾ç±»çš„ç»“æ„æ•°æ®ï¼Œå¦‚è¿è¡Œå¸¸é‡æ± (<strong>runtime constant pool</strong>), å­—æ®µå’Œæ–¹æ³•æ•°æ®ï¼Œæ–¹æ³•çš„ä»£ç ï¼Œæ–¹æ³•ä¹ŸåŒ…æ‹¬ç±»(<em>class</em>)ã€å®ä¾‹(<em>instance</em>)å’Œæ¥å£åˆå§‹åŒ–(<em>interface initialization</em>)çš„æ–¹æ³•ã€‚<br><br>æ–¹æ³•åŒºåœ¨é€»è¾‘ä¸Šå®é™…æ˜¯å †(<em>heap</em>)çš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯ä¸èƒ½è¢«åƒåœ¾æ”¶é›†å™¨æ”¶é›†ï¼Œå°½ç®¡åƒåœ¾æ”¶é›†åœ¨å †ä¸Šæ˜¯å¼ºåˆ¶æ‰§è¡Œçš„ã€‚æ–¹æ³•åŒºçš„å¤§å°å¯ä»¥æ˜¯å›ºå®šçš„ï¼Œæˆ–è€…å¯ä»¥æ ¹æ®éœ€æ±‚è¿›è¡Œæ‰©å±•æˆ–ç¼©å°ï¼Œä¸”å¹¶ä¸è¦æ±‚æ–¹æ³•åŒºçš„å†…å­˜æ˜¯è¿ç»­çš„ã€‚</li></ol><div class="note warning"><p>å¦‚æœæ–¹æ³•åŒºçš„å†…å­˜æ— æ³•æ»¡è¶³åˆ†é…è¯·æ±‚ï¼Œ<em>JVM</em>ä¼šæŠ›å‡ºä¸€ä¸ª<code>OutOfMemoryError</code>ã€‚</p></div><ol start="2"><li><strong>å †åŒºåŸŸ</strong>(<em>Heap Area</em>): å­˜æ”¾ç¨‹åºæ‰§è¡Œåˆ›å»ºçš„æ‰€æœ‰å¯¹è±¡ï¼Œå †ä¸­å­˜æ”¾çš„å¯¹è±¡ä¼šæœ‰<strong>Garbage Collection</strong>æ¥ç®¡ç†å›æ”¶ï¼Œå †çš„å¤§å°å¯ä»¥æ˜¯å›ºå®šï¼Œä¹Ÿå¯ä»¥åŠ¨æ€å¤§å°çš„(å–å†³ç³»ç»Ÿçš„é…ç½®)ï¼Œå¹¶ä¸”ä¸ºå †åˆ†é…çš„å†…å­˜ä¸éœ€è¦æ˜¯è¿ç»­çš„ã€‚</li></ol><div class="note warning"><p>å¦‚æœè‡ªåŠ¨å­˜å‚¨ç®¡ç†ç³»ç»Ÿ(<strong>automatic storage management system</strong>)ç®¡ç†çš„å †å†…å­˜ç©ºé—´æ— æ³•æ»¡è¶³åˆ†é…éœ€æ±‚ï¼Œ<em>JVM</em>ä¼šæŠ›å‡ºä¸€ä¸ª<code>OutOfMemoryError</code>ã€‚<br />å› ä¸ºå¤šä¸ªçº¿ç¨‹(<em>multiple threads</em>)å…±äº«æ–¹æ³•åŒºåŸŸå’Œå †åŒºåŸŸï¼Œæ‰€ä»¥æ•°æ®çš„å­˜å‚¨ä¸æ˜¯çº¿ç¨‹å®‰å…¨(<em>thread-safe</em>)çš„ã€‚</p></div><ol start="3"><li><strong>æ ˆåŒºåŸŸ</strong>(<em>Stack Area</em>): æ¯ä¸ªçº¿ç¨‹å‡æœ‰ä¸€ä¸ªç‹¬ç«‹çš„æ ˆã€‚å¯¹äºæ¯ä¸ªæ–¹æ³•çš„è°ƒç”¨ï¼Œéƒ½ä¼šåœ¨æ ˆä¸­åˆ›å»ºä¸€ä¸ªæ¡ç›®(<em>entry</em>), ç§°ä¸º<strong>æ ˆå¸§</strong>(<em>Stack Frame</em>); æ‰€æœ‰çš„å±€éƒ¨å˜é‡(local variables or thread-local variables)ä¹Ÿä¼šåœ¨æ ˆå†…å­˜ä¸­åˆ›å»ºã€‚<strong>æ ˆåŒºåŸŸæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› ä¸ºå®ƒä¸æ˜¯å…±äº«èµ„æº</strong>ã€‚æ ˆå¸§å¯ä»¥åˆ†ä¸ºä¸‰ç§å­å®ä½“(<em>subentities</em>):<ul><li>å±€éƒ¨å˜é‡æ•°ç»„(<em>Local Variable Array</em>): ä¸æ–¹æ³•ç›¸å…³çš„å±€éƒ¨å˜é‡ï¼Œå®ƒä»¬ç›¸åº”çš„å€¼å°†å­˜æ”¾åœ¨è¿™é‡Œï¼›</li><li>æ“ä½œæ•°æ ˆ(<em>Operand stack</em>): å¦‚æœéœ€è¦æ‰§è¡Œä»»ä½•ä¸­é—´æ“ä½œæ—¶ï¼Œæ“ä½œæ•°æ ˆå……å½“æ‰§è¡Œæ“ä½œçš„è¿è¡Œæ—¶å·¥ä½œåŒº(<em>runtime workspace</em>)ï¼›</li><li>å¸§æ•°æ®(<em>Frame data</em>): å¯¹åº”æ–¹æ³•çš„æ‰€æœ‰ç¬¦å·(<em>Symbols</em>)å‡å­˜æ”¾åœ¨è¿™é‡Œã€‚åœ¨ä»»ä½•å¼‚å¸¸çš„æƒ…å†µä¸‹ï¼Œæ•è·çš„å—ä¿¡æ¯å°†ä¿ç•™åœ¨å¸§æ•°æ®ä¸­ã€‚</li></ul></li></ol><div class="note warning"><ol><li>å¦‚æœçº¿ç¨‹æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯¹æ ˆåŒºåŸŸçš„å†…å­˜éœ€æ±‚æ— æ³•å¾—åˆ°æ»¡è¶³, JVMä¼šæŠ›å‡ºä¸€ä¸ª<code>StackOverflowError</code>å¼‚å¸¸ï¼›</li><li>è‹¥æ ˆåŒºåŸŸå†…å­˜å…è®¸åŠ¨æ€æ‰©å±•ï¼Œå¦‚æœå†…å­˜ä¸è¶³ä»¥å®ç°æ‰©å±•ï¼Œæˆ–è€…å½“å†…å­˜æ— æ³•æ»¡è¶³æ–°åˆ›å»ºçº¿ç¨‹çš„éœ€æ±‚æ—¶ï¼ŒJVMä¼šæŠ›å‡ºä¸€ä¸ª<code>OutOfMemoryError</code>å¼‚å¸¸ã€‚</li></ol></div><ol start="4"><li><strong>ç¨‹åºè®¡æ•°å™¨</strong>(<em>PC Registers</em>): å­˜æ”¾å½“å‰æ‰§è¡Œè¯­å¥çš„ç‰©ç†å†…å­˜åœ°å€ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨ã€‚</li><li><strong>æœ¬åœ°æ–¹æ³•æ ˆ</strong>(<em>Native Method stacks</em>): å­˜æ”¾æœ¬åœ°æ–¹æ³•(<em>native method</em>),ä¿¡æ¯ï¼Œæ¯ä¸ªçº¿ç¨‹åˆ›å»ºæ—¶ï¼Œå¯¹åº”çš„æœ¬åœ°æ–¹æ³•æ ˆä¹Ÿä¼šåˆ›å»ºã€‚</li></ol><div class="note warning"><ol><li>å½“æœ¬åœ°æ–¹æ³•æ ˆæ— æ³•æ»¡è¶³ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œæ—¶çš„éœ€æ±‚æ—¶ï¼ŒJVM ä¼šæŠ›å‡ºä¸€ä¸ª<code>StackOverflowError</code>å¼‚å¸¸ï¼›</li><li>æœ¬åœ°æ–¹æ³•æ ˆçš„å¤§å°å¯ä»¥æ˜¯å›ºå®šä¹Ÿå¯ä»¥æ˜¯åŠ¨æ€çš„ï¼Œå½“æ‰©å±•æœ¬åœ°æ–¹æ³•æ ˆæ—¶æˆ–è€…ä¸ºä¸€ä¸ªæ–°çš„çº¿ç¨‹åˆ›å»ºä¸€ä¸ªåˆå§‹åŒ–çš„æœ¬åœ°æ–¹æ³•æ ˆæ—¶ï¼Œè‹¥å†…å­˜éœ€æ±‚æ— æ³•å¾—åˆ°æ»¡è¶³ï¼ŒJVMä¼šæŠ›å‡º<code>OutOfMemoryError</code>å¼‚å¸¸ã€‚</li></ol></div><h4 id="æ‰§è¡Œå¼•æ“"><a class="markdownIt-Anchor" href="#æ‰§è¡Œå¼•æ“"></a> æ‰§è¡Œå¼•æ“</h4><p>å­˜æ”¾åˆ°<strong>JVMå†…å­˜åŒº(Memory Area)æˆ–è¿è¡Œæ•°æ®åŒº(Runtime Data Area)<strong>ä¸­çš„å­—èŠ‚ç å°†ç”±</strong>æ‰§è¡Œå¼•æ“</strong>(<em>Execution Engine</em>)æ‰§è¡Œã€‚å®ƒä½¿ç”¨ä¸¤ä¸ªå†…å»ºçš„<strong>è§£é‡Šå™¨</strong>(<em>inbuilt interpreter</em>)å’Œä¸€ä¸ª<strong>åŠæ—¶ç¼–è¯‘å™¨</strong>(<em>JIT compiler</em>)æ¥å°†å­—èŠ‚ç è½¬æ¢æˆæœºå™¨ç ï¼Œå¹¶æ‰§è¡Œã€‚</p><p><img data-src="OS-Specific-Interpreters.png" alt="" /></p><blockquote><p>ä¸åŒå¹³å°æœ‰ä¸åŒçš„è§£é‡Šå™¨</p></blockquote><p>åœ¨<em>JVM</em>ä¸­ï¼Œè§£é‡Šå™¨å’Œç¼–è¯‘å™¨éƒ½ç”Ÿæˆæœ¬åœ°ä»£ç (<em>native code</em>),ä½†å®ƒä»¬ç”Ÿæˆä»£ç çš„æ–¹å¼ä¸åŒï¼Œä»£ç ä¼˜åŒ–ä¹Ÿä¸åŒã€‚</p><ol><li><strong>è§£é‡Šå™¨</strong>(<em>Interpreter</em>):<br />JVMè§£é‡Šå™¨æ ¹æ®é¢„å…ˆå®šä¹‰å¥½çš„<strong>JVMæŒ‡ä»¤åˆ°æœºå™¨æŒ‡ä»¤çš„æ˜ å°„</strong>ï¼Œå°†æ¯ä¸€æ¡å­—èŠ‚ç æŒ‡ä»¤éƒ½è½¬æ¢æˆå¯¹åº”çš„æœ¬åœ°æŒ‡ä»¤(<em>native instruction</em>)ã€‚å¹¶ä¸”åœ¨æ²¡æœ‰å¯¹ä»£ç è¿›è¡Œä»»ä½•ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œç›´æ¥æ‰§è¡Œã€‚</li></ol><div class="note primary"><p>è§£é‡Šå™¨è§£é‡Šä»£ç é€Ÿåº¦å¿«ï¼›ä½†æ˜¯æ‰§è¡Œæ…¢(ä»£ç æœªä¼˜åŒ–)ï¼Œä¸”å¯¹äºé‡å¤çš„æ–¹æ³•è°ƒç”¨ï¼Œæ¯æ¬¡éƒ½éœ€è¦é‡æ–°åšè§£é‡Šå†æ‰§è¡Œã€‚</p></div><ol start="2"><li><strong>JIT ç¼–è¯‘å™¨</strong>(<em>JIT compiler</em>):<br />ä¸ºäº†æé«˜æ€§èƒ½ï¼ŒJIT ç¼–è¯‘å™¨ä¼šå°†åˆé€‚çš„å­—èŠ‚ç åºåˆ—(å¦‚ä¸Šé¢æåˆ°çš„é‡å¤æ–¹æ³•è°ƒç”¨ä»£ç ï¼Œä»¥åŠå…¶ä»–çš„é‡å¤ä»£ç )ç¼–è¯‘æˆæœ¬åœ°æœºå™¨ç ï¼Œè¿™äº›æœ¬åœ°æœºå™¨ç å¯ä»¥è¢«é‡å¤ä½¿ç”¨ï¼Œä»¥æ­¤æ¥æé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚<br />JITç¼–è¯‘å™¨ç”±å››ä¸ªéƒ¨åˆ†ç»„æˆ:<ul><li>ä¸­é—´ä»£ç ç”Ÿæˆå™¨(<em>Intermediate Code Generator</em>): ç”¨äºç”Ÿæˆä¸­é—´ä»£ç ï¼›</li><li>ä»£ç ä¼˜åŒ–å™¨(<em>Code Optimizer</em>): ç”¨äºä¼˜åŒ–ä¸Šé¢ç”Ÿæˆçš„ä¸­é—´ä»£ç ï¼›</li><li>ç›®æ ‡ä»£ç ç”Ÿæˆå™¨(<em>Target Code Generator</em>): ç”Ÿæˆæœ¬åœ°æœºå™¨ç ï¼›</li><li>é…ç½®å™¨(<em>Profiler</em>): ä¸€ä¸ªç‰¹æ®Šçš„éƒ¨åˆ†ï¼Œç”¨äºæŸ¥æ‰¾<em>hotspot</em>ä¸­çš„æ–¹æ³•æ˜¯å¦å¤šæ¬¡æ‰§è¡Œã€‚</li></ul></li><li><strong>åƒåœ¾æ”¶é›†å™¨</strong>(<em>Garbage Collector</em>): æ”¶é›†å’Œæ¸…é™¤é‚£äº›ä¸å¯è¾¾å¯¹è±¡(<em>unreferenced objects or dead objects</em>)ã€‚</li></ol><div class="note primary"><p><strong>[è¡¥å……:]</strong></p><ol><li><strong>è§£é‡Šæ‰§è¡Œ</strong>: å°†é«˜çº§è¯­è¨€ç¼–å†™çš„ä»£ç ä¸€æ¡ä¸€æ¡è¯»å–ï¼Œè§£é‡Šæˆç­‰ä»·çš„ä½çº§è¯­è¨€ä»£ç å¹¶åœ¨å¯¹åº”çš„ä½çº§è™šæ‹Ÿæœºä¸Šæ‰§è¡Œï¼Œåœ¨è¯»å–è§£é‡Šä¸‹ä¸€æ¡ä»£ç ï¼Œç›´åˆ°å…¨éƒ¨ä»£ç è§£é‡Šæ‰§è¡Œå®Œæ¯•ã€‚</li><li><strong>ç¼–è¯‘æ‰§è¡Œ</strong>: å°†æ‰€æœ‰çš„ç”±é«˜çº§è¯­è¨€ç¼–å†™çš„ç¨‹åºè¿›è¡Œç¼–è¯‘(è½¬æ¢æˆèƒ½å¤Ÿå®ç°ç­‰ä»·åŠŸèƒ½çš„ä½çº§è¯­è¨€ç¨‹åº)ï¼Œå¹¶åœ¨ä½çº§è™šæ‹Ÿæœºä¸Šæ‰§è¡Œã€‚</li><li><strong>(JIT, Just-in-time)åŠæ—¶ç¼–è¯‘</strong>: ç»“åˆè§£é‡Šæ‰§è¡Œå’Œç¼–è¯‘æ‰§è¡Œçš„ç‰¹ç‚¹ï¼Œå®ƒç¼–è¯‘ä¸€éƒ¨åˆ†ä»£ç ï¼Œæ‰§è¡Œï¼Œå†ç»§ç»­ç¼–è¯‘æ‰§è¡Œ(ä¸æ˜¯ä¸€æ¬¡æ€§ç¼–è¯‘)ã€‚</li></ol><p>è®¡ç®—æœºä½“ç³»ç»“æ„ä¸­å°†è®¡ç®—æœºç³»ç»ŸæŒ‰åŠŸèƒ½åˆ’åˆ†å±‚æ¬¡ç»“æ„:</p><blockquote><p>ç¬¬6çº§(è™šæ‹Ÿæœº) -&gt; åº”ç”¨è¯­è¨€æœºå™¨<br />ç¬¬5çº§(è™šæ‹Ÿæœº) -&gt; é«˜çº§è¯­è¨€æœºå™¨<br />ç¬¬4çº§(è™šæ‹Ÿæœº) -&gt; æ±‡ç¼–è¯­è¨€æœºå™¨<br />ç¬¬3çº§(è™šæ‹Ÿæœº) -&gt; æ“ä½œç³»ç»Ÿæœºå™¨<br />ç¬¬2çº§(ç‰©ç†æœº) -&gt; ä¼ ç»Ÿæœºå™¨è¯­è¨€æœºå™¨<br />ç¬¬1çº§(ç‰©ç†æœº) -&gt; å¾®ç¨‹åºæœºå™¨</p><ol><li>ç¿»è¯‘(<em>Translation</em>): å…ˆç”¨è½¬æ¢ç¨‹åºæŠŠé«˜ä¸€çº§æœºå™¨ä¸Šçš„ç¨‹åºè½¬æ¢ä¸ºä½ä¸€çº§æœºå™¨ä¸Šçš„ç­‰æ•ˆç¨‹åºï¼Œç„¶åå†åœ¨è¯¥ä½çº§æœºå™¨ä¸Šè¿è¡Œï¼Œå®ç°ç¨‹åºçš„åŠŸèƒ½ã€‚</li><li>è§£é‡Š(<em>Interpretation</em>): æ˜¯å¯¹äºé«˜ä¸€çº§æœºå™¨ä¸Šçš„ç¨‹åºçš„<strong>æ¯ä¸€æ¡è¯­å¥æˆ–æŒ‡ä»¤</strong>ï¼Œéƒ½è½¬æˆå»æ‰§è¡Œä½ä¸€çº§æœºå™¨çš„<strong>ä¸€æ®µç­‰æ•ˆç¨‹åº</strong>. æ‰§è¡Œå®Œä¹‹åï¼Œå†å»é«˜ä¸€çº§æœºå™¨å–ä¸‹ä¸€æ¡è¯­å¥æˆ–æŒ‡ä»¤ï¼Œå†è¿›è¡Œè§£é‡Šæ‰§è¡Œï¼Œå¦‚æ­¤åå¤ï¼ŒçŸ¥é“è§£é‡Šæ‰§è¡Œå®Œæ•´ä¸ªç¨‹åºã€‚<br /><strong>åœ¨6çº§å±‚æ¬¡ä¸­ï¼Œä¸€èˆ¬ä¸‹é¢ä¸‰å±‚æ˜¯ç”¨è§£é‡Šå®ç°çš„ï¼Œè€Œä¸Šé¢ä¸‰å±‚æ˜¯ç»å¸¸ä½¿ç”¨ç¿»è¯‘çš„æ–¹å¼ã€‚</strong></li></ol></blockquote></div><h4 id="java-native-interfacejni"><a class="markdownIt-Anchor" href="#java-native-interfacejni"></a> Java Native Interface(JNI)</h4><p>JNIå¤„ç†æœ¬åœ°æ–¹æ³•åº“æ–‡ä»¶(<em>Native Method Libraries</em>)ï¼Œä¸ºæ‰§è¡Œå¼•æ“æä¾›éœ€è¦çš„æœ¬åœ°æ–¹æ³•åº“æ–‡ä»¶ã€‚</p><h4 id="native-method-libraries"><a class="markdownIt-Anchor" href="#native-method-libraries"></a> Native Method Libraries</h4><p>å­˜æ”¾æ‰§è¡Œå¼•æ“éœ€è¦ç”¨åˆ°çš„æœ¬åœ°æ–¹æ³•åº“æ–‡ä»¶çš„ä¸€ä¸ªé›†åˆã€‚</p><h2 id="3-ä»€ä¹ˆæ˜¯jre"><a class="markdownIt-Anchor" href="#3-ä»€ä¹ˆæ˜¯jre"></a> 3. ä»€ä¹ˆæ˜¯JRE ?</h2><p>JRE(<em>Java Runtime Environment</em>, Javaè¿è¡Œç¯å¢ƒ)ä¸€ä¸ªåŒ…å«ä¸€äº›åº“æ–‡ä»¶(jaråŒ…)ã€ç”¨Javaç¼–å†™çš„ç”¨äºè¿è¡Œç¨‹åºçš„ç»„ä»¶å’ŒJavaè™šæ‹Ÿæœºçš„è½¯ä»¶åŒ…ã€‚</p><p>ä¸ºäº†è¿è¡Œä»»ä½•Javaç¨‹åºï¼Œæˆ‘ä»¬è‡³å°‘éœ€è¦åœ¨æˆ‘ä»¬çš„æœºå™¨ä¸Šå®‰è£…<em>JRE</em>ã€‚</p><p><em>JRE</em>ç»‘å®šä»¥ä¸‹ç»„ä»¶:</p><ol><li>Java HotSpot å®¢æˆ·ç«¯è™šæ‹Ÿæœºéœ€è¦ç”¨åˆ°çš„<em>DLL</em>åŠ¨æ€é“¾æ¥åº“æ–‡ä»¶;</li><li>Java HotSpot æœåŠ¡ç«¯è™šæ‹Ÿæœºéœ€è¦ç”¨çš„<em>DLL</em>åŠ¨æ€é“¾æ¥åº“æ–‡ä»¶;</li><li>Java è¿è¡Œç¯å¢ƒç”¨åˆ°çš„<strong>ä»£ç åº“æ–‡ä»¶</strong>(<em>Code libiraries</em>)ã€<strong>å±æ€§è®¾ç½®</strong>(<em>property settings</em>)ä»¥åŠ<strong>èµ„æºæ–‡ä»¶</strong>(<em>resource files</em>)ï¼Œä¾‹å¦‚: <code>rt.jar</code>å’Œ<code>charset.jar</code>;</li><li>Java æ‰©å±•æ–‡ä»¶ï¼Œä¾‹å¦‚: <code>localedata.jar</code>ã€‚</li></ol><p>ä»¥åŠå…¶ä»–çš„å®‰å…¨ç®¡ç†ç”¨åˆ°çš„æ–‡ä»¶ï¼Œ<strong>applets</strong>ä½¿ç”¨çš„<em>jar</em>åŒ…ç­‰ã€‚</p><p>ä¸åŒç³»ç»Ÿå¹³å°ã€64ä½å’Œ32ä½çš„ç³»ç»Ÿæ‹¥æœ‰ä¸åŒçš„JREã€‚</p><h2 id="4-ä»€ä¹ˆæ˜¯jdk"><a class="markdownIt-Anchor" href="#4-ä»€ä¹ˆæ˜¯jdk"></a> 4. ä»€ä¹ˆæ˜¯JDK ?</h2><p>JDK(<em>Java Development Kit</em>, Java å¼€å‘å·¥å…·)ï¼Œå®ƒåŒ…å«<em>JRE</em>, åŒæ—¶åŒ…å«ç”¨äºå¼€å‘Javaç¨‹åºçš„å·¥å…·ã€‚</p><p>ä¸‹é¢åˆ—å‡ºçš„æ˜¯<em>JDK</em>åŒ…å«çš„ä¸€äº›é‡è¦çš„å¼€å‘å·¥å…·:</p><ul><li><strong>appletviewer</strong>: ç”¨äºè¿è¡Œå’Œè°ƒè¯•Java applet ç¨‹åºï¼Œä¸éœ€è¦Webæµè§ˆå™¨ï¼›</li><li><strong>apt</strong>: æ³¨è§£å¤„ç†å·¥å…·(<em>The annotation-processing-tool</em>)ï¼›</li><li><strong>extchecker</strong>: æ£€æµ‹jaråŒ…å†²çªçš„å·¥å…·ï¼›</li><li><strong>javadoc</strong>: æ–‡æ¡£ç”Ÿæˆå·¥å…·ï¼Œå¯ä»¥æ ¹æ®æºä»£ç ç¼–å†™çš„æ³¨é‡Šè‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ï¼›</li><li><strong>jar</strong>: æ‰“åŒ…å·¥å…·ï¼Œç”¨äºå°†ç›¸å…³çš„ç±»åº“æ‰“åŒ…æˆä¸€ä¸ªjaråŒ…æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨äºç®¡ç†jaråŒ…ï¼›</li><li><strong>jarsigner</strong>: jaråŒ…ç­¾åå’ŒéªŒè¯å·¥å…·ï¼›</li><li><strong>javap</strong>: class ç±»æ–‡ä»¶åç¼–è¯‘å™¨(<em>class file disassembler</em>)ï¼›</li><li><strong>javaws</strong>: JNLPç¨‹åº Java Web å¯åŠ¨å™¨ï¼›</li><li><strong>JConsole</strong>: Java ç›‘è§†å’Œç®¡ç†consoleï¼›</li><li><strong>jhat</strong>: Java å †åˆ†æå·¥å…·ï¼›</li><li><strong>jrunscript</strong>: Java å‘½ä»¤è¡Œè„šæœ¬ shellï¼›</li><li><strong>jstack</strong>: ç”¨äºæ‰“å°Javaçº¿ç¨‹æ ˆè¸ªè¿¹çš„å·¥å…·ï¼›</li><li><strong>keytool</strong>: æ“ä½œkeystoreçš„å·¥å…·ï¼›</li><li><strong>policytool</strong>: ç­–ç•¥(policy)ä¿®æ”¹å’Œç®¡ç†å·¥å…·ï¼›</li><li><strong>xjc</strong>: Java API çš„ä¸€éƒ¨åˆ†ï¼ŒJAXB(XML Binding API), æ¥å—XMLæ¨¡å¼(<em>schema</em>)å¹¶ç”ŸæˆJavaç±»ã€‚</li></ul><p>å’Œ<em>JRE</em>ä¸€æ ·ï¼Œ<em>JDK</em>ä¹Ÿæ˜¯å¹³å°ç‹¬ç«‹çš„ï¼Œéœ€è¦ä¸ºä¸åŒçš„æœºå™¨ä¸‹è½½ä¸åŒçš„<em>JDK</em>ã€‚</p><h2 id="5-jdk-jre-jvmä¹‹é—´çš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#5-jdk-jre-jvmä¹‹é—´çš„åŒºåˆ«"></a> 5. JDK, JRE, JVMä¹‹é—´çš„åŒºåˆ«</h2><p>åŸºäºä¸Šé¢çš„è®¨è®ºï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•ä¸‹é¢ä¸€ä¸ªå›¾æ¥å±•ç¤ºå®ƒä»¬çš„å…³ç³»:</p><blockquote><p>JRE = JVM + libraries to run Java application.<br />JDK = JRE + tools to develop Java application.</p></blockquote><p><img data-src="JDK-JRE-JVM.png" alt="" /></p><p>ç®€å•æ¥è¯´ï¼ŒJavaå¼€å‘äººå‘˜éœ€è¦åœ¨æœºå™¨ä¸Šå®‰è£…<em>JDK</em>æ¥å¼€å‘Javaç¨‹åºï¼›å¦‚æœæˆ‘ä»¬åªéœ€è¦èƒ½å¤Ÿè¿è¡ŒJavaç¨‹åºï¼Œåˆ™åªåœ¨æœºå™¨ä¸Šå®‰è£…<em>JRE</em>å³å¯ã€‚</p><p><em>References</em></p><ol><li><em>How JVM Works - JVM Architecture? GeeksforGeeks. October 2016</em>. <a href="https://www.geeksforgeeks.org/jvm-works-jvm-architecture/">https://www.geeksforgeeks.org/jvm-works-jvm-architecture/</a>.</li><li><em>java - What is the difference between JVM, JDK, JRE &amp; OpenJDK? Stack Overflow</em>. <a href="https://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk">https://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk</a>.</li><li><em>The JVM Architecture Explained - DZone Java</em>. <a href="https://dzone.com/articles/jvm-architecture-explained">https://dzone.com/articles/jvm-architecture-explained</a>.</li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;äº†è§£&lt;strong&gt;JDK, JRE, JVMä¹‹é—´çš„åŒºåˆ«&lt;/strong&gt;ï¼Œ&lt;strong&gt;JVM&lt;/strong&gt;æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿä»€ä¹ˆæ˜¯&lt;strong&gt;ç±»åŠ è½½å™¨&lt;/strong&gt;(&lt;em&gt;class loaders&lt;/em&gt;), &lt;strong&gt;è§£é‡Šå™¨&lt;/strong&gt;(&lt;em&gt;interpreter&lt;/em&gt;)å’Œ&lt;strong&gt;åŠæ—¶ç¼–è¯‘å™¨&lt;/strong&gt;(&lt;em&gt;JIT compilers&lt;/em&gt;)&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="http://rovo98.github.io/categories/Java/"/>
    
    
    <category term="JVM" scheme="http://rovo98.github.io/tags/JVM/"/>
    
    <category term="JRE" scheme="http://rovo98.github.io/tags/JRE/"/>
    
    <category term="JDK" scheme="http://rovo98.github.io/tags/JDK/"/>
    
  </entry>
  
  <entry>
    <title>GPGå…¥é—¨ä½¿ç”¨</title>
    <link href="http://rovo98.github.io/posts/7ea77913/"/>
    <id>http://rovo98.github.io/posts/7ea77913/</id>
    <published>2018-11-14T11:08:30.000Z</published>
    <updated>2021-09-09T14:11:36.713Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å¼•å…¥"><a class="markdownIt-Anchor" href="#å¼•å…¥"></a> å¼•å…¥</h3><blockquote><p>gpg  is the OpenPGP part of the GNU Privacy Guard (GnuPG). It is a tool to provide digital encryption and signing services using the OpenPGP standard.<br />gpg features: complete key management and all the bells and whistles you would expect from a full OpenPGP implementation.</p></blockquote><div class="note info"><p><code>GnuPG</code>(GPG) æ˜¯ åŸºäº<code>OpenPGP</code>(ç”± <a href="https://www.ietf.org/rfc/rfc4880.txt">RFC4880</a> å®šä¹‰,ä¹Ÿè¢«ç§°ä¸º<code>PGP</code>)çš„ä¸€ä¸ªå®Œæ•´çš„å’Œå…è´¹çš„å®ç°.æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>GPG</code>æ¥å¯¹æˆ‘ä»¬çš„æ•°æ®å’Œé€šä¿¡è¿›è¡ŒåŠ å¯†ï¼ˆencryptï¼‰å’Œç­¾åï¼ˆsignï¼‰, å®ƒå…·æœ‰é€šç”¨çš„å¯†é’¥ç®¡ç†ç³»ç»Ÿï¼Œä»¥åŠå„ç§å…¬é’¥ç›®å½•çš„è®¿é—®æ¨¡å—. æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ç”¨<code>GPG</code>æä¾›çš„å‘½ä»¤è¡Œå·¥å…·(å½“å‰å®ƒè¿˜æä¾›ä¸åŒå¹³å°ä¸‹çš„å›¾å½¢ç•Œé¢å·¥å…·<em>frontends</em>,ä»¥åŠåº“æ–‡ä»¶<em>libraries</em>)ä¸å…¶ä»–çš„åº”ç”¨è¿›è¡Œç»“åˆ.åŒæ—¶è¿˜å¯¹<code>S/MIME</code>å’Œ<code>SSH(Security Shell)</code>æä¾›æ”¯æŒ.</p></div><span id="more"></span><p>æœ¬æ–‡ä½¿ç”¨ç¯å¢ƒä¸º Linux å‘½ä»¤è¡Œï¼ŒæŒæ¡å‘½ä»¤è¡Œï¼ŒWindow ï¼ˆ<code>Gpg4win</code>ï¼‰ç­‰<a href="https://www.gnupg.org/download/index.html">å…¶ä»–å®¢æˆ·ç«¯</a>ä¹Ÿå¾ˆå®¹æ˜“æŒæ¡ã€‚</p><h3 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h3><p><code>GPG</code>æœ‰ä¸¤ç§å®‰è£…æ–¹å¼ã€‚å¯ä»¥<a href="https://www.gnupg.org/download/index.html">ä¸‹è½½æºç </a>, è‡ªå·±ç¼–è¯‘å®‰è£…:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><p>æ›´æ–¹ä¾¿çš„æ–¹å¼æ˜¯ç›´æ¥å®‰è£…ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶åŒ…:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Arch ç¯å¢ƒ</span><br><span class="line">sudo pacman -S gnupg</span><br><span class="line"></span><br><span class="line"># Debian / Ubuntu ç¯å¢ƒ</span><br><span class="line">sudo apt-get install gnupg</span><br><span class="line"></span><br><span class="line"># Fedora ç¯å¢ƒ</span><br><span class="line">yum install gnupg</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œé”®å…¥ä¸‹é¢çš„å‘½ä»¤:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --help</span><br></pre></td></tr></table></figure><p>å¦‚æœå±å¹•æ˜¾ç¤º GPG çš„å¸®åŠ©ä¿¡æ¯ï¼Œå°±è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚<br /><img data-src="gpg-help.jpg" alt="" /></p><h3 id="å¯†é’¥ç®¡ç†"><a class="markdownIt-Anchor" href="#å¯†é’¥ç®¡ç†"></a> å¯†é’¥ç®¡ç†</h3><p>åœ¨ä½¿ç”¨<code>GPG</code>è¿›è¡ŒåŠ å¯†å’Œç­¾åä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥æ¸…æ¥šçš„çŸ¥é“ï¼Œå®ƒè¿˜æ˜¯ä¸€ä¸ªä¼˜ç§€çš„å¯†é’¥ç®¡ç†å·¥å…·ï¼ˆkey Managerï¼‰.</p><p>å¯ä»¥ä½¿ç”¨<code>gpg --list-keys</code>æŸ¥çœ‹å½“å‰ç®¡ç†çš„æ‰€æœ‰å¯†é’¥.</p><h4 id="ç”Ÿæˆå¯†é’¥å¯¹"><a class="markdownIt-Anchor" href="#ç”Ÿæˆå¯†é’¥å¯¹"></a> ç”Ÿæˆå¯†é’¥å¯¹</h4><p>ä½¿ç”¨<code>gpg --gen-key</code>æˆ–<code>gpg --full-gen-key</code>(è®¾ç½®å®Œæ•´çš„å‚æ•°é…ç½®æ¥ç”Ÿæˆå¯†é’¥å¯¹)</p><p>ä»¥å®Œæ•´çš„ç”Ÿæˆå¯†é’¥å¯¹ä¸ºä¾‹,<code>gpg --full-gen-key</code></p><p>(1).é€‰æ‹©åŠ å¯†çš„ç®—æ³•(é»˜è®¤<code>RSA</code>):</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">gpg (GnuPG) 2.2.11; Copyright (C) 2018 Free Software Foundation, Inc.</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line">Please select what kind of key you want:</span><br><span class="line">   (1) RSA and RSA (default)</span><br><span class="line">   (2) DSA and Elgamal</span><br><span class="line">   (3) DSA (sign only)</span><br><span class="line">   (4) RSA (sign only)</span><br><span class="line">Your selection? </span><br><span class="line"></span><br></pre></td></tr></table></figure><p>(2).é€‰æ‹©å¯†é’¥çš„å¤§å°(é»˜è®¤ 2048 ä½):</p><div class="note warning"><p>å¯†é’¥çš„ä½æ•°è¶Šå¤§ï¼Œå¯¹äºé˜²èŒƒæš´åŠ›ç ´è§£æ”»å‡»å°±è¶Šå®‰å…¨,ä½†æ˜¯å¯¹äºå„ç§ç”¨é€”ï¼Œä½¿ç”¨é»˜è®¤çš„å¤§å°å·²ç»è¶³å¤Ÿäº†ï¼Œå› ä¸ºç»•è¿‡åŠ å¯†æ¯”è¯•å›¾ç ´è§£ä»£ä»·åè€Œæ›´å°‘ä¸€äº›ã€‚æ­¤å¤–ï¼Œéšç€å¯†é’¥å¤§å°çš„å¢åŠ ï¼ŒåŠ å¯†å’Œè§£å¯†å°†å˜æ…¢ï¼Œè¾ƒå¤§çš„å¯†é’¥ä½æ•°å¯èƒ½ä¼šå½±å“ç­¾åçš„é•¿åº¦ã€‚</p></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">RSA keys may be between 1024 and 4096 bits long.</span><br><span class="line">What keysize do you want? (2048) </span><br><span class="line"></span><br></pre></td></tr></table></figure><p>(3). é…ç½®å¯†é’¥çš„å¤±æ•ˆæ—¶é—´(é»˜è®¤ 0, æ°¸ä¸å¤±æ•ˆ)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Please specify how long the key should be valid.</span><br><span class="line">         0 = key does not expire</span><br><span class="line">      &lt;n&gt;  = key expires in n days</span><br><span class="line">      &lt;n&gt;w = key expires in n weeks</span><br><span class="line">      &lt;n&gt;m = key expires in n months</span><br><span class="line">      &lt;n&gt;y = key expires in n years</span><br><span class="line">Key is valid for? (0) </span><br><span class="line">Key does not expire at all</span><br><span class="line">Is this correct? (y/N) y</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>(4). é…ç½®ç”¨æˆ·ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">GnuPG needs to construct a user ID to identify your key.</span><br><span class="line"></span><br><span class="line">Real name: alice</span><br><span class="line">Email address: alice@gmail.com</span><br><span class="line">Comment: A Test case</span><br><span class="line">You selected this USER-ID:</span><br><span class="line">    &quot;alice (A Test case) &lt;alice@gmail.com&gt;&quot;</span><br><span class="line"></span><br><span class="line">Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? </span><br><span class="line"></span><br><span class="line"># æœ€åç¡®è®¤ä¿¡æ¯ï¼Œè‹¥éœ€è¦ä¿®æ”¹å¯è¿›è¡Œæ›´æ–°ï¼ŒæŒ‰Oç¡®è®¤ </span><br></pre></td></tr></table></figure><p>(5). æœ€åè¾“å…¥åŠ å¯†å¯†ç ï¼Œå®Œæˆå¯†é’¥å¯¹çš„ç”Ÿæˆ</p><p><img data-src="gpg-passphrase.png" alt="" /></p><p>æŸ¥çœ‹å½“å‰çš„æ‰€æœ‰å¯†é’¥å¯¹:</p><p><img data-src="gpg-list-keys.jpg" alt="" /></p><h4 id="å¯†é’¥çš„å¯¼å‡ºå’Œå¯¼å…¥"><a class="markdownIt-Anchor" href="#å¯†é’¥çš„å¯¼å‡ºå’Œå¯¼å…¥"></a> å¯†é’¥çš„å¯¼å‡ºå’Œå¯¼å…¥</h4><p>å¯¼å…¥å…¬é’¥/ç§é’¥:</p><p>å…¬é’¥å’Œç§é’¥çš„å¯¼å…¥éƒ½æ˜¯ä½¿ç”¨ä¸€æ ·çš„å‘½ä»¤<code>gpg --import</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#å¯¼å…¥å…¬é’¥</span><br><span class="line">gpg --import rovo98.pub</span><br><span class="line"># å¯¼å…¥ç§é’¥</span><br><span class="line">gpg --import rovo98.pri</span><br></pre></td></tr></table></figure><p>å¯¼å…¥å…¬é’¥ä¹‹åï¼Œåº”è¿›è¡ŒéªŒè¯ã€‚<code>GnuPG</code>æä¾›äº†åŠŸèƒ½å¼ºå¤§çš„ä¿¡ä»»æ¨¡å‹ï¼Œä¸éœ€è¦æˆ‘ä»¬äº²è‡ªéªŒè¯å¯¼å…¥çš„æ¯ä¸€ä¸ªå…¬é’¥ã€‚ä½†æ˜¯ä¸€äº›å…¬é’¥è¿˜æ˜¯éœ€è¦äº²è‡ªè¿›è¡ŒéªŒè¯çš„ï¼Œä¸‹é¢ç®€å•äº†è§£ä¸€ä¸‹å¦‚ä½•å¯¹å¯¼å…¥çš„å…¬é’¥è¿›è¡ŒéªŒè¯ã€‚</p><div class="note danger"><p>é€šè¿‡éªŒè¯å…¬é’¥çš„æŒ‡çº¹ï¼Œç„¶åç­¾åï¼ˆSignï¼‰å…¬é’¥ä»¥å°†å…¶è¯æ˜ä¸ºæœ‰æ•ˆå…¬é’¥æ¥éªŒè¯å¯†é’¥ã€‚å¯ä»¥ä½¿ç”¨<code>--fingerprint</code>å‘½ä»¤è¡Œé€‰é¡¹å¿«é€ŸæŸ¥çœ‹å…¬é’¥çš„æŒ‡çº¹ï¼Œä½†ä¸ºäº†éªŒè¯å…¬é’¥ï¼Œå¿…é¡»å¯¹å…¶è¿›è¡Œç¼–è¾‘ã€‚</p></div><p>ç¼–è¾‘å…¬é’¥ç¤ºä¾‹:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gpg --edit-key blake@cyb.org</span><br><span class="line"></span><br><span class="line">pub  1024D/9E98BC16  created: 1999-06-04 expires: never      trust: -/q</span><br><span class="line">sub  1024g/5C8CBD41  created: 1999-06-04 expires: never     </span><br><span class="line">(1)  Blake (Executioner) &lt;blake@cyb.org&gt;</span><br><span class="line"></span><br><span class="line">Command&gt; fpr</span><br><span class="line">pub  1024D/9E98BC16 1999-06-04 Blake (Executioner) &lt;blake@cyb.org&gt;</span><br><span class="line">             Fingerprint: 268F 448F CCD7 AF34 183E  52D8 9BDE 1A08 9E98 BC16</span><br></pre></td></tr></table></figure><blockquote><p>å…¬é’¥çš„æŒ‡çº¹éªŒè¯éœ€è¦é€šè¿‡å…¬é’¥çš„æ‰€æœ‰è€…è¿›è¡ŒéªŒè¯ã€‚å¯ä»¥é€šè¿‡ç”µè¯æˆ–ä»»ä½•å…¶ä»–æ–¹å¼äº²è‡ªå®Œæˆï¼Œåªè¦èƒ½å¤Ÿå’Œå…¬é’¥çš„çœŸæ­£æ‰€æœ‰è€…è¿›è¡Œè”ç³»å°±è¡Œã€‚<br /><strong>å¦‚æœè·å¾—æŒ‡çº¹ä¸å…¬é’¥æ‰€æœ‰è€…çš„æŒ‡çº¹ç›¸åŒï¼Œæ‰å¯ä»¥ç¡®å®šæˆ‘ä»¬å¾—åˆ°æ˜¯æ­£ç¡®çš„å…¬é’¥å‰¯æœ¬</strong></p></blockquote><p>æ£€æŸ¥æŒ‡çº¹ä¹‹åï¼Œæœ€åè¿›è¡Œå…¬é’¥çš„ç­¾åï¼ˆSignï¼‰å®ŒæˆéªŒè¯ã€‚ç”±äºå…¬é’¥ç­¾åæ˜¯å…¬é’¥åŠ å¯†ä¸­çš„ä¸€ä¸ªå¼±ç‚¹ï¼Œå› æ­¤åœ¨è¿›è¡Œç­¾åéªŒè¯ä¹‹å‰ï¼Œå¿…é¡»ç¡®ä¿æŒ‡çº¹éªŒè¯æ˜¯æ­£ç¡®çš„ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Command&gt;&gt; sign</span><br><span class="line">             </span><br><span class="line">pub  1024D/9E98BC16  created: 1999-06-04 expires: never      trust: -/q</span><br><span class="line">             Fingerprint: 268F 448F CCD7 AF34 183E  52D8 9BDE 1A08 9E98 BC16</span><br><span class="line"></span><br><span class="line">     Blake (Executioner) &lt;blake@cyb.org&gt;</span><br><span class="line"></span><br><span class="line">Are you really sure that you want to sign this key</span><br><span class="line">with your key: <span class="string">&quot;Alice (Judge) &lt;alice@cyb.org&gt;&quot;</span></span><br><span class="line"></span><br><span class="line">Really sign?</span><br></pre></td></tr></table></figure><blockquote><p>ç­¾åä¹‹åï¼Œå¯ä»¥æ£€æŸ¥å…¬é’¥ï¼Œä»¥åˆ—å‡ºå…¶ä¸Šé¢çš„ç­¾åï¼Œå¹¶æŸ¥çœ‹æˆ‘ä»¬æ·»åŠ çš„ç­¾åã€‚å…¬é’¥ä¸Šçš„æ¯ä¸ªç”¨æˆ· ID éƒ½å¯ä»¥å…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè‡ªç­¾åä»¥åŠå·²ç»é€šè¿‡å…¬é’¥éªŒè¯çš„ç­¾åã€‚</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Command&gt; check</span><br><span class="line">uid  Blake (Executioner) &lt;blake@cyb.org&gt;</span><br><span class="line">sig!       9E98BC16 1999-06-04   [self-signature]</span><br><span class="line">sig!       BB7576AC 1999-06-04   Alice (Judge) &lt;alice@cyb.org&gt;</span><br></pre></td></tr></table></figure><p><strong>å¯¼å‡ºå…¬é’¥(Public key)</strong></p><p>è¦å°†å…¬é’¥å‘é€ç»™å¯¹åº”çš„ç”¨æˆ·ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å°†å¯†é’¥å¯¹çš„å…¬é’¥å¯¼å‡ºï¼Œåœ¨<code>GPG</code>ä¸­ä½¿ç”¨<code>gpg --export</code>å‘½ä»¤å¯¼å‡º</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --output alice.gpg --<span class="built_in">export</span> alice@gmail.com</span><br></pre></td></tr></table></figure><p>é»˜è®¤å¯¼å‡ºçš„æ–‡ä»¶æ˜¯ä»¥<strong>äºŒè¿›åˆ¶æ ¼å¼</strong>ä¿å­˜çš„ï¼Œéå¸¸ä¸æ–¹ä¾¿è¿›è¡Œä¼ è¾“ï¼Œå› æ­¤<code>GPG</code>è¿˜æä¾›äº†<code>--armor</code>å‚æ•°æ¥æŒ‡å®šä»¥<code>ASCII</code>ç å½¢å¼å¯¼å‡ºã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --armor --output alice.gpg --<span class="built_in">export</span> alice@gmail.com</span><br></pre></td></tr></table></figure><p><img data-src="gpg-export-pub-key.jpg" alt="" /></p><p><strong>å¯¼å‡ºç§é’¥ï¼ˆPrivate keyï¼‰</strong>:</p><p><code>GPG</code>è¿˜æ”¯æŒå¯¼å‡ºç§é’¥ï¼Œä¸è¿‡æ˜¯å¯¹æ‰€æœ‰çš„ç§é’¥è¿›è¡Œå¯¼å‡ºï¼ŒåŒæ ·å¯ä»¥äºŒè¿›åˆ¶æ ¼å¼æˆ–<code>ASCII</code>æ ¼å¼å¯¼å‡º.</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --export-secret-keys --armor</span><br></pre></td></tr></table></figure><h4 id="ä¸Šä¼ å…¬é’¥"><a class="markdownIt-Anchor" href="#ä¸Šä¼ å…¬é’¥"></a> ä¸Šä¼ å…¬é’¥</h4><p>å…¬é’¥æœåŠ¡å™¨æ˜¯ç½‘ç»œä¸Šä¸“é—¨å‚¨å­˜ç”¨æˆ·å…¬é’¥çš„æœåŠ¡å™¨ã€‚<code>send-keys</code>å‚æ•°å¯ä»¥å°†å…¬é’¥ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --send-keys [ç”¨æˆ·ID] --keyserver [æœåŠ¡å™¨åŸŸå]</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤ï¼Œä½ çš„å…¬é’¥å°±è¢«ä¼ åˆ°äº†æœåŠ¡å™¨ï¼Œç„¶åé€šè¿‡äº¤æ¢æœºåˆ¶ï¼Œæ‰€æœ‰çš„å…¬é’¥æœåŠ¡å™¨æœ€ç»ˆéƒ½ä¼šåŒ…å«ä½ çš„å…¬é’¥ã€‚</p><p>ç”±äºå…¬é’¥æœåŠ¡å™¨æ²¡æœ‰æ£€æŸ¥æœºåˆ¶ï¼Œä»»ä½•äººéƒ½å¯ä»¥ç”¨ä½ çš„åä¹‰ä¸Šä¼ å…¬é’¥ï¼Œæ‰€ä»¥æ²¡æœ‰åŠæ³•ä¿è¯æœåŠ¡å™¨ä¸Šçš„å…¬é’¥çš„å¯é æ€§ã€‚é€šå¸¸ï¼Œä½ å¯ä»¥åœ¨ç½‘ç«™ä¸Šå…¬å¸ƒä¸€ä¸ªå…¬é’¥æŒ‡çº¹ï¼Œè®©å…¶ä»–äººæ ¸å¯¹ä¸‹è½½åˆ°çš„å…¬é’¥æ˜¯å¦ä¸ºçœŸã€‚<code>fingerprint</code>å‚æ•°ç”Ÿæˆå…¬é’¥æŒ‡çº¹ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --fingerprint [ç”¨æˆ·ID]</span><br></pre></td></tr></table></figure><p>ä»å…¬é’¥æœåŠ¡å™¨ä¸Šè·å–å…¬é’¥:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --receive-keys</span><br></pre></td></tr></table></figure><p>è·å–åˆ°çš„å…¬é’¥éœ€è¦è¿›è¡ŒéªŒè¯,å‚è€ƒä¸Šé¢æåˆ°çš„å¯¼å…¥å…¬é’¥çš„éªŒè¯æ–¹å¼ã€‚</p><h3 id="åŠ å¯†å’Œè§£å¯†æ–‡ä»¶"><a class="markdownIt-Anchor" href="#åŠ å¯†å’Œè§£å¯†æ–‡ä»¶"></a> åŠ å¯†å’Œè§£å¯†æ–‡ä»¶</h3><p>åœ¨åŠ å¯†å’Œè§£å¯†æ–‡ä»¶æ—¶ï¼Œå…¬é’¥å’Œç§é’¥å„è‡ªå…·æœ‰ç‰¹å®šçš„ä½œç”¨ã€‚</p><blockquote><p>å…¬é’¥å¯ä»¥è¢«è®¤ä¸ºæ˜¯å¼€æ”¾å¼ä¿é™©ç®±ã€‚å½“é€šè¿‡å…¬é’¥åŠ å¯†æ–‡ä»¶æ—¶ï¼Œè¯¥æ–‡ä»¶è¢«æ”¾å…¥ä¿é™©ç®±ï¼Œå®‰å…¨å…³é—­ï¼Œå¹¶ä¸”ç»„åˆé”ç»è¿‡å¤šæ¬¡æ—‹è½¬å’Œç»„åˆã€‚<br />ç›¸å¯¹åº”çš„ç§é’¥æ˜¯å¯ä»¥é‡æ–°æ‰“å¼€ä¿é™©ç®±å¹¶æ£€ç´¢æ–‡ä»¶çš„ç»„åˆ(ç»„åˆé”ç»„åˆ)ã€‚æ¢å¥è¯è¯´ï¼Œä¹‹åæŒæœ‰ç§é’¥çš„äººæ‰èƒ½æ¢å¤å’Œä½¿ç”¨ç›¸å…³å…¬é’¥åŠ å¯†æ–‡ä»¶ã€‚</p></blockquote><div class="note info"><p>å› æ­¤åŠ è§£å¯†è¿‡ç¨‹åº”è¯¥æ˜¯è¿™æ ·çš„ï¼Œå‡è®¾ä½ è¦ç»™<code>alice</code>å‘é€åŠ å¯†ä¿¡æ¯ï¼Œä½¿ç”¨<code>alice</code>çš„å…¬é’¥å¯¹ä¿¡æ¯è¿›è¡ŒåŠ å¯†ï¼Œåˆ™<code>alice</code>å¯ä»¥ä½¿ç”¨å¥¹çš„ç§é’¥å¯¹åŠ å¯†ä¿¡æ¯è¿›è¡Œè§£å¯†ï¼Œè€Œå½“å¥¹å‘ä½ å‘é€åŠ å¯†ä¿¡æ¯ï¼ŒåŠ å¯†ä¿¡æ¯æ—¶ä½¿ç”¨çš„åº”è¯¥æ˜¯ä½ çš„å…¬é’¥ã€‚</p></div><p>åŠ å¯†ä¾‹å­: ä½¿ç”¨<code>alice</code>çš„å…¬é’¥å¯¹<code>sourceListforKali</code>è¿›è¡ŒåŠ å¯†</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --output sourceListforKali.en --encrypt sourceListforKali --recipient alice@gmail.com</span><br></pre></td></tr></table></figure><p><code>--recipient</code>æŒ‡å®šä½¿ç”¨çš„å…¬é’¥</p><p>è§£å¯†:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --output sourceListforKali.de --decrypt sourceListforKali.en</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä¹‹å‰åˆ›å»ºè¯¥å¯†é’¥å¯¹çš„å¯†ç å°±å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œè§£å¯†ã€‚</p><p><img data-src="gpg-encrypt-decrypt.jpg" alt="" /></p><div class="note warning"><p>æˆ‘ä»¬è¿˜å¯ä»¥åœ¨ä¸ä½¿ç”¨å…¬é’¥çš„æƒ…å†µä¸‹ï¼Œå¯¹æ–‡ä»¶è¿›è¡ŒåŠ å¯†ï¼Œä½¿ç”¨çš„æ˜¯å¯¹ç§°å¯†ç ï¼ˆsymmetric chiperï¼‰ã€‚ä½¿ç”¨<code>--symmetric</code>å‚æ•°å³å¯</p><p>æ‰‹åŠ¨è¾“å…¥åŠ å¯†å¯†ç å³å¯ã€‚</p></div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --output sourceListforKali.gpg --symmetric sourceListforKali</span><br></pre></td></tr></table></figure><h3 id="ç­¾åsignatures"><a class="markdownIt-Anchor" href="#ç­¾åsignatures"></a> ç­¾å(signatures)</h3><p>æ•°å­—ç­¾åè¯æ˜æ–‡æ¡£å¹¶ä¸ºå…¶åŠ ä¸Šæ—¶é—´æˆ³ã€‚å¦‚æœéšåä»¥ä»»ä½•æ–¹å¼ä¿®æ”¹äº†æ–‡æ¡£ï¼Œåˆ™ç­¾åéªŒè¯å°†å¤±è´¥ã€‚æ•°å­—ç­¾åå¯ä»¥èµ·åˆ°ä¸æ‰‹å†™ç­¾åç›¸åŒçš„ä½œç”¨ï¼Œå¹¶å…·æœ‰é˜²ç¯¡æ”¹çš„é¢å¤–å¥½å¤„ã€‚</p><p>ä¾‹å¦‚ï¼šå½“ä½ å°†æ–‡ä»¶ç­¾åå¹¶å‘å¸ƒåï¼Œåˆ™æ¥å—åˆ°è¯¥æ–‡ä»¶çš„ç”¨æˆ·å¯ä»¥éªŒè¯ç­¾åæ¥æŸ¥çœ‹æ–‡ä»¶æ˜¯å¦è¢«ä¿®æ”¹è¿‡ã€‚</p><h4 id="åˆ›å»ºå’ŒéªŒè¯ç­¾å"><a class="markdownIt-Anchor" href="#åˆ›å»ºå’ŒéªŒè¯ç­¾å"></a> åˆ›å»ºå’ŒéªŒè¯ç­¾å</h4><p>åˆ›å»ºå’ŒéªŒè¯ç­¾åä½¿ç”¨å…¬/ç§é’¥å¯¹çš„æ–¹å¼ä¸åŒäºåŠ è§£å¯†æ“ä½œã€‚ä½¿ç”¨ç­¾åè€…çš„ç§é’¥åˆ›å»ºç­¾åï¼Œä½¿ç”¨ç›¸åº”çš„å…¬é’¥éªŒè¯ç­¾åã€‚</p><p>ä½¿ç”¨æ•°å­—ç­¾åçš„å¥½å¤„æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç­¾åäººæ˜¯ç¡®å®šçš„ï¼Œé™¤éç­¾åè€…çš„ç§é’¥è¢«æ³„éœ²äº†ã€‚</p><p>ä½¿ç”¨<code>--sign</code>å‚æ•°åˆ›å»ºæ•°å­—ç­¾åï¼Œä¾‹:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gpg --output doc.sig --sign doc</span><br><span class="line">You need a passphrase to unlock the private key <span class="keyword">for</span></span><br><span class="line">user: <span class="string">&quot;Alice (Judge) &lt;alice@cyb.org&gt;&quot;</span></span><br><span class="line">1024-bit DSA key, ID BB7576AC, created 1999-06-04</span><br><span class="line"></span><br><span class="line">Enter passphrase: </span><br></pre></td></tr></table></figure><p>ç­¾åçš„æ–‡ä»¶åœ¨ç­¾åä¹‹å‰ä¼šè¢«è¿›è¡Œå‹ç¼©å¤„ç†ï¼Œå¹¶è¾“å‡ºä¸€ä¸ªäºŒè¿›åˆ¶æ ¼å¼çš„ç­¾åæ–‡ä»¶ã€‚æ ¹æ®ç»™å®šçš„ç­¾åæ–‡ä»¶ï¼Œå¯ä»¥æ£€æŸ¥ç­¾åæˆ–æ£€æŸ¥ç­¾åå¹¶æ¢å¤åŸå§‹æ–‡ä»¶ã€‚</p><p>æ£€æŸ¥å’ŒéªŒè¯ç­¾åä½¿ç”¨<code>--verify</code>å‚æ•°é€‰é¡¹,éªŒè¯ç­¾åå¹¶æ¢å¤åŸå§‹æ–‡ä»¶ä½¿ç”¨<code>--decrypt</code>é€‰é¡¹:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gpg --output doc --decrypt doc.sig</span><br><span class="line">gpg: Signature made Fri Jun  4 12:02:38 1999 CDT using DSA key ID BB7576AC</span><br><span class="line">gpg: Good signature from <span class="string">&quot;Alice (Judge) &lt;alice@cyb.org&gt;&quot;</span></span><br></pre></td></tr></table></figure><div class="note danger"><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ•°å­—ç­¾åå¤šæ•°åº”ç”¨äºå¯¹äº’è”ç½‘ä¸Šçš„å¸–å­ <em>post</em> ä»¥åŠ <em>email</em> è¿›è¡Œç­¾åã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸å¸Œæœ›å¯¹éœ€è¦ç­¾åçš„æ–‡ä»¶è¿›è¡Œå‹ç¼©å¤„ç†ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨<code>--clearsign</code>é€‰é¡¹ï¼Œåœ¨ä¸ä¿®æ”¹æ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œå°†æ–‡ä»¶ä»¥<code>ASCII</code>çš„å½¢å¼åŒ…è£…åœ¨ç­¾åæ–‡ä»¶ä¸­ã€‚</p></div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">gpg --clearsign doc</span><br><span class="line"></span><br><span class="line">You need a passphrase to unlock the secret key <span class="keyword">for</span></span><br><span class="line">user: <span class="string">&quot;Alice (Judge) &lt;alice@cyb.org&gt;&quot;</span></span><br><span class="line">1024-bit DSA key, ID BB7576AC, created 1999-06-04</span><br><span class="line"></span><br><span class="line">-----BEGIN PGP SIGNED MESSAGE-----</span><br><span class="line">Hash: SHA1</span><br><span class="line"></span><br><span class="line">[...]</span><br><span class="line">-----BEGIN PGP SIGNATURE-----</span><br><span class="line">Version: GnuPG v0.9.7 (GNU/Linux)</span><br><span class="line">Comment: For info see http://www.gnupg.org</span><br><span class="line"></span><br><span class="line">iEYEARECAAYFAjdYCQoACgkQJ9S6ULt1dqz6IwCfQ7wP6i/i8HhbcOSKF4ELyQB1</span><br><span class="line">oCoAoOuqpRqEzr4kOkQqHRLE/b8/Rw2k</span><br><span class="line">=y6kj</span><br><span class="line">-----END PGP SIGNATURE-----</span><br></pre></td></tr></table></figure><div class="note primary"><p>åˆ†ç¦»çš„ã€ç‹¬ç«‹çš„ç­¾åæ–‡ä»¶ï¼ˆ<em>Detached signatures</em>ï¼‰: ä¸€ä¸ªç­¾åè¿‡çš„æ–‡ä»¶çš„ç”¨é€”ä¸€èˆ¬æ˜¯å¾ˆå°‘çš„ã€‚</p><p>å…¶ä»–ç”¨æˆ·å¿…é¡»ä»ç­¾åæ–‡ä»¶ä¸­æ¢å¤åŸå§‹æ–‡æ¡£ï¼Œå³ä½¿ä½¿ç”¨æœªå‹ç¼©å¤„ç†çš„ç­¾åæ–‡ä»¶ï¼ˆClearsignedï¼‰ï¼Œä¹Ÿå¿…é¡»ç¼–è¾‘ç­¾åæ–‡æ¡£ä»¥æ¢å¤åŸå§‹æ–‡æ¡£ã€‚</p><p>å› æ­¤ï¼Œ<code>GPG</code>è¿˜æä¾›ç”¨äºå¯¹æ–‡æ¡£åˆ›å»ºåˆ†ç¦»ç­¾åç¬¬ä¸‰ç§ç­¾åæ–¹æ³•ï¼Œè¯¥ç­¾åæ˜¯å•ç‹¬çš„æ–‡ä»¶ã€‚ä½¿ç”¨<code>--detach-sig</code>é€‰é¡¹åˆ›å»ºåˆ†ç¦»ç­¾åã€‚</p></div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gpg --output doc.sig --detach-sig doc</span><br><span class="line"></span><br><span class="line">You need a passphrase to unlock the secret key <span class="keyword">for</span></span><br><span class="line">user: <span class="string">&quot;Alice (Judge) &lt;alice@cyb.org&gt;&quot;</span></span><br><span class="line">1024-bit DSA key, ID BB7576AC, created 1999-06-04</span><br><span class="line"></span><br><span class="line">Enter passphrase: </span><br></pre></td></tr></table></figure><p>é€šè¿‡æ­¤æ–¹æ³•åˆ›å»ºçš„ç­¾åï¼Œåœ¨éªŒè¯æ—¶å°±éœ€è¦åŒæ—¶ä½¿ç”¨ç­¾åå’Œå¯¹åº”åŸæ–‡ä»¶:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gpg --verify doc.sig doc</span><br><span class="line"></span><br><span class="line">gpg: Signature made Fri Jun  4 12:38:46 1999 CDT using DSA key ID BB7576AC</span><br><span class="line">gpg: Good signature from <span class="string">&quot;Alice (Judge) &lt;alice@cyb.org&gt;&quot;</span></span><br></pre></td></tr></table></figure><h3 id="æ›´å¤š"><a class="markdownIt-Anchor" href="#æ›´å¤š"></a> æ›´å¤š</h3><p>ä»¥ä¸Šå°±æ˜¯<code>GnuPG</code>çš„ç®€å•å…¥é—¨ä½¿ç”¨ï¼Œæ›´å¤šçš„å¯ä»¥è¯¦ç»†é˜…è¯»<code>GnuPG</code>æä¾›çš„<a href="https://www.gnupg.org/documentation/index.html">ç”¨æˆ·æ‰‹å†Œå’Œæ–‡æ¡£</a>.</p><p>ä¾‹å¦‚: æˆ‘ä»¬å¯ä»¥åœ¨åŠ å¯†æ–‡ä»¶çš„åŒæ—¶å¯¹æ–‡ä»¶è¿›è¡Œç­¾å(ä½¿ç”¨ä¸‰ç§ç­¾åæ–¹æ³•çš„å…¶ä¸­ä¸€ç§)</p><div class="note primary"><p>å‚è€ƒé“¾æ¥:</p><ul><li><a href="https://www.gnupg.org/gph/en/manual.html">https://www.gnupg.org/gph/en/manual.html</a></li><li><a href="https://futureboy.us/pgp.html">https://futureboy.us/pgp.html</a></li></ul></div>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;å¼•å…¥&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å¼•å…¥&quot;&gt;&lt;/a&gt; å¼•å…¥&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;gpg  is the OpenPGP part of the GNU Privacy Guard (GnuPG). It is a tool to provide digital encryption and signing services using the OpenPGP standard.&lt;br /&gt;
gpg features: complete key management and all the bells and whistles you would expect from a full OpenPGP implementation.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;note info&quot;&gt;&lt;p&gt;&lt;code&gt;GnuPG&lt;/code&gt;(GPG) æ˜¯ åŸºäº&lt;code&gt;OpenPGP&lt;/code&gt;(ç”± &lt;a href=&quot;https://www.ietf.org/rfc/rfc4880.txt&quot;&gt;RFC4880&lt;/a&gt; å®šä¹‰,ä¹Ÿè¢«ç§°ä¸º&lt;code&gt;PGP&lt;/code&gt;)çš„ä¸€ä¸ªå®Œæ•´çš„å’Œå…è´¹çš„å®ç°.æˆ‘ä»¬å¯ä»¥ä½¿ç”¨&lt;code&gt;GPG&lt;/code&gt;æ¥å¯¹æˆ‘ä»¬çš„æ•°æ®å’Œé€šä¿¡è¿›è¡ŒåŠ å¯†ï¼ˆencryptï¼‰å’Œç­¾åï¼ˆsignï¼‰, å®ƒå…·æœ‰é€šç”¨çš„å¯†é’¥ç®¡ç†ç³»ç»Ÿï¼Œä»¥åŠå„ç§å…¬é’¥ç›®å½•çš„è®¿é—®æ¨¡å—. æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ç”¨&lt;code&gt;GPG&lt;/code&gt;æä¾›çš„å‘½ä»¤è¡Œå·¥å…·(å½“å‰å®ƒè¿˜æä¾›ä¸åŒå¹³å°ä¸‹çš„å›¾å½¢ç•Œé¢å·¥å…·&lt;em&gt;frontends&lt;/em&gt;,ä»¥åŠåº“æ–‡ä»¶&lt;em&gt;libraries&lt;/em&gt;)ä¸å…¶ä»–çš„åº”ç”¨è¿›è¡Œç»“åˆ.åŒæ—¶è¿˜å¯¹&lt;code&gt;S/MIME&lt;/code&gt;å’Œ&lt;code&gt;SSH(Security Shell)&lt;/code&gt;æä¾›æ”¯æŒ.&lt;/p&gt;
&lt;/div&gt;</summary>
    
    
    
    <category term="Linux" scheme="http://rovo98.github.io/categories/Linux/"/>
    
    <category term="softwares" scheme="http://rovo98.github.io/categories/Linux/softwares/"/>
    
    
    <category term="linux" scheme="http://rovo98.github.io/tags/linux/"/>
    
  </entry>
  
</feed>
